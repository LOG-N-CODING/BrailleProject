/*! For license information please see main.af1b75a3.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),s=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,D=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},M=[],F=-1;function V(e){return{current:e}}function B(e){0>F||(e.current=M[F],M[F]=null,F--)}function U(e,t){F++,M[F]=e.current,e.current=t}var $=V(null),z=V(null),q=V(null),H=V(null);function W(e,t){switch(U(q,t),U(z,e),U($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),U($,e)}function G(){B($),B(z),B(q)}function K(e){null!==e.memoizedState&&U(H,e);var t=$.current,n=id(t,e.type);t!==n&&(U(z,e),U($,n))}function Q(e){z.current===e&&(B($),B(z)),H.current===e&&(B(H),Kd._currentValue=O)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/fe|0)|0},pe=Math.log,fe=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=ve(r):0!==(a&=o)?s=ve(a):n||0!==(n=o&~e)&&(s=ve(n)):0!==(o=r&~i)?s=ve(o):0!==a?s=ve(a):n||0!==(n=r&~e)&&(s=ve(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ie,Re="__reactProps$"+Ie,De="__reactContainer$"+Ie,Le="__reactEvents$"+Ie,Oe="__reactListeners$"+Ie,Me="__reactHandles$"+Ie,Fe="__reactResources$"+Ie,Ve="__reactMarker$"+Ie;function Be(e){delete e[Pe],delete e[Re],delete e[Le],delete e[Oe],delete e[Me]}function Ue(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ve]=!0}var We=new Set,Ge={};function Ke(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,Y.call(et,s)||!Y.call(Ze,s)&&(Je.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function ft(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Nt(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Dt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Re]||null;if(!s)throw Error(a(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Ot(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Rt)&&(Uc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ft)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Rh){Vt=!1}var Ut=null,$t=null,zt=null;function qt(){if(zt)return zt;var e,t,n=$t,r=n.length,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return zt=s.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Wt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Kt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Kt(nn),sn=Kt(h({},nn,{dataTransfer:0})),an=Kt(h({},en,{relatedTarget:0})),on=Kt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return mn}var fn=Kt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Kt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var Nn=Ft&&"TextEvent"in window&&!Sn,Cn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Tn=!1;function jn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function On(e){Ou(e,0)}function Mn(e){if(ht(ze(e)))return e}function Fn(e,t){if("change"===e)return t}var Vn=!1;if(Ft){var Bn;if(Ft){var Un="oninput"in document;if(!Un){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Un="function"===typeof $n.oninput}Bn=Un}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function zn(){Dn&&(Dn.detachEvent("onpropertychange",qn),Ln=Dn=null)}function qn(e){if("value"===e.propertyName&&Mn(Ln)){var t=[];Rn(t,Ln,e,It(e)),Ot(On,t)}}function Hn(e,t,n){"focusin"===e?(zn(),Ln=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&zn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Ln)}function Gn(e,t){if("click"===e)return Mn(t)}function Kn(e,t){if("input"===e||"change"===e)return Mn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Y.call(t,s)||!Qn(e[s],t[s]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,ir=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==mt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(sr,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var mr=hr("animationend"),pr=hr("animationiteration"),fr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Er=0,Tr=0;function jr(){for(var e=Er,t=Tr=Er=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var s=Cr[t];Cr[t++]=null;var i=Cr[t];if(Cr[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Pr(n,s,i)}}function _r(e,t,n,r){Cr[Er++]=e,Cr[Er++]=t,Cr[Er++]=n,Cr[Er++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return _r(e,t,n,r),Rr(e)}function Ir(e,t){return _r(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-me(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<Pc)throw Pc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Lr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,s,i){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Or(31,n,t,s)).elementType=T,e.lanes=i,e;case g:return Ur(n.children,s,i,t);case y:o=8,s|=24;break;case v:return(e=Or(12,n,t,2|s)).elementType=v,e.lanes=i,e;case S:return(e=Or(13,n,t,s)).elementType=S,e.lanes=i,e;case N:return(e=Or(19,n,t,s)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case k:o=11;break e;case C:o=14;break e;case E:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function zr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Wr=null,Gr=0,Kr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Hr++]=Gr,qr[Hr++]=Wr,Wr=e,Gr=t}function es(e,t,n){Kr[Qr++]=Xr,Kr[Qr++]=Jr,Kr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var s=32-me(r)-1;r&=~(1<<s),n+=1;var i=32-me(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xr=1<<32-me(t)+s|n<<s|r,Jr=i+e}else Xr=1<<i|n<<s|r,Jr=e}function ts(e){null!==e.return&&(Zr(e,1),es(e,1,0))}function ns(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Gr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Kr[--Qr],Kr[Qr]=null,Jr=Kr[--Qr],Kr[Qr]=null,Xr=Kr[--Qr],Kr[Qr]=null}var rs=null,ss=null,is=!1,as=null,os=!1,ls=Error(a(519));function cs(e){throw fs(Nr(Error(a(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Mu(Du[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||cs(e)}function ds(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:rs=rs.return}}function hs(e){if(e!==rs)return!1;if(!is)return ds(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,md(e.type)?(e=vd,vd=null,ss=e):ss=n):ss=rs?yd(e.stateNode.nextSibling):null;return!0}function ms(){ss=rs=null,is=!1}function ps(){var e=as;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),as=null),e}function fs(e){null===as?as=[e]:as.push(e)}var gs=V(null),ys=null,vs=null;function bs(e,t,n){U(gs,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=gs.current,B(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),ws(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ss(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(0!==(524288&s.flags))i=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Qn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===H.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}s=s.return}null!==e&&ks(t,e,n,r),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){ys=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Es(e){return js(ys,e)}function Ts(e,t){return null===ys&&Cs(e),js(e,t)}function js(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var _s="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},As=r.unstable_scheduleCallback,Is=r.unstable_NormalPriority,Ps={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rs(){return{controller:new _s,data:new Map,refCount:0}}function Ds(e){e.refCount--,0===e.refCount&&As(Is,function(){e.controller.abort()})}var Ls=null,Os=0,Ms=0,Fs=null;function Vs(){if(0===--Os&&null!==Ls){null!==Fs&&(Fs.status="fulfilled");var e=Ls;Ls=null,Ms=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bs=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ls){var n=Ls=[];Os=0,Ms=_u(),Fs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Os++,t.then(Vs,Vs)}(0,t),null!==Bs&&Bs(e,t)};var Us=V(null);function $s(){var e=Us.current;return null!==e?e:rc.pooledCache}function zs(e,t){U(Us,null===t?Us.current:t.pool)}function qs(){var e=$s();return null===e?null:{parent:Ps._currentValue,pool:e}}var Hs=Error(a(460)),Ws=Error(a(474)),Gs=Error(a(542)),Ks={then:function(){}};function Qs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ys(){}function Xs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ys,Ys),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ys,Ys);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Js=t,Hs}}var Js=null;function Zs(){if(null===Js)throw Error(a(459));var e=Js;return Js=null,e}function ei(e){if(e===Hs||e===Gs)throw Error(a(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return _r(e,r,t,n),Rr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fs)throw Fs}}function ui(e,t,n,r){li=!1;var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var m=-536870913&o.lane,p=m!==o.lane;if(p?(ic&m)===m:(r&m)===m){0!==m&&m===Ms&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;m=t;var y=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(y,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=g.payload)?f.call(y,d,m):f)||void 0===m)break e;d=h({},d,m);break e;case 2:ti=!0}}null!==(m=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=m;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===i&&(s.shared.lanes=0),mc|=a,e.lanes=a,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var mi=V(null),pi=V(0);function fi(e,t){U(pi,e=dc),U(mi,t),dc=e|t.baseLanes}function gi(){U(pi,dc),U(mi,mi.current)}function yi(){dc=pi.current,B(mi),B(pi)}var vi=0,bi=null,xi=null,wi=null,ki=!1,Si=!1,Ni=!1,Ci=0,Ei=0,Ti=null,ji=0;function _i(){throw Error(a(321))}function Ai(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ii(e,t,n,r,s,i){return vi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ha:Wa,Ni=!1,i=n(r,s),Ni=!1,Si&&(i=Ri(t,n,r,s)),Pi(e),i}function Pi(e){D.H=qa;var t=null!==xi&&null!==xi.next;if(vi=0,wi=xi=bi=null,ki=!1,Ei=0,Ti=null,t)throw Error(a(300));null===e||To||null!==(e=e.dependencies)&&Ns(e)&&(To=!0)}function Ri(e,t,n,r){bi=e;var s=0;do{if(Si&&(Ti=null),Ei=0,Si=!1,25<=s)throw Error(a(301));if(s+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Ga,i=t(n,r)}while(Si);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Bi(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Li(){var e=0!==Ci;return Ci=0,e}function Oi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}vi=0,wi=xi=bi=null,Si=!1,Ei=Ci=0,Ti=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function Vi(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function Bi(e){var t=Ei;return Ei+=1,null===Ti&&(Ti=[]),e=Xs(Ti,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ha:Wa),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bi(e);if(e.$$typeof===w)return Es(e)}throw Error(a(438,String(e)))}function $i(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function zi(e,t){return"function"===typeof t?t(e):t}function qi(e){return Hi(Vi(),xi,e)}function Hi(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ms&&(d=!0);else{if((vi&m)===m){u=u.next,m===Ms&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=m,mc|=m}h=u.action,Ni&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=i):c=c.next=m,bi.lanes|=h,mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Qn(i,e.memoizedState)&&(To=!0,d&&null!==(n=Fs)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wi(e){var t=Vi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Qn(i,t.memoizedState)||(To=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,s=Vi(),i=is;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((xi||s).memoizedState,n);if(o&&(s.memoizedState=n,To=!0),s=s.queue,ga(2048,8,Yi.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,ma(9,{destroy:void 0,resource:void 0},Qi.bind(null,r,s,n,t),null),null===rc)throw Error(a(349));i||0!==(124&vi)||Ki(r,t,n)}return n}function Ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qi(e,t,n,r){t.value=n,t.getSnapshot=r,Xi(t)&&Ji(e)}function Yi(e,t,n){return n(function(){Xi(t)&&Ji(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ji(e){var t=Ir(e,2);null!==t&&Oc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Hi(e,xi,"function"===typeof r?r:zi)}function ta(e,t,n,r,s){if(Ua(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,na(t,i)):(i.next=n.next,t.pending=n.next=i)}}function na(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=D.T,a={};D.T=a;try{var o=n(s,r),l=D.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){ia(e,t,c)}finally{D.T=i}}else try{ra(e,t,i=n(s,r))}catch(u){ia(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){sa(e,t,n)},function(n){return ia(e,t,n)}):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(is){var n=rc.formState;if(null!==n){e:{var r=bi;if(is){if(ss){t:{for(var s=ss,i=os;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=yd(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){ss=yd(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Ba.bind(null,bi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=s,n=ta.bind(null,bi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Vi(),xi,e)}function ua(e,t,n){if(t=Hi(e,t,oa)[0],e=qi(zi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bi(t)}catch(a){if(a===Hs)throw Gs;throw a}else r=t;var s=(t=Vi()).queue,i=s.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,ma(9,{destroy:void 0,resource:void 0},da.bind(null,s,n),null)),[r,i,e]}function da(e,t){e.action=t}function ha(e){var t=Vi(),n=xi;if(null!==n)return ua(t,n,e);Vi(),t=t.memoizedState;var r=(n=Vi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Vi().memoizedState}function fa(e,t,n,r){var s=Fi();r=void 0===r?null:r,bi.flags|=e,s.memoizedState=ma(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var s=Vi();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==xi&&null!==r&&Ai(r,xi.memoizedState.deps)?s.memoizedState=ma(t,i,n,r):(bi.flags|=e,s.memoizedState=ma(1|t,i,n,r))}function ya(e,t){fa(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function Sa(){}function Na(e,t){var n=Vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=Vi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ai(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ea(e,t,n){return void 0===n||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),bi.lanes|=e,mc|=e,n)}function Ta(e,t,n,r){return Qn(n,t)?n:null!==mi.current?(e=Ea(e,n,r),Qn(e,t)||(To=!0),e):0===(42&vi)?(To=!0,e.memoizedState=n):(e=Lc(),bi.lanes|=e,mc|=e,t)}function ja(e,t,n,r,s){var i=L.p;L.p=0!==i&&8>i?i:8;var a=D.T,o={};D.T=o,Ba(e,!1,t,n);try{var l=s(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Va(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Va(e,t,r,Dc())}catch(u){Va(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{L.p=i,D.T=a}}function _a(){}function Aa(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Ia(e).queue;ja(e,s,t,O,null===n?_a:function(){return Pa(e),n(r)})}function Ia(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){Va(e,Ia(e).next.queue,{},Dc())}function Ra(){return Es(Kd)}function Da(){return Vi().memoizedState}function La(){return Vi().memoizedState}function Oa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=si(n),n);return null!==r&&(Oc(r,t,n),ai(r,t,n)),t={cache:Rs()},void(e.payload=t)}t=t.return}}function Ma(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ua(e)?$a(t,n):null!==(n=Ar(e,t,n,r))&&(Oc(n,e,r),za(n,t,r))}function Fa(e,t,n){Va(e,t,n,Dc())}function Va(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ua(e))$a(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Qn(o,a))return _r(e,t,s,0),null===rc&&jr(),!1}catch(l){}if(null!==(n=Ar(e,t,s,r)))return Oc(n,e,r),za(n,t,r),!0}return!1}function Ba(e,t,n,r){if(r={lane:2,revertLane:_u(),action:r,hasEagerState:!1,eagerState:null,next:null},Ua(e)){if(t)throw Error(a(479))}else null!==(t=Ar(e,n,r,2))&&Oc(t,e,2)}function Ua(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function $a(e,t){Si=ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function za(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var qa={readContext:Es,use:Ui,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i,useHostTransitionStatus:_i,useFormState:_i,useActionState:_i,useOptimistic:_i,useMemoCache:_i,useCacheRefresh:_i},Ha={readContext:Es,use:Ui,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fa(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var s=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Ma.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Fa.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sa,useDeferredValue:function(e,t){return Ea(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=ja.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,s=Fi();if(is){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&ic)||Ki(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ya(Yi.bind(null,r,i,e),[e]),r.flags|=2048,ma(9,{destroy:void 0,resource:void 0},Qi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(is){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-me(Xr)-1)).toString(32)+n),0<(n=Ci++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=ji++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:$i,useCacheRefresh:function(){return Fi().memoizedState=Oa.bind(null,bi)}},Wa={readContext:Es,use:Ui,useCallback:Na,useContext:Es,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:qi,useRef:pa,useState:function(){return qi(zi)},useDebugValue:Sa,useDeferredValue:function(e,t){return Ta(Vi(),xi.memoizedState,e,t)},useTransition:function(){var e=qi(zi)[0],t=Vi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Gi,useId:Da,useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Vi(),0,e,t)},useMemoCache:$i,useCacheRefresh:La},Ga={readContext:Es,use:Ui,useCallback:Na,useContext:Es,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:Wi,useRef:pa,useState:function(){return Wi(zi)},useDebugValue:Sa,useDeferredValue:function(e,t){var n=Vi();return null===xi?Ea(n,e,t):Ta(n,xi.memoizedState,e,t)},useTransition:function(){var e=Wi(zi)[0],t=Vi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Gi,useId:Da,useHostTransitionStatus:Ra,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Vi();return null!==xi?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$i,useCacheRefresh:La},Ka=null,Qa=0;function Ya(e){var t=Qa;return Qa+=1,null===Ka&&(Ka=[]),Xs(Ka,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===m)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&Za(i)===t.type)?(Xa(t=s(t,n.props),n),t.return=e,t):(Xa(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=zr(t,e.mode,n)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||A(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ya(t),n);if(t.$$typeof===w)return h(e,Ts(e,t),n);Ja(e,t)}return null}function m(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===s?c(e,t,n,r):null;case f:return n.key===s?u(e,t,n,r):null;case E:return m(e,t,n=(s=n._init)(n._payload),r)}if(R(n)||A(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return m(e,t,Ya(n),r);if(n.$$typeof===w)return m(e,t,Ts(e,n),r);Ja(e,n)}return null}function y(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return y(e,t,n,r=(0,r._init)(r._payload),s)}if(R(r)||A(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return y(e,t,n,Ya(r),s);if(r.$$typeof===w)return y(e,t,n,Ts(t,r),s);Ja(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&Za(b)===c.type){n(l,c.sibling),Xa(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Ur(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=zr(u,l.mode,d)).return=l,l=d}return o(l);case E:return v(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(s,a,o,l){for(var c=null,u=null,d=a,p=a=0,f=null;null!==d&&p<o.length;p++){d.index>p?(f=d,d=null):f=d.sibling;var g=m(s,d,o[p],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(s,d),a=i(g,a,p),null===u?c=g:u.sibling=g,u=g,d=f}if(p===o.length)return n(s,d),is&&Zr(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(a=i(d,a,p),null===u?c=d:u.sibling=d,u=d);return is&&Zr(s,p),c}for(d=r(d);p<o.length;p++)null!==(f=y(d,s,p,o[p],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?p:f.key),a=i(f,a,p),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(s,e)}),is&&Zr(s,p),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,f=o=0,g=null,v=l.next();null!==p&&!v.done;f++,v=l.next()){p.index>f?(g=p,p=null):g=p.sibling;var b=m(s,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(s,p),o=i(b,o,f),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(s,p),is&&Zr(s,f),u;if(null===p){for(;!v.done;f++,v=l.next())null!==(v=h(s,v.value,c))&&(o=i(v,o,f),null===d?u=v:d.sibling=v,d=v);return is&&Zr(s,f),u}for(p=r(p);!v.done;f++,v=l.next())null!==(v=y(p,s,f,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?f:v.key),o=i(v,o,f),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(s,e)}),is&&Zr(s,f),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ya(u),d);if(u.$$typeof===w)return v(l,c,Ts(l,u),d);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=$r(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var s=v(e,t,n,r);return Ka=null,s}catch(a){if(a===Hs||a===Gs)throw a;var i=Or(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=V(null),so=null;function io(e){var t=e.alternate;U(co,1&co.current),U(ro,e),null===so&&(null===t||null!==mi.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(U(co,co.current),U(ro,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){U(co,co.current),U(ro,ro.current)}function lo(e){B(ro),so===e&&(so=null),B(co)}var co=V(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),s=si(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Oc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),s=si(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Oc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=si(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Oc(t,e,n),ai(t,e,n))}};function po(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(s,i))}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=si(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=si(e)).tag=3,e}function Co(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){ko(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof s&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Eo=Error(a(461)),To=!1;function jo(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function _o(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Cs(t),r=Ii(e,t,n,a,i,s),o=Li(),null===e||To?(is&&o&&ts(t),t.flags|=1,jo(e,t,r,s),t.child):(Oi(e,t,s),Qo(e,t,s))}function Ao(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Mr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Io(e,t,i,r,s))}if(i=e.child,!Yo(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qo(e,t,s)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=i,!Yo(e,s))return t.lanes=e.lanes,Qo(e,t,s);0!==(131072&e.flags)&&(To=!0)}}return Lo(e,t,n,r,s)}function Po(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,i=0;null!==s;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&zs(0,null!==i?i.cachePool:null),null!==i?fi(t,i):gi(),ao(t)}else null!==i?(zs(0,i.cachePool),fi(t,i),oo(),t.memoizedState=null):(null!==e&&zs(0,null),gi(),oo());return jo(e,t,s,n),t.child}function Ro(e,t,n,r){var s=$s();return s=null===s?null:{parent:Ps._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&zs(0,null),gi(),ao(t),null!==e&&Ss(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,s){return Cs(t),n=Ii(e,t,n,r,void 0,s),r=Li(),null===e||To?(is&&r&&ts(t),t.flags|=1,jo(e,t,n,s),t.child):(Oi(e,t,s),Qo(e,t,s))}function Oo(e,t,n,r,s,i){return Cs(t),t.updateQueue=null,n=Ri(t,r,n,s),Pi(e),r=Li(),null===e||To?(is&&r&&ts(t),t.flags|=1,jo(e,t,n,i),t.child):(Oi(e,t,i),Qo(e,t,i))}function Mo(e,t,n,r,s){if(Cs(t),null===t.stateNode){var i=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Es(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=mo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Es(a):Dr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&mo.enqueueReplaceState(i,i.state,null),ui(t,r,i,s),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;a=Dr,"object"===typeof u&&null!==u&&(a=Es(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&fo(t,i,r,a),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,s),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||po(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Es(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&fo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,s),ci();var m=t.memoizedState;a!==d||h!==m||ti||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),m=t.memoizedState),(u=ti||po(t,n,u,r,h,m,l)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Do(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):jo(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Qo(e,t,s),e}function Fo(e,t,n,r){return ms(),t.flags|=256,jo(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:qs()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function $o(e,t,n){var r,s=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(is){if(i?io(t):oo(),is){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,i?(oo(),c=qo({mode:"hidden",children:c},i=t.mode),s=Ur(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=Bo(n),i.childLanes=Uo(e,r,n),t.memoizedState=Vo,s):(io(t),zo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(i=Ur(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=Bo(n),s.childLanes=Uo(e,r,n),t.memoizedState=Vo,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,fs({value:s,source:null,stack:null}),t=Ho(e,t,n)}else if(To||Ss(e,t,n,!1),r=0!==(n&e.childLanes),To||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:je(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Ir(e,s),Oc(r,e,s),Eo;"$?"===c.data||Gc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=yd(c.nextSibling),rs=t,is=!0,as=null,os=!1,null!==e&&(Kr[Qr++]=Xr,Kr[Qr++]=Jr,Kr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=zo(t,s.children)).flags|=4096);return t}return i?(oo(),i=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Fr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(u=Ps._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qs(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Uo(e,r,n),t.memoizedState=Vo,s):(io(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function zo(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function Go(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ko(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ss(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),bs(0,Ps,e.memoizedState.cache),ms();break;case 27:case 5:K(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(io(t),null!==(e=Qo(e,t,n))?e.sibling:null);io(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ss(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bs(0,Ps,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);To=0!==(131072&e.flags)}else To=!1,is&&0!==(1048576&t.flags)&&es(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===k){t.tag=11,t=_o(null,t,r,e,n);break e}if(s===C){t.tag=14,t=Ao(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Lo(null,t,r,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,s=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bs(0,Ps,r),r!==i.cache&&ks(t,[Ps],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==s){fs(s=Nr(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=yd(e.firstChild),rs=t,is=!0,as=null,os=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===s){t=Qo(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Pe]=t,r[Re]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&is&&(r=t.stateNode=xd(t.type,t.pendingProps,q.current),rs=t,os=!0,s=ss,md(t.type)?(vd=s,ss=yd(r.firstChild)):ss=s),jo(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,os))?(t.stateNode=r,rs=t,ss=yd(r.firstChild),os=!1,s=!0):s=!1),s||cs(t)),K(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,ad(s,i)?r=null:null!==o&&ad(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ii(e,t,Di,null,null,n),Kd._currentValue=s),Do(e,t),jo(e,t,r,n),t.child;case 6:return null===e&&is&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return $o(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):jo(e,t,r,n),t.child;case 11:return _o(e,t,t.type,t.pendingProps,n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(0,t.type,r.value),jo(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Cs(t),r=r(s=Es(s)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 19:return Ko(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Cs(t),r=Es(Ps),null===e?(null===(s=$s())&&(s=rc,i=Rs(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},ni(t),bs(0,Ps,s)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Ps,r)):(r=i.cache,bs(0,Ps,r),r!==s.cache&&ks(t,[Ps],n,!0))),jo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==so:(62914560&ic)!==ic&&0===(536870912&ic)||t!==so))throw Js=Ks,Ws;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xs(Ps),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ps())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=$.current,hs(t)?us(t):(e=xd(s,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=$.current,hs(t))us(t);else{switch(s=rd(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||cs(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Pe]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=ps(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return xs(t.type),nl(t),null;case 19:if(B(co),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=s.rendering))if(r)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(s,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>kc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!is)return nl(t),null}else 2*te()-s.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Us),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Ps),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Ps),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return G(),null;case 10:return xs(t.type),null;case 22:case 23:return lo(t),yi(),null!==e&&B(Us),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Ps),null;default:return null}}function il(e,t){switch(ns(t),t.tag){case 3:xs(Ps),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:lo(t);break;case 19:B(co);break;case 10:xs(t.type);break;case 22:case 23:lo(t),yi(),null!==e&&B(Us);break;case 24:xs(Ps)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){uu(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){uu(e,t,s)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function ml(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var m in r){var p=r[m];if(h=n[m],r.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":i=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Ju(e,t,m,p,r,h)}}return void gt(e,o,l,c,u,d,i,s);case"select":for(i in p=o=l=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ju(e,t,s,i,r,c)}return t=l,n=o,r=p,void(null!=m?bt(e,!!n,m,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":m=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&Ju(e,t,o,s,r,i)}return void xt(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Ju(e,t,f,null,r,m);for(c in r)if(m=r[c],p=n[c],r.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Ju(e,t,c,m,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,m);for(u in r)if(m=r[u],p=n[u],r.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:Ju(e,t,u,m,r,p)}return;default:if(Et(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,m);for(d in r)m=r[d],p=n[d],!r.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||Zu(e,t,d,m,r,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,m);for(h in r)m=r[h],p=n[h],!r.hasOwnProperty(h)||m===p||null==m&&null==p||Ju(e,t,h,m,r,p)}(r,e.type,n,t),r[Re]=t}catch(s){uu(e,e.return,s)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,r,n),t[Pe]=e,t[Re]=n}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&al(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,s=bl;var i=xl;bl=r,(xl=t)&&!i?Vl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=s,xl=i}break;case 30:break;default:Ml(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Tl=!1;function jl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:xl||dl(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=El,s=Tl;md(n.type)&&(El=n.stateNode,Tl=!1),jl(e,t,n),wd(n.stateNode),El=r,Tl=s;break;case 5:xl||dl(n,t);case 6:if(r=El,s=Tl,El=null,jl(e,t,n),Tl=s,null!==(El=r))if(Tl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{El.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==El&&(Tl?(pd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):pd(El,n.stateNode));break;case 4:r=El,s=Tl,El=n.stateNode.containerInfo,Tl=!0,jl(e,t,n),El=r,Tl=s;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),jl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,jl(e,t,n),xl=r;break;default:jl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){uu(t,t.return,n)}}function Il(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){El=l.stateNode,Tl=!1;break e}break;case 5:El=l.stateNode,Tl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===El)throw Error(a(160));_l(i,o,s),El=null,Tl=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ll(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Rl;if(Pl(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Ve]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),ed(i,r,n),i[Pe]=e,He(i),r=i;break e;case"link":var o=Vd("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=Vd("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Pe]=e,He(i),r=i}e.stateNode=r}else Bd(s,e.type,e.stateNode);else e.stateNode=Dd(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Bd(s,e.type,e.stateNode):Dd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ll(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{kt(s,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&ml(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,s=Rl,Rl=Nd(t.containerInfo),Pl(t,e),Rl=s,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Ol(e));break;case 4:r=Rl,Rl=Nd(e.stateNode.containerInfo),Pl(t,e),Ll(e),Rl=r;break;case 12:default:Pl(t,e),Ll(e);break;case 13:Pl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||s,xl=d||c,Pl(t,e),xl=d,bl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Il(e,n))));break;case 19:Pl(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;yl(e,fl(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),yl(e,fl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Vl(s,i,n),al(4,i);break;case 1:if(Vl(s,i,n),"function"===typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)di(l[s],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:Vl(s,i,n),n&&null===r&&4&a&&hl(i),ul(i,i.return);break;case 12:Vl(s,i,n);break;case 13:Vl(s,i,n),n&&4&a&&Al(s,i);break;case 22:null===i.memoizedState&&Vl(s,i,n),ul(i,i.return);break;case 30:break;default:Vl(s,i,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ds(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ds(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)zl(e,t,n,r),t=t.sibling}function zl(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&s&&al(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ds(e)));break;case 12:if(2048&s){$l(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?$l(e,t,n,r):Hl(e,t):2&i._visibility?$l(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&Bl(a,t);break;case 24:$l(e,t,n,r),2048&s&&Ul(t.alternate,t)}}function ql(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(i,a,o,l,s),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(i,a,o,l,s):Hl(i,a):(u._visibility|=2,ql(i,a,o,l,s)),s&&2048&c&&Bl(a.alternate,a);break;case 24:ql(i,a,o,l,s),s&&2048&c&&Ul(a.alternate,a);break;default:ql(i,a,o,l,s)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Hl(n,r),2048&s&&Bl(r.alternate,r);break;case 24:Hl(n,r),2048&s&&Ul(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Wl=8192;function Gl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===$d)throw Error(a(475));var r=$d;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=_d(n.href),i=e.querySelector(Ad(s));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Id(n),(s=kd.get(s))&&Od(n,s),He(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Nd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Gl(e),Wl=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ds(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var s=(r=Sl).sibling,i=r.return;if(Cl(r),r===n){Sl=null;break e}if(null!==s){s.return=i,Sl=s;break e}Sl=i}}}var ec={getCacheForType:function(e){var t=Es(Ps),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,ic=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,mc=0,pc=0,fc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,kc=1/0,Sc=null,Nc=null,Cc=0,Ec=null,Tc=null,jc=0,_c=0,Ac=null,Ic=null,Pc=0,Rc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==Ms?Ms:_u()}return Ae()}function Lc(){0===gc&&(gc=0===(536870912&ic)||is?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Oc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(zc(e,0),Bc(e,ic,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Bc(e,ic,gc,!1)),ku(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=Hc(),s=Wc();rc!==e||ic!==t?(Sc=null,kc=te()+500,zc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var i=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Qs(i)){ac=0,oc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qs(i)?(ac=0,oc=null,Jc(t)):(ac=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Ud(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,eu(u)):sc=null}break t}}ac=0,oc=null,Zc(e,t,i,5);break;case 6:ac=0,oc=null,Zc(e,t,i,6);break;case 8:$c(),hc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){qc(e,d)}return vs=ys=null,D.H=r,D.A=s,nc=n,null!==sc?0:(rc=null,ic=0,jr(),hc)}(e,t):Kc(e,t,!0),i=r;;){if(0===s){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!i||Vc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,s=4;break e}i=bc,bc=s,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){zc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Bc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Sc,xc,t,gc,pc,yc,lc,i,2,-0,0),s)}else Fc(r,n,bc,Sc,xc,t,gc,pc,yc,lc,i,0,-0,0)}break}s=Kc(e,t,!1),i=!1}ku(e)}function Fc(e,t,n,r,s,i,o,l,c,u,d,h,m,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&($d={stylesheets:null,count:0,unsuspend:zd},Kl(t),null!==(h=function(){if(null===$d)throw Error(a(475));var e=$d;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,s,o,l,c,d,1,m,p)),void Bc(e,i,o,!u);nu(e,t,i,n,r,s,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~fc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-me(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Ee(e,n,t)}function Uc(){return 0!==(6&nc)||(Su(0,!1),!1)}function $c(){if(null!==sc){if(0===ac)var e=sc.return;else vs=ys=null,Mi(e=sc),Ka=null,Qa=0,e=sc;for(;null!==e;)il(e.alternate,e),e=e.return;sc=null}}function zc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c(),rc=e,sc=n=Fr(e.current,null),ic=t,ac=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=fc=pc=mc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-me(r),i=1<<s;t|=e[s],r&=~i}return dc=t,jr(),n}function qc(e,t){bi=null,D.H=qa,t===Hs||t===Gs?(t=Zs(),ac=3):t===Ws?(t=Zs(),ac=4):ac=t===Eo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,wo(e,Nr(t,e.current)))}function Hc(){var e=D.H;return D.H=qa,null===e?qa:e}function Wc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&mc)&&0===(134217727&pc)||null===rc||Bc(rc,ic,gc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var s=Hc(),i=Wc();rc===e&&ic===t||(Sc=null,zc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==sc){var o=sc,l=oc;switch(ac){case 8:$c(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Qc(),a=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,vs=ys=null,nc=r,D.H=s,D.A=i,null===sc&&(rc=null,ic=0,jr()),a}function Qc(){for(;null!==sc;)Xc(sc)}function Yc(){for(;null!==sc&&!Z();)Xc(sc)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=Xo(n,t=sc=Vr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Zc(e,t,n,r){vs=ys=null,Mi(t),Ka=null,Qa=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ss(t,n,s,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===so?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Ks?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,s)),!1;case 22:return n.flags|=65536,r===Ks?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,s)),!1}throw Error(a(435,n.tag))}return du(e,r,s),Gc(),!1}if(is)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&fs(Nr(e=Error(a(422),{cause:r}),n))):(r!==ls&&fs(Nr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Nr(r,n),oi(e,s=So(e.stateNode,r,s)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=Nr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,oi(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Co(s=No(s),e,n,r),oi(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ic))return hc=1,wo(e,Nr(n,e.current)),void(sc=null)}catch(i){if(null!==s)throw sc=s,i;return hc=1,wo(e,Nr(n,e.current)),void(sc=null)}32768&t.flags?(is||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function nu(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Cc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-me(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Tr,o,l,c),e===rc&&(sc=rc=null,ic=0),Tc=t,Ec=e,jc=n,_c=i,Ac=s,Ic=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,s=L.p,L.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(i=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var f=go(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,L.p=s,D.T=r}}Cc=1,ru(),su(),iu()}}function ru(){if(1===Cc){Cc=0;var e=Ec,t=Tc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var s=nc;nc|=4;try{Dl(t,e);var i=nd,a=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!m.extend&&f>g&&(a=g,g=f,f=a);var y=Jn(o,f),v=Jn(o,g);if(y&&v&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),f>g?(m.addRange(b),m.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),m.addRange(b))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=s,L.p=r,D.T=n}}e.current=t,Cc=2}}function su(){if(2===Cc){Cc=0;var e=Ec,t=Tc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var s=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=s,L.p=r,D.T=n}}Cc=3}}function iu(){if(4===Cc||3===Cc){Cc=0,ee();var e=Ec,t=Tc,n=jc,r=Ic;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Tc=Ec=null,au(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Nc=null),_e(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,s=L.p,L.p=2,D.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{D.T=t,L.p=s}}0!==(3&jc)&&ou(),ku(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ds(t)))}function ou(e){return ru(),su(),iu(),lu()}function lu(){if(5!==Cc)return!1;var e=Ec,t=_c;_c=0;var n=_e(jc),r=D.T,s=L.p;try{L.p=32>n?32:n,D.T=null,n=Ac,Ac=null;var i=Ec,o=jc;if(Cc=0,Tc=Ec=null,jc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Xl(i.current),zl(i,i.current,o,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{L.p=s,D.T=r,au(e,t)}}function cu(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=So(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(Co(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(uc=!0,s.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&zc(e,0):fc|=n,yc===ic&&(yc=0)),ku(e)}function mu(e,t){0===t&&(t=Se()),null!==(e=Ir(e,t))&&(Ce(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),mu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,Nu):Cu()}))}function Su(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-me(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,ju(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,ju(r,i));r=r.next}}while(n);xu=!1}}function Nu(){Cu()}function Cu(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var s=r.next,i=Eu(r,t);0===i?(r.next=null,null===n?gu=s:n.next=s,null===s&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=s}Su(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-me(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),_e(n)){case 2:case 8:n=se;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Tu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function ju(e,t){if(ou())return null;Mc(e,t,!0)}function _u(){return 0===wu&&(wu=ke()),wu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var Ru=wr[Pu];kr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}kr(mr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(fr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ou(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){yo(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){yo(u)}s.currentTarget=null,i=l}}}}function Mu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Vu]){e[Vu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,Fu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(ch(t)){case 2:var s=rh;break;case 8:s=sh;break;default:s=ih}n=s.bind(null,t,n,e),s=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $u(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=Ue(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}o=o.parentNode}}r=r.return}Ot(function(){var r=i,s=It(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case mr:case pr:case fr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=r;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=Mt(f,m))&&d.push(zu(f,g,p)),h)break;f=f.return}0<d.length&&(o=new c(o,u,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[De])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?o:ze(c),p=null==u?o:ze(u),(o=new d(g,f+"leave",c,n,s)).target=h,o.relatedTarget=p,g=null,Ue(s)===r&&((d=new d(m,f+"enter",u,n,s)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,f=0,p=d=c;p;p=Hu(p))f++;for(p=0,g=m;g;g=Hu(g))p++;for(;0<f-p;)d=Hu(d),f--;for(;0<p-f;)m=Hu(m),p--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=Hu(d),m=Hu(m)}d=null}else d=null;null!==c&&Wu(a,o,c,d,!1),null!==u&&null!==h&&Wu(a,h,u,d,!0)}if("select"===(c=(o=r?ze(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Pn(o))if(Vn)y=Kn;else{y=Wn;var v=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Et(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?Rn(a,y,n,s):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?ze(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,sr=r,ir=null);break;case"focusout":ir=sr=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,s)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(b=qt()):($t="value"in(Ut=s)?Ut.value:Ut.textContent,An=!0)),0<(v=qu(r,x)).length&&(x=new cn(x,e,null,n,s),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=_n(n))&&(x.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!kn&&jn(e,t)?(e=qt(),zt=$t=Ut=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,s),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Au((s[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Au(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new Zt("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Iu(s,a):new FormData(s);Aa(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Iu(s,a):new FormData(s),Aa(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}Ou(a,t)})}function zu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Mt(e,n))&&r.unshift(zu(e,s,i)),null!=(s=Mt(e,t))&&r.push(zu(e,s,i))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Mt(n,i))&&a.unshift(zu(n,c,l)):s||null!=(c=Mt(n,i))&&a.push(zu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Ku,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,s,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",s.name,s,null),Ju(e,t,"formEncType",s.formEncType,s,null),Ju(e,t,"formMethod",s.formMethod,s,null),Ju(e,t,"formTarget",s.formTarget,s,null)):(Ju(e,t,"encType",s.encType,s,null),Ju(e,t,"method",s.method,s,null),Ju(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Zu(e,t,n,r,s,i){switch(n){case"style":Ct(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,r,o,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(s&&Ju(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Ju(e,t,s,d,n,null)}}return yt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Mu("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Ju(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(o in Mu("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,s,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Ju(e,t,c,s,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(s=0;s<Du.length;s++)Mu(Du[s],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,u,s,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Zu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Ju(e,t,l,s,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function pd(e,t){var n=t,r=0,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(i),void Th(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Th(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var kd=new Map,Sd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=L.d;L.d={f:function(){var e=Cd.f(),t=Uc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Cd.r(e)},D:function(e){Cd.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Ed;if(r&&e&&t){var s='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ft(n.imageSizes)+'"]')):s+='[href="'+ft(e)+'"]';var i=s;switch(t){case"style":i=_d(e);break;case"script":i=Pd(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Ad(i))||"script"===t&&r.querySelector(Rd(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Ed;if(n&&e){var r=qe(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=h({src:e,async:!0},t),(t=kd.get(s))&&Md(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){Cd.S(e,t,n);var r=Ed;if(r&&e){var s=qe(r).hoistableStyles,i=_d(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ad(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(i))&&Od(e,n);var l=a=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ld(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){Cd.M(e,t);var n=Ed;if(n&&e){var r=qe(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(s))&&Md(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Ed="undefined"===typeof document?null:document;function Td(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var s=ft(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),Sd.has(s)||(Sd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function jd(e,t,n,r){var s,i,o,l,c=(c=q.current)?Nd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=_d(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=_d(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(s=c,i=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),He(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function _d(e){return'href="'+ft(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+ft(e)+'"]'}function Rd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,He(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",s),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":s=_d(n.href);var i=e.querySelector(Ad(s));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Id(n),(s=kd.get(s))&&Od(r,s),He(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.state.loading|=4,Ld(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(s=e.querySelector(Rd(i)))?(t.instance=s,He(s),s):(r=n,(s=kd.get(i))&&Md(r=h({},n),s),He(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Vd(e,t,n){if(null===Fd){var r=new Map,s=Fd=new Map;s.set(n,r)}else(r=(s=Fd).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ve]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $d=null;function zd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Gd,e),Hd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=qd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Qd(e,t,n,r,s,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,s,i,a,o,l,c,u,d){return e=new Qd(e,t,n,a,o,l,c,d),t=1,!0===i&&(t|=24),i=Or(3,null,null,t),e.current=i,i.stateNode=e,(t=Rs()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Xd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,s,i){s=Xd(s),null===r.context?r.context=s:r.pendingContext=s,(r=si(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Oc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Oc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var s=D.T;D.T=null;var i=L.p;try{L.p=2,ih(e,t,n,r)}finally{L.p=i,D.T=s}}function sh(e,t,n,r){var s=D.T;D.T=null;var i=L.p;try{L.p=8,ih(e,t,n,r)}finally{L.p=i,D.T=s}}function ih(e,t,n,r){if(nh){var s=ah(r);if(null===s)$u(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,s),!0;case"dragenter":return hh=bh(hh,e,t,n,r,s),!0;case"mouseover":return mh=bh(mh,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fh.set(i,bh(fh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==s;){var i=$e(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-me(a);o.entanglements[1]|=l,a&=~l}ku(i),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(o=Ir(i,2))&&Oc(o,0,2),Uc(),eh(i,2)}if(null===(i=ah(r))&&$u(e,t,r,oh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else $u(e,t,r,null,n)}}function ah(e){return lh(e=It(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case ie:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,mh=null,ph=new Map,fh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function bh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=$e(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=je(e);var t=Ir(n,e);null!==t&&Oc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==mh&&wh(mh)&&(mh=null),ph.forEach(kh),fh.forEach(kh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Ch=null;function Eh(e){Ch!==e&&(Ch=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ch===e&&(Ch=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=$e(n);null!==i&&(e.splice(t,3),t-=3,Aa(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Th(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==mh&&Nh(mh,e),ph.forEach(t),fh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[Re]||null;if("function"===typeof i)a||Eh(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[Re]||null)o=a.formAction;else if(null!==lh(s))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Eh(n)}}}function jh(e){this._internalRoot=e}function _h(e){this._internalRoot=e}_h.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jd(t.current,Dc(),e,t,null,null)},_h.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Uc(),t[De]=null}},_h.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Ah=s.version;if("19.1.0"!==Ah)throw Error(a(527,Ah,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return u(s),e;if(i===r)return u(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ih),de=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",s=vo,i=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,s,i,l,0,null),e[De]=t.current,Bu(e),new jh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,s="",i=vo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,s,i,l,c,0,u)).context=Xd(null),n=t.current,(s=si(r=je(r=Dc()))).callback=null,ii(n,s,r),n=r,t.current.lanes=n,Ce(t,n),ku(t),e[De]=t.current,Bu(e),new _h(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function s(t,n,r){return t.set(e(t,n),r),r}const i=100,a={},o=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;a.restoreFocusTimeout=setTimeout(()=>{o(),t()},i),window.scrollTo(n,r)}),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=c+t,e),{}),d=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=c+t,e),{}),h="SweetAlert2:",m=e=>e.charAt(0).toUpperCase()+e.slice(1),p=e=>{console.warn(`${h} ${"object"===typeof e?e.join(" "):e}`)},f=e=>{console.error(`${h} ${e}`)},g=[],y=e=>{g.includes(e)||(g.push(e),p(e))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},b=e=>"function"===typeof e?e():e,x=e=>e&&"function"===typeof e.toPromise,w=e=>x(e)?e.toPromise():Promise.resolve(e),k=e=>e&&Promise.resolve(e)===e,S=()=>document.body.querySelector(`.${u.container}`),N=e=>{const t=S();return t?t.querySelector(e):null},C=e=>N(`.${e}`),E=()=>C(u.popup),T=()=>C(u.icon),j=()=>C(u["icon-content"]),_=()=>C(u.title),A=()=>C(u["html-container"]),I=()=>C(u.image),P=()=>C(u["progress-steps"]),R=()=>C(u["validation-message"]),D=()=>N(`.${u.actions} .${u.confirm}`),L=()=>N(`.${u.actions} .${u.cancel}`),O=()=>N(`.${u.actions} .${u.deny}`),M=()=>C(u["input-label"]),F=()=>N(`.${u.loader}`),V=()=>C(u.actions),B=()=>C(u.footer),U=()=>C(u["timer-progress-bar"]),$=()=>C(u.close),z='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',q=()=>{const e=E();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0}),r=e.querySelectorAll(z),s=Array.from(r).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(n.concat(s))].filter(e=>ue(e))},H=()=>Q(document.body,u.shown)&&!Q(document.body,u["toast-shown"])&&!Q(document.body,u["no-backdrop"]),W=()=>{const e=E();return!!e&&Q(e,u.toast)},G=()=>{const e=E();return!!e&&e.hasAttribute("data-loading")},K=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach(t=>{e.appendChild(t)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},Q=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},Y=(e,t)=>{Array.from(e.classList).forEach(n=>{Object.values(u).includes(n)||Object.values(d).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)})},X=(e,t,n)=>{if(Y(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):p(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`))},J=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${u.popup} > .${u[t]}`);case"checkbox":return e.querySelector(`.${u.popup} > .${u.checkbox} input`);case"radio":return e.querySelector(`.${u.popup} > .${u.radio} input:checked`)||e.querySelector(`.${u.popup} > .${u.radio} input:first-child`);case"range":return e.querySelector(`.${u.popup} > .${u.range} input`);default:return e.querySelector(`.${u.popup} > .${u.input}`)}},Z=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&Q(e,t))return e}},se=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"===typeof n?`${n}px`:n):e.style.removeProperty(t)},ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},ae=e=>{e&&(e.style.display="none")},oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver(()=>{ce(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,r)=>{const s=e.querySelector(t);s&&s.style.setProperty(n,r)},ce=function(e,t){t?ie(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ae(e)},ue=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),de=()=>!ue(D())&&!ue(O())&&!ue(L()),he=e=>!!(e.scrollHeight>e.clientHeight),me=(e,t)=>{let n=e;for(;n&&n!==t;){if(he(n))return!0;n=n.parentElement}return!1},pe=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U();n&&ue(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},ge=()=>{const e=U();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`},ye=()=>"undefined"===typeof window||"undefined"===typeof document,ve=`\n <div aria-labelledby="${u.title}" aria-describedby="${u["html-container"]}" class="${u.popup}" tabindex="-1">\n   <button type="button" class="${u.close}"></button>\n   <ul class="${u["progress-steps"]}"></ul>\n   <div class="${u.icon}"></div>\n   <img class="${u.image}" />\n   <h2 class="${u.title}" id="${u.title}"></h2>\n   <div class="${u["html-container"]}" id="${u["html-container"]}"></div>\n   <input class="${u.input}" id="${u.input}" />\n   <input type="file" class="${u.file}" />\n   <div class="${u.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${u.select}" id="${u.select}"></select>\n   <div class="${u.radio}"></div>\n   <label class="${u.checkbox}">\n     <input type="checkbox" id="${u.checkbox}" />\n     <span class="${u.label}"></span>\n   </label>\n   <textarea class="${u.textarea}" id="${u.textarea}"></textarea>\n   <div class="${u["validation-message"]}" id="${u["validation-message"]}"></div>\n   <div class="${u.actions}">\n     <div class="${u.loader}"></div>\n     <button type="button" class="${u.confirm}"></button>\n     <button type="button" class="${u.deny}"></button>\n     <button type="button" class="${u.cancel}"></button>\n   </div>\n   <div class="${u.footer}"></div>\n   <div class="${u["timer-progress-bar-container"]}">\n     <div class="${u["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),be=()=>{const e=S();return!!e&&(e.remove(),ne([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},xe=()=>{a.currentInstance.resetValidationMessage()},we=()=>{const e=E(),t=re(e,u.input),n=re(e,u.file),r=e.querySelector(`.${u.range} input`),s=e.querySelector(`.${u.range} output`),i=re(e,u.select),a=e.querySelector(`.${u.checkbox} input`),o=re(e,u.textarea);t.oninput=xe,n.onchange=xe,i.onchange=xe,a.onchange=xe,o.oninput=xe,r.oninput=()=>{xe(),s.value=r.value},r.onchange=()=>{xe(),s.value=r.value}},ke=e=>"string"===typeof e?document.querySelector(e):e,Se=e=>{const t=E();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ne=e=>{"rtl"===window.getComputedStyle(e).direction&&te(S(),u.rtl)},Ce=e=>{const t=be();if(ye())return void f("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,t&&te(n,u["no-transition"]),K(n,ve),n.dataset.swal2Theme=e.theme;const r=ke(e.target);r.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Se(e),Ne(r),we()},Ee=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Te(e,t):e&&K(t,e)},Te=(e,t)=>{e.jquery?je(t,e):K(t,e.toString())},je=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},_e=(e,t)=>{const n=V(),r=F();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ie(n):ae(n),X(n,t,"actions"),Ae(n,r,t),K(r,t.loaderHtml||""),X(r,t,"loader"))};function Ae(e,t,n){const r=D(),s=O(),i=L();r&&s&&i&&(Re(r,"confirm",n),Re(s,"deny",n),Re(i,"cancel",n),Ie(r,s,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,r),e.insertBefore(s,r)):(e.insertBefore(i,t),e.insertBefore(s,t),e.insertBefore(r,t))))}function Ie(e,t,n,r){r.buttonsStyling?(te([e,t,n],u.styled),r.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Pe(e),Pe(t),Pe(n)):ne([e,t,n],u.styled)}function Pe(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Re(e,t,n){const r=m(t);ce(e,n[`show${r}Button`],"inline-block"),K(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=u[t],X(e,n,`${t}Button`)}const De=(e,t)=>{const n=$();n&&(K(n,t.closeButtonHtml||""),X(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Le=(e,t)=>{const n=S();n&&(Oe(n,t.backdrop),Me(n,t.position),Fe(n,t.grow),X(n,t,"container"))};function Oe(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],u["no-backdrop"])}function Me(e,t){t&&(t in u?te(e,u[t]):(p('The "position" parameter is not valid, defaulting to "center"'),te(e,u.center)))}function Fe(e,t){t&&te(e,u[`grow-${t}`])}var Ve={innerParams:new WeakMap,domCache:new WeakMap};const Be=["input","file","range","select","radio","checkbox","textarea"],Ue=(e,t)=>{const n=E();if(!n)return;const r=Ve.innerParams.get(e),s=!r||t.input!==r.input;Be.forEach(e=>{const r=re(n,u[e]);r&&(qe(e,t.inputAttributes),r.className=u[e],s&&ae(r))}),t.input&&(s&&$e(t),He(t))},$e=e=>{if(!e.input)return;if(!Ye[e.input])return void f(`Unexpected type of input! Expected ${Object.keys(Ye).join(" | ")}, got "${e.input}"`);const t=Ke(e.input);if(!t)return;const n=Ye[e.input](t,e);ie(t),e.inputAutoFocus&&setTimeout(()=>{Z(n)})},ze=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},qe=(e,t)=>{const n=E();if(!n)return;const r=J(n,e);if(r){ze(r);for(const e in t)r.setAttribute(e,t[e])}},He=e=>{if(!e.input)return;const t=Ke(e.input);t&&X(t,e,"input")},We=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Ge=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=u["input-label"];r.setAttribute("for",e.id),r.className=s,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ke=e=>{const t=E();if(t)return re(t,u[e]||u.input)},Qe=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:k(t)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ye={};Ye.text=Ye.email=Ye.password=Ye.number=Ye.tel=Ye.url=Ye.search=Ye.date=Ye["datetime-local"]=Ye.time=Ye.week=Ye.month=(e,t)=>(Qe(e,t.inputValue),Ge(e,e,t),We(e,t),e.type=t.input,e),Ye.file=(e,t)=>(Ge(e,e,t),We(e,t),e),Ye.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return Qe(n,t.inputValue),n.type=t.input,Qe(r,t.inputValue),Ge(n,e,t),e},Ye.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");K(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Ge(e,e,t),e},Ye.radio=e=>(e.textContent="",e),Ye.checkbox=(e,t)=>{const n=J(E(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return K(r,t.inputPlaceholder||t.inputLabel),n},Ye.textarea=(e,t)=>{Qe(e,t.inputValue),We(e,t),Ge(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(E()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const s=e.offsetWidth+n(e);s>r?E().style.width=`${s}px`:se(E(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Xe=(e,t)=>{const n=A();n&&(oe(n),X(n,t,"htmlContainer"),t.html?(Ee(t.html,n),ie(n,"block")):t.text?(n.textContent=t.text,ie(n,"block")):ae(n),Ue(e,t))},Je=(e,t)=>{const n=B();n&&(oe(n),ce(n,t.footer,"block"),t.footer&&Ee(t.footer,n),X(n,t,"footer"))},Ze=(e,t)=>{const n=Ve.innerParams.get(e),r=T();if(r){if(n&&t.icon===n.icon)return st(r,t),void et(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(d).indexOf(t.icon))return f(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void ae(r);ie(r),st(r,t),et(r,t),te(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tt)}else ae(r)}},et=(e,t)=>{for(const[n,r]of Object.entries(d))t.icon!==n&&ne(e,r);te(e,t.icon&&d[t.icon]),it(e,t),tt(),X(e,t,"icon")},tt=()=>{const e=E();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},nt=e=>`\n  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ${e.animation?'<div class="swal2-success-fix"></div>':""}\n  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}\n`,rt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',st=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=at(t.iconHtml):"success"===t.icon?(r=nt(t),n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=rt:t.icon&&(r=at({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&K(e,r)},it=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},at=e=>`<div class="${u["icon-content"]}">${e}</div>`,ot=(e,t)=>{const n=I();n&&(t.imageUrl?(ie(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),se(n,"width",t.imageWidth),se(n,"height",t.imageHeight),n.className=u.image,X(n,t,"image")):ae(n))};let lt=!1,ct=0,ut=0,dt=0,ht=0;const mt=e=>{e.addEventListener("mousedown",ft),document.body.addEventListener("mousemove",gt),e.addEventListener("mouseup",yt),e.addEventListener("touchstart",ft),document.body.addEventListener("touchmove",gt),e.addEventListener("touchend",yt)},pt=e=>{e.removeEventListener("mousedown",ft),document.body.removeEventListener("mousemove",gt),e.removeEventListener("mouseup",yt),e.removeEventListener("touchstart",ft),document.body.removeEventListener("touchmove",gt),e.removeEventListener("touchend",yt)},ft=e=>{const t=E();if(e.target===t||T().contains(e.target)){lt=!0;const n=vt(e);ct=n.clientX,ut=n.clientY,dt=parseInt(t.style.insetInlineStart)||0,ht=parseInt(t.style.insetBlockStart)||0,te(t,"swal2-dragging")}},gt=e=>{const t=E();if(lt){let{clientX:n,clientY:r}=vt(e);t.style.insetInlineStart=`${dt+(n-ct)}px`,t.style.insetBlockStart=`${ht+(r-ut)}px`}},yt=()=>{const e=E();lt=!1,ne(e,"swal2-dragging")},vt=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},bt=(e,t)=>{const n=S(),r=E();if(n&&r){if(t.toast){se(n,"width",t.width),r.style.width="100%";const e=F();e&&r.insertBefore(e,T())}else se(r,"width",t.width);se(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ae(R()),xt(r,t),t.draggable&&!t.toast?(te(r,u.draggable),mt(r)):(ne(r,u.draggable),pt(r))}},xt=(e,t)=>{const n=t.showClass||{};e.className=`${u.popup} ${ue(e)?n.popup:""}`,t.toast?(te([document.documentElement,document.body],u["toast-shown"]),te(e,u.toast)):te(e,u.modal),X(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,u[`icon-${t.icon}`])},wt=(e,t)=>{const n=P();if(!n)return;const{progressSteps:r,currentProgressStep:s}=t;r&&0!==r.length&&void 0!==s?(ie(n),n.textContent="",s>=r.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((e,i)=>{const a=kt(e);if(n.appendChild(a),i===s&&te(a,u["active-progress-step"]),i!==r.length-1){const e=St(t);n.appendChild(e)}})):ae(n)},kt=e=>{const t=document.createElement("li");return te(t,u["progress-step"]),K(t,e),t},St=e=>{const t=document.createElement("li");return te(t,u["progress-step-line"]),e.progressStepsDistance&&se(t,"width",e.progressStepsDistance),t},Nt=(e,t)=>{const n=_();n&&(oe(n),ce(n,t.title||t.titleText,"block"),t.title&&Ee(t.title,n),t.titleText&&(n.innerText=t.titleText),X(n,t,"title"))},Ct=(e,t)=>{bt(e,t),Le(e,t),wt(e,t),Ze(e,t),ot(e,t),Nt(e,t),De(e,t),Xe(e,t),_e(e,t),Je(e,t);const n=E();"function"===typeof t.didRender&&n&&t.didRender(n),a.eventEmitter.emit("didRender",n)},Et=()=>ue(E()),Tt=()=>{var e;return null===(e=D())||void 0===e?void 0:e.click()},jt=()=>{var e;return null===(e=O())||void 0===e?void 0:e.click()},_t=()=>{var e;return null===(e=L())||void 0===e?void 0:e.click()},At=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),It=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Pt=(e,t,n)=>{It(e),t.toast||(e.keydownHandler=e=>Ot(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:E(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Rt=(e,t)=>{var n;const r=q();if(r.length)return-2===(e+=t)&&(e=r.length-1),e===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=E())||void 0===n||n.focus()},Dt=["ArrowRight","ArrowDown"],Lt=["ArrowLeft","ArrowUp"],Ot=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Mt(t,e):"Tab"===t.key?Ft(t):[...Dt,...Lt].includes(t.key)?Vt(t.key):"Escape"===t.key&&Bt(t,e,n)))},Mt=(e,t)=>{if(!b(t.allowEnterKey))return;const n=J(E(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Tt(),e.preventDefault()}},Ft=e=>{const t=e.target,n=q();let r=-1;for(let s=0;s<n.length;s++)if(t===n[s]){r=s;break}e.shiftKey?Rt(r,-1):Rt(r,1),e.stopPropagation(),e.preventDefault()},Vt=e=>{const t=V(),n=D(),r=O(),s=L();if(!t||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const a=Dt.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&ue(o))break}o instanceof HTMLButtonElement&&o.focus()}},Bt=(e,t,n)=>{e.preventDefault(),b(t.allowEscapeKey)&&n(At.esc)};var Ut={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const $t=()=>{const e=S();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},zt=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qt="undefined"!==typeof window&&!!window.GestureEvent,Ht=()=>{if(qt&&!Q(document.body,u.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",te(document.body,u.iosfix),Wt()}},Wt=()=>{const e=S();if(!e)return;let t;e.ontouchstart=e=>{t=Gt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Gt=e=>{const t=e.target,n=S(),r=A();return!(!n||!r)&&!Kt(e)&&!Qt(e)&&(t===n||!(he(n)||!(t instanceof HTMLElement)||me(t,r)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||he(r)&&r.contains(t)))},Kt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Qt=e=>e.touches&&e.touches.length>1,Yt=()=>{if(Q(document.body,u.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Xt=()=>{const e=document.createElement("div");e.className=u["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Jt=null;const Zt=e=>{null===Jt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Jt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Jt+Xt()}px`)},en=()=>{null!==Jt&&(document.body.style.paddingRight=`${Jt}px`,Jt=null)};function tn(e,t,n,r){W()?dn(e,r):(l(n).then(()=>dn(e,r)),It(a)),qt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),H()&&(en(),Yt(),zt()),nn()}function nn(){ne([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function rn(e){e=ln(e);const t=Ut.swalPromiseResolve.get(this),n=sn(this);this.isAwaitingPromise?e.isDismissed||(on(this),t(e)):n&&t(e)}const sn=e=>{const t=E();if(!t)return!1;const n=Ve.innerParams.get(e);if(!n||Q(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=S();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),cn(e,t,n),!0};function an(e){const t=Ut.swalPromiseReject.get(this);on(this),t&&t(e)}const on=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Ve.innerParams.get(e)||e._destroy())},ln=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),cn=(e,t,n)=>{var r;const s=S(),i=pe(t);"function"===typeof n.willClose&&n.willClose(t),null===(r=a.eventEmitter)||void 0===r||r.emit("willClose",t),i?un(e,t,s,n.returnFocus,n.didClose):tn(e,s,n.returnFocus,n.didClose)},un=(e,t,n,r,s)=>{a.swalCloseEventFinishedCallback=tn.bind(null,e,n,r,s);const i=function(e){var n;e.target===t&&(null===(n=a.swalCloseEventFinishedCallback)||void 0===n||n.call(a),delete a.swalCloseEventFinishedCallback,t.removeEventListener("animationend",i),t.removeEventListener("transitionend",i))};t.addEventListener("animationend",i),t.addEventListener("transitionend",i)},dn=(e,t)=>{setTimeout(()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=a.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()})},hn=e=>{let t=E();if(t||new fs,t=E(),!t)return;const n=F();W()?ae(T()):mn(t,e),ie(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},mn=(e,t)=>{const n=V(),r=F();n&&r&&(!t&&ue(D())&&(t=D()),ie(n),t&&(ae(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],u.loading))},pn=(e,t)=>{"select"===t.input||"radio"===t.input?bn(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(x(t.inputValue)||k(t.inputValue))&&(hn(D()),xn(e,t))},fn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return gn(n);case"radio":return yn(n);case"file":return vn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},gn=e=>e.checked?1:0,yn=e=>e.checked?e.value:null,vn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bn=(e,t)=>{const n=E();if(!n)return;const r=e=>{"select"===t.input?wn(n,Sn(e),t):"radio"===t.input&&kn(n,Sn(e),t)};x(t.inputOptions)||k(t.inputOptions)?(hn(D()),w(t.inputOptions).then(t=>{e.hideLoading(),r(t)})):"object"===typeof t.inputOptions?r(t.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},xn=(e,t)=>{const n=e.getInput();n&&(ae(n),w(t.inputValue).then(r=>{n.value="number"===t.input?`${parseFloat(r)||0}`:`${r}`,ie(n),n.focus(),e.hideLoading()}).catch(t=>{f(`Error in inputValue promise: ${t}`),n.value="",ie(n),n.focus(),e.hideLoading()}))};function wn(e,t,n){const r=re(e,u.select);if(!r)return;const s=(e,t,r)=>{const s=document.createElement("option");s.value=r,K(s,t),s.selected=Nn(r,n.inputValue),e.appendChild(s)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach(t=>s(e,t[1],t[0]))}else s(r,n,t)}),r.focus()}function kn(e,t,n){const r=re(e,u.radio);if(!r)return;t.forEach(e=>{const t=e[0],s=e[1],i=document.createElement("input"),a=document.createElement("label");i.type="radio",i.name=u.radio,i.value=t,Nn(t,n.inputValue)&&(i.checked=!0);const o=document.createElement("span");K(o,s),o.className=u.label,a.appendChild(i),a.appendChild(o),r.appendChild(a)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Sn=e=>{const t=[];return e instanceof Map?e.forEach((e,n)=>{let r=e;"object"===typeof r&&(r=Sn(r)),t.push([n,r])}):Object.keys(e).forEach(n=>{let r=e[n];"object"===typeof r&&(r=Sn(r)),t.push([n,r])}),t},Nn=(e,t)=>!!t&&t.toString()===e.toString(),Cn=e=>{const t=Ve.innerParams.get(e);e.disableButtons(),t.input?jn(e,"confirm"):Rn(e,!0)},En=e=>{const t=Ve.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?jn(e,"deny"):An(e,!1)},Tn=(e,t)=>{e.disableButtons(),t(At.cancel)},jn=(e,t)=>{const n=Ve.innerParams.get(e);if(!n.input)return void f(`The "input" parameter is needed to be set when using returnInputValueOn${m(t)}`);const r=e.getInput(),s=fn(e,n);n.inputValidator?_n(e,s,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?An(e,s):Rn(e,s)},_n=(e,t,n)=>{const r=Ve.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>w(r.inputValidator(t,r.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?An(e,t):Rn(e,t)})},An=(e,t)=>{const n=Ve.innerParams.get(e||void 0);n.showLoaderOnDeny&&hn(O()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>w(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),on(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})}).catch(t=>Pn(e||void 0,t))):e.close({isDenied:!0,value:t})},In=(e,t)=>{e.close({isConfirmed:!0,value:t})},Pn=(e,t)=>{e.rejectPromise(t)},Rn=(e,t)=>{const n=Ve.innerParams.get(e||void 0);n.showLoaderOnConfirm&&hn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>w(n.preConfirm(t,n.validationMessage))).then(n=>{ue(R())||!1===n?(e.hideLoading(),on(e)):In(e,"undefined"===typeof n?t:n)}).catch(t=>Pn(e||void 0,t))):In(e,t)};function Dn(){const e=Ve.innerParams.get(this);if(!e)return;const t=Ve.domCache.get(this);ae(t.loader),W()?e.icon&&ie(T()):Ln(t),ne([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Ln=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ie(t[0],"inline-block"):de()&&ae(e.actions)};function On(){const e=Ve.innerParams.get(this),t=Ve.domCache.get(this);return t?J(t.popup,e.input):null}function Mn(e,t,n){const r=Ve.domCache.get(e);t.forEach(e=>{r[e].disabled=n})}function Fn(e,t){const n=E();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${u.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Vn(){Mn(this,["confirmButton","denyButton","cancelButton"],!1)}function Bn(){Mn(this,["confirmButton","denyButton","cancelButton"],!0)}function Un(){Fn(this.getInput(),!1)}function $n(){Fn(this.getInput(),!0)}function zn(e){const t=Ve.domCache.get(this),n=Ve.innerParams.get(this);K(t.validationMessage,e),t.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),ie(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",u["validation-message"]),Z(r),te(r,u.inputerror))}function qn(){const e=Ve.domCache.get(this);e.validationMessage&&ae(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,u.inputerror))}const Hn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Wn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Gn={allowEnterKey:void 0},Kn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qn=e=>Object.prototype.hasOwnProperty.call(Hn,e),Yn=e=>-1!==Wn.indexOf(e),Xn=e=>Gn[e],Jn=e=>{Qn(e)||p(`Unknown parameter "${e}"`)},Zn=e=>{Kn.includes(e)&&p(`The parameter "${e}" is incompatible with toasts`)},er=e=>{const t=Xn(e);t&&v(e,t)},tr=e=>{!1===e.backdrop&&e.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&p(`Invalid theme "${e.theme}"`);for(const t in e)Jn(t),e.toast&&Zn(t),er(t)};function nr(e){const t=S(),n=E(),r=Ve.innerParams.get(this);if(!n||Q(n,r.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const s=rr(e),i=Object.assign({},r,s);tr(i),t.dataset.swal2Theme=i.theme,Ct(this,i),Ve.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const rr=e=>{const t={};return Object.keys(e).forEach(n=>{Yn(n)?t[n]=e[n]:p(`Invalid parameter to update: ${n}`)}),t};function sr(){const e=Ve.domCache.get(this),t=Ve.innerParams.get(this);t?(e.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),a.eventEmitter.emit("didDestroy"),ir(this)):ar(this)}const ir=e=>{ar(e),delete e.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},ar=e=>{e.isAwaitingPromise?(or(Ve,e),e.isAwaitingPromise=!0):(or(Ut,e),or(Ve,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},or=(e,t)=>{for(const n in e)e[n].delete(t)};var lr=Object.freeze({__proto__:null,_destroy:sr,close:rn,closeModal:rn,closePopup:rn,closeToast:rn,disableButtons:Bn,disableInput:$n,disableLoading:Dn,enableButtons:Vn,enableInput:Un,getInput:On,handleAwaitingPromise:on,hideLoading:Dn,rejectPromise:an,resetValidationMessage:qn,showValidationMessage:zn,update:nr});const cr=(e,t,n)=>{e.toast?ur(e,t,n):(mr(t),pr(t),fr(e,t,n))},ur=(e,t,n)=>{t.popup.onclick=()=>{e&&(dr(e)||e.timer||e.input)||n(At.close)}},dr=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let hr=!1;const mr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(hr=!0)}}},pr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(hr=!0)}}},fr=(e,t,n)=>{t.container.onclick=r=>{hr?hr=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(At.backdrop)}},gr=e=>"object"===typeof e&&e.jquery,yr=e=>e instanceof Element||gr(e),vr=e=>{const t={};return"object"!==typeof e[0]||yr(e[0])?["title","html","icon"].forEach((n,r)=>{const s=e[r];"string"===typeof s||yr(s)?t[n]=s:void 0!==s&&f(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}):Object.assign(t,e[0]),t};function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function xr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const wr=()=>a.timeout&&a.timeout.getTimerLeft(),kr=()=>{if(a.timeout)return ge(),a.timeout.stop()},Sr=()=>{if(a.timeout){const e=a.timeout.start();return fe(e),e}},Nr=()=>{const e=a.timeout;return e&&(e.running?kr():Sr())},Cr=e=>{if(a.timeout){const t=a.timeout.increase(e);return fe(t,!0),t}},Er=()=>!(!a.timeout||!a.timeout.isRunning());let Tr=!1;const jr={};function _r(){jr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Tr||(document.body.addEventListener("click",Ar),Tr=!0)}const Ar=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in jr){const n=t.getAttribute(e);if(n)return void jr[e].fire({template:n})}};class Ir{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];t.apply(n,i)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,n)}catch(f){console.error(f)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}a.eventEmitter=new Ir;const Pr=(e,t)=>{a.eventEmitter.on(e,t)},Rr=(e,t)=>{a.eventEmitter.once(e,t)},Dr=(e,t)=>{e?t?a.eventEmitter.removeListener(e,t):a.eventEmitter.removeAllListeners(e):a.eventEmitter.reset()};var Lr=Object.freeze({__proto__:null,argsToParams:vr,bindClickHandler:_r,clickCancel:_t,clickConfirm:Tt,clickDeny:jt,enableLoading:hn,fire:br,getActions:V,getCancelButton:L,getCloseButton:$,getConfirmButton:D,getContainer:S,getDenyButton:O,getFocusableElements:q,getFooter:B,getHtmlContainer:A,getIcon:T,getIconContent:j,getImage:I,getInputLabel:M,getLoader:F,getPopup:E,getProgressSteps:P,getTimerLeft:wr,getTimerProgressBar:U,getTitle:_,getValidationMessage:R,increaseTimer:Cr,isDeprecatedParameter:Xn,isLoading:G,isTimerRunning:Er,isUpdatableParameter:Yn,isValidParameter:Qn,isVisible:Et,mixin:xr,off:Dr,on:Pr,once:Rr,resumeTimer:Sr,showLoading:hn,stopTimer:kr,toggleTimer:Nr});class Or{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Mr=["swal-title","swal-html","swal-footer"],Fr=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Wr(n),Object.assign(Vr(n),Br(n),Ur(n),$r(n),zr(n),qr(n),Hr(n,Mr))},Vr=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{Gr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&("boolean"===typeof Hn[n]?t[n]="false"!==r:"object"===typeof Hn[n]?t[n]=JSON.parse(r):t[n]=r)}),t},Br=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function(`return ${r}`)())}),t},Ur=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{Gr(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${m(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))}),t},$r=e=>{const t={},n=e.querySelector("swal-image");return n&&(Gr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},zr=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Gr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},qr=e=>{const t={},n=e.querySelector("swal-input");n&&(Gr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(e=>{Gr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r})),t},Hr=(e,t)=>{const n={};for(const r in t){const s=t[r],i=e.querySelector(s);i&&(Gr(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Wr=e=>{const t=Mr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||p(`Unrecognized element <${n}>`)})},Gr=(e,t)=>{Array.from(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&p([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."])})},Kr=10,Qr=e=>{const t=S(),n=E();"function"===typeof e.willOpen&&e.willOpen(n),a.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Zr(t,n,e),setTimeout(()=>{Xr(t,n)},Kr),H()&&(Jr(t,e.scrollbarPadding,r),$t()),W()||a.previousActiveElement||(a.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),a.eventEmitter.emit("didOpen",n),ne(t,u["no-transition"])},Yr=e=>{const t=E();if(e.target!==t)return;const n=S();t.removeEventListener("animationend",Yr),t.removeEventListener("transitionend",Yr),n.style.overflowY="auto"},Xr=(e,t)=>{pe(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Yr),t.addEventListener("transitionend",Yr)):e.style.overflowY="auto"},Jr=(e,t,n)=>{Ht(),t&&"hidden"!==n&&Zt(n),setTimeout(()=>{e.scrollTop=0})},Zr=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ie(t,"grid"),setTimeout(()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")},Kr)):ie(t,"grid"),te([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],u["height-auto"])};var es={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ts(e){e.inputValidator||("email"===e.input&&(e.inputValidator=es.email),"url"===e.input&&(e.inputValidator=es.url))}function ns(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}function rs(e){ts(e),e.showLoaderOnConfirm&&!e.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),ns(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ce(e)}let ss;var is=new WeakMap;class as{constructor(){if(r(this,is,void 0),"undefined"===typeof window)return;ss=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Object.freeze(this.constructor.argsToParams(t));this.params=i,this.isAwaitingPromise=!1,s(is,this,this._main(ss.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tr(Object.assign({},t,e)),a.currentInstance){const e=Ut.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:t}=a.currentInstance;a.currentInstance._destroy(),t||e({isDismissed:!0}),H()&&zt()}a.currentInstance=ss;const n=ls(e,t);rs(n),Object.freeze(n),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);const r=cs(ss);return Ct(ss,n),Ve.innerParams.set(ss,n),os(ss,r,n)}then(e){return n(is,this).then(e)}finally(e){return n(is,this).finally(e)}}const os=(e,t,n)=>new Promise((r,s)=>{const i=t=>{e.close({isDismissed:!0,dismiss:t})};Ut.swalPromiseResolve.set(e,r),Ut.swalPromiseReject.set(e,s),t.confirmButton.onclick=()=>{Cn(e)},t.denyButton.onclick=()=>{En(e)},t.cancelButton.onclick=()=>{Tn(e,i)},t.closeButton.onclick=()=>{i(At.close)},cr(n,t,i),Pt(a,n,i),pn(e,n),Qr(n),us(a,n,i),ds(t,n),setTimeout(()=>{t.container.scrollTop=0})}),ls=(e,t)=>{const n=Fr(e),r=Object.assign({},Hn,t,n,e);return r.showClass=Object.assign({},Hn.showClass,r.showClass),r.hideClass=Object.assign({},Hn.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},cs=e=>{const t={popup:E(),container:S(),actions:V(),confirmButton:D(),denyButton:O(),cancelButton:L(),loader:F(),closeButton:$(),validationMessage:R(),progressSteps:P()};return Ve.domCache.set(e,t),t},us=(e,t,n)=>{const r=U();ae(r),t.timer&&(e.timeout=new Or(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ie(r),X(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&fe(t.timer)})))},ds=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(hs(e)||ms(e,t)||Rt(-1,1)):(v("allowEnterKey"),void ps())},hs=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&ue(n))return n.focus(),!0;return!1},ms=(e,t)=>t.focusDeny&&ue(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ue(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ue(e.confirmButton))&&(e.confirmButton.focus(),!0),ps=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}as.prototype.disableButtons=Bn,as.prototype.enableButtons=Vn,as.prototype.getInput=On,as.prototype.disableInput=$n,as.prototype.enableInput=Un,as.prototype.hideLoading=Dn,as.prototype.disableLoading=Dn,as.prototype.showValidationMessage=zn,as.prototype.resetValidationMessage=qn,as.prototype.close=rn,as.prototype.closePopup=rn,as.prototype.closeModal=rn,as.prototype.closeToast=rn,as.prototype.rejectPromise=an,as.prototype.update=nr,as.prototype._destroy=sr,Object.assign(as,Lr),Object.keys(lr).forEach(e=>{as[e]=function(){return ss&&ss[e]?ss[e](...arguments):null}}),as.DismissReason=At,as.version="11.22.2";const fs=as;return fs.default=fs,fs}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,f(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function N(e,t,r,s,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(){}function _(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return _((u=e._init)(e._payload),t,s,i,a)}}if(u)return a=a(e),u=""===i?"."+T(e,0):i,w(a)?(s="",null!=u&&(s=u.replace(E,"$&/")+"/"),_(a,t,s,"",function(e){return e})):null!=a&&(C(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=N(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var f=0;f<e.length;f++)u+=_(i=e[f],t,s,o=p+T(i,f),a);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(i=e.next()).done;)u+=_(i=i.value,t,s,o=p+T(i,f++),a);else if("object"===o){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(j,j):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],s=0;return _(e,r,"","",function(e){return t.call(n,e,s++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return N(e,i,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),s=k.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(i){P(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!f)if(null!==r(c))f=!0,N||(N=!0,S());else{var t=r(u);null!==t&&P(k,t.startTime-e)}}var S,N=!1,C=-1,E=5,T=-1;function j(){return!!y||!(t.unstable_now()-T<E)}function _(){if(y=!1,N){var e=t.unstable_now();T=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(C),C=-1),p=!0;var i=m;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&j());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&s(c),w(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(k,l.startTime-e),n=!1}}break e}finally{h=null,m=i,p=!1}n=void 0}}finally{n?S():N=!1}}}if("function"===typeof x)S=function(){x(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=_,S=function(){I.postMessage(null)}}else S=function(){v(_,0)};function P(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,P(k,i-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,N||(N=!0,S()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".9af66caf.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="braille-learning-app:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkbraille_learning_app=self.webpackChunkbraille_learning_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=(n(358),"popstate");function s(){return d(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return l("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:c(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=s,c=i.history,u="POP",d=null,m=p();function p(){return(c.state||{idx:null}).idx}function f(){u="POP";let e=p(),t=null==e?null:e-m;m=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return h(e)}null==m&&(m=0,c.replaceState({...c.state,idx:m},""));let y={get action(){return u},get location(){return e(i,c)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(r,f),d=e,()=>{i.removeEventListener(r,f),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=l(y.location,e,t);n&&n(r,e),m=p()+1;let s=o(r,m),h=y.createHref(r);try{c.pushState(s,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}a&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let r=l(y.location,e,t);n&&n(r,e),m=p();let s=o(r,m),i=y.createHref(r);c.replaceState(s,"",i),a&&d&&d({action:u,location:y.location,delta:0})},go:e=>c.go(e)};return y}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),i(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:c(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function m(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let s=_(("string"===typeof t?u(t):t).pathname||"/",n);if(null==s)return null;let i=f(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=j(s);a=C(i[o],e,r)}return a}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(i(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=D([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),f(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))s(e,t,n);else s(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=g(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var y=/^:[\w-]+$/,v=3,b=2,x=1,w=10,k=-2,S=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=k),t&&(r+=b),n.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?v:""===t?x:w),r)}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:D([i,u.pathname]),pathnameBase:L(D([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=D([i,u.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function j(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e){let t=I(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function R(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let a,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?u(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:O(r),hash:M(s)}}(r,a),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var V=["POST","PUT","PATCH","DELETE"],B=(new Set(V),["GET",...V]);new Set(B),Symbol("ResetLoaderData");var U=e.createContext(null);U.displayName="DataRouter";var $=e.createContext(null);$.displayName="DataRouterState";var z=e.createContext({isTransitioning:!1});z.displayName="ViewTransition";var q=e.createContext(new Map);q.displayName="Fetchers";var H=e.createContext(null);H.displayName="Await";var W=e.createContext(null);W.displayName="Navigation";var G=e.createContext(null);G.displayName="Location";var K=e.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var Q=e.createContext(null);Q.displayName="RouteError";function Y(){return null!=e.useContext(G)}function X(){return i(Y(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(G).location}var J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(t){e.useContext(W).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=ce("useNavigate"),n=de("useNavigate"),r=e.useRef(!1);Z(()=>{r.current=!0});let s=e.useCallback(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(r.current,J),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...s}))},[t,n]);return s}():function(){i(Y(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(U),{basename:n,navigator:r}=e.useContext(W),{matches:s}=e.useContext(K),{pathname:o}=X(),l=JSON.stringify(P(s)),c=e.useRef(!1);Z(()=>{c.current=!0});let u=e.useCallback(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(c.current,J),!c.current)return;if("number"===typeof e)return void r.go(e);let i=R(e,JSON.parse(l),o,"path"===s.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:D([n,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)},[n,r,l,o,t]);return u}()}e.createContext(null);function te(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(K),{pathname:s}=X(),i=JSON.stringify(P(r));return e.useMemo(()=>R(t,JSON.parse(i),s,"path"===n),[t,i,s,n])}function ne(t,n,r,s){i(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(W),{matches:l}=e.useContext(K),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";pe(h,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=X();if(n){let e="string"===typeof n?u(n):n;i("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=m(t,{pathname:b});a(f||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),a(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=oe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:D([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:D([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,s);return n&&w?e.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function re(){let t=he(),n=F(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,o)}var se=e.createElement(re,null),ie=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(t){let{routeContext:n,match:r,children:s}=t,i=e.useContext(U);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(K.Provider,{value:n},s)}function oe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let s=t,a=r?.errors;if(null!=a){let e=s.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((t,i,c)=>{let u,d=!1,h=null,m=null;r&&(u=a&&i.route.id?a[i.route.id]:void 0,h=i.route.errorElement||se,o&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):l===c&&(d=!0,m=i.route.hydrateFallbackElement||null)));let p=n.concat(s.slice(0,c+1)),f=()=>{let n;return n=u?h:d?m:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(ae,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?e.createElement(ie,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(t){let n=e.useContext(U);return i(n,le(t)),n}function ue(t){let n=e.useContext($);return i(n,le(t)),n}function de(t){let n=function(t){let n=e.useContext(K);return i(n,le(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let t=e.useContext(Q),n=ue("useRouteError"),r=de("useRouteError");return void 0!==t?t:n.errors?.[r]}var me={};function pe(e,t,n){t||me[e]||(me[e]=!0,a(!1,n))}e.memo(function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)});function fe(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ge(t){let{basename:n="/",children:r=null,location:s,navigationType:o="POP",navigator:l,static:c=!1}=t;i(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);"string"===typeof s&&(s=u(s));let{pathname:m="/",search:p="",hash:f="",state:g=null,key:y="default"}=s,v=e.useMemo(()=>{let e=_(m,d);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:y},navigationType:o}},[d,m,p,f,g,y,o]);return a(null!=v,`<Router basename="${d}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement(W.Provider,{value:h},e.createElement(G.Provider,{children:r,value:v}))}function ye(e){let{children:t,location:n}=e;return ne(ve(t),n)}e.Component;function ve(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,s)=>{if(!e.isValidElement(t))return;let a=[...n,s];if(t.type===e.Fragment)return void r.push.apply(r,ve(t.props.children,a));i(t.type===fe,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=ve(t.props.children,a)),r.push(o)}),r}var be="get",xe="application/x-www-form-urlencoded";function we(e){return null!=e&&"string"===typeof e.tagName}var ke=null;var Se=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ne(e){return null==e||Se.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null)}function Ce(e,t){let n,r,s,i,a;if(we(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?_(a,t):null,n=e.getAttribute("method")||be,s=Ne(e.getAttribute("enctype"))||xe,i=new FormData(e)}else if(function(e){return we(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return we(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?_(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||be,s=Ne(e.getAttribute("formenctype"))||Ne(a.getAttribute("enctype"))||xe,i=new FormData(a,e),!function(){if(null===ke)try{new FormData(document.createElement("form"),0),ke=!1}catch(e){ke=!0}return ke}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(we(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=be,r=null,s=xe,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function Ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function je(e){return null!=e&&"string"===typeof e.page}function _e(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ae(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ie(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function Pe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!je(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e},[])}function Re(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var De=new Set([100,101,204,205]);function Le(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===_(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function Oe(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let s,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(F(n))return e.createElement(Me,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Me,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),i)}function Me(t){let{title:n,renderScripts:r,isOutsideRemixApp:s,children:i}=t,{routeModules:a}=$e();return a.root?.Layout&&!s?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(Qe,null):null)))}function Fe(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let t=e.useContext(U);return Ee(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Be(){let t=e.useContext($);return Ee(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ue=e.createContext(void 0);function $e(){let t=e.useContext(Ue);return Ee(t,"You must render this element inside a <HydratedRouter> element"),t}function ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!Ke)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function He(t){let{page:n,...r}=t,{router:s}=Ve(),i=e.useMemo(()=>m(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?e.createElement(Ge,{page:n,matches:i,...r}):null}function We(t){let{manifest:n,routeModules:r}=$e(),[s,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return Pe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Te(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(_e).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,r).then(t=>{e||i(t)}),()=>{e=!0}},[t,n,r]),s}function Ge(t){let{page:n,matches:r,...s}=t,i=X(),{manifest:a,routeModules:o}=$e(),{basename:l}=Ve(),{loaderData:c,matches:u}=Be(),d=e.useMemo(()=>Ae(n,r,u,a,i,"data"),[n,r,u,a,i]),h=e.useMemo(()=>Ae(n,r,u,a,i,"assets"),[n,r,u,a,i]),m=e.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let s=Le(n,l);return t&&e.size>0&&s.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[l,c,i,a,d,r,n,o]),p=e.useMemo(()=>Ie(h,a),[h,a]),f=We(h);return e.createElement(e.Fragment,null,m.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...s})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...s})),f.map(t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})}))}Ue.displayName="FrameworkContext";var Ke=!1;function Qe(t){let{manifest:n,serverHandoffString:r,isSpaMode:s,renderMeta:i,routeDiscovery:a,ssr:o}=$e(),{router:l,static:c,staticContext:u}=Ve(),{matches:d}=Be(),h=Fe(a,o);i&&(i.didRenderScripts=!0);let p=qe(d,null,s);e.useEffect(()=>{0},[]);let f=e.useMemo(()=>{let s=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(n.url)}`};\n${p.map((e,t)=>{let r=`route${t}`,s=n.routes[e.route.id];Ee(s,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,s=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let o=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Re(s),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Re(i),type:"module",async:!0}))},[]),g=Ke?[]:(n.entry.imports.concat(Ie(p,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let v="object"===typeof n.sri?n.sri:{};return Ke?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,h?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),g.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:v[n],suppressHydrationWarning:!0})),f)}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Xe&&(window.__reactRouterVersion="7.6.3")}catch(sj){}function Je(t){let{basename:n,children:r,window:i}=t,a=e.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=e.useState({action:o.action,location:o.location}),u=e.useCallback(t=>{e.startTransition(()=>c(t))},[c]);return e.useLayoutEffect(()=>o.listen(u),[o,u]),e.createElement(ge,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=e.forwardRef(function(t,n){let r,{onClick:s,discover:o="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:m,target:p,to:f,preventScrollReset:g,viewTransition:y,...v}=t,{basename:b}=e.useContext(W),x="string"===typeof f&&Ze.test(f),w=!1;if("string"===typeof f&&x&&(r=f,Xe))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=_(t.pathname,b);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:w=!0}catch(sj){a(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=e.useContext(W),{hash:a,pathname:o,search:l}=te(t,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:D([r,o])),s.createHref({pathname:c,search:l,hash:a})}(f,{relative:u}),[S,N,C]=function(t,n){let r=e.useContext(Ue),[s,i]=e.useState(!1),[a,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,m=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let p=()=>{i(!0)},f=()=>{i(!1),o(!1)};return r?"intent"!==t?[a,m,{}]:[a,m,{onFocus:ze(l,p),onBlur:ze(c,f),onMouseEnter:ze(u,p),onMouseLeave:ze(d,f),onTouchStart:ze(h,p)}]:[!1,m,{}]}(l,v),E=function(t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),u=X(),d=te(t,{relative:a});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);l(t,{replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,d,r,s,n,t,i,a,o])}(f,{replace:h,state:m,target:p,preventScrollReset:g,relative:u,viewTransition:y});let T=e.createElement("a",{...v,...C,href:r||k,onClick:w||d?s:function(e){s&&s(e),e.defaultPrevented||E(e)},ref:Ye(n,N),target:p,"data-discover":x||"render"!==o?void 0:"true"});return S&&!x?e.createElement(e.Fragment,null,T,e.createElement(He,{page:k})):T});et.displayName="Link";var tt=e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,m=te(c,{relative:h.relative}),p=X(),f=e.useContext($),{navigator:g,basename:y}=e.useContext(W),v=null!=f&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(z);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=st("useViewTransitionState"),a=te(t,{relative:n.relative});if(!r.isTransitioning)return!1;let o=_(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=_(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=E(a.pathname,l)||null!=E(a.pathname,o)}(m)&&!0===u,b=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,x=p.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=_(w,y)||w);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,N=x===b||!o&&x.startsWith(b)&&"/"===x.charAt(k),C=null!=w&&(w===b||!o&&w.startsWith(b)&&"/"===w.charAt(b.length)),T={isActive:N,isPending:C,isTransitioning:v},j=N?r:void 0;S="function"===typeof a?a(T):[a,N?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(T):l;return e.createElement(et,{...h,"aria-current":j,className:S,ref:n,style:A,to:c,viewTransition:u},"function"===typeof d?d(T):d)});tt.displayName="NavLink";var nt=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:s,navigate:a,reloadDocument:o,replace:l,state:u,method:d=be,action:h,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:g,...y}=t,v=ot(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(W),s=e.useContext(K);i(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...te(t||".",{relative:n})},l=X();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:D([r,o.pathname]));return c(o)}(h,{relative:p}),x="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&Ze.test(h);return e.createElement("form",{ref:n,method:x,action:b,onSubmit:o?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:s,method:n,navigate:a,replace:l,state:u,relative:p,preventScrollReset:f,viewTransition:g})},...y,"data-discover":w||"render"!==r?void 0:"true"})});function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function st(t){let n=e.useContext(U);return i(n,rt(t)),n}nt.displayName="Form";var it=0,at=()=>`__${String(++it)}__`;function ot(){let{router:t}=st("useSubmit"),{basename:n}=e.useContext(W),r=de("useRouteId");return e.useCallback(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=Ce(e,n);if(!1===s.navigate){let e=s.fetcherKey||at();await t.fetch(e,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,n,r])}var lt=n(579);const ct=()=>(0,lt.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,lt.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,lt.jsxs)("div",{className:"flex items-center mb-4 gap-3",children:[(0,lt.jsx)("img",{src:"/images/figma/logo-mini.png",alt:"Logo",className:"w-10 h-10 sm:w-12 sm:h-12"}),(0,lt.jsxs)(et,{to:"/",className:"font-bold text-secondary-500 font-irish text-xl sm:text-2xl lg:text-3xl",children:[(0,lt.jsx)("span",{className:"text-[#2575FF]",children:"Braille"}),(0,lt.jsx)("span",{className:"text-white",children:"Play"})]})]}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-300",children:"Contact"}),(0,lt.jsx)("p",{className:"text-lg font-bold",children:"logncoding@gmail.com"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Learn"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)(et,{to:"/learn/alphabet",className:"block text-gray-300 hover:text-white text-sm",children:"Alphabet Learning"}),(0,lt.jsx)(et,{to:"/learn/numbers",className:"block text-gray-300 hover:text-white text-sm",children:"Number Learning"}),(0,lt.jsx)(et,{to:"/learn/practice",className:"block text-gray-300 hover:text-white text-sm",children:"Practice Mode"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Quiz"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)(et,{to:"/quiz/image-to-braille",className:"block text-gray-300 hover:text-white text-sm",children:"Image-to-Braille"}),(0,lt.jsx)(et,{to:"/quiz/math",className:"block text-gray-300 hover:text-white text-sm",children:"Math Quiz"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Game"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)(et,{to:"/game/typing",className:"block text-gray-300 hover:text-white text-sm",children:"Typing Game"}),(0,lt.jsx)(et,{to:"/game/sprint",className:"block text-gray-300 hover:text-white text-sm",children:"Typing Sprint"})]})]})]}),(0,lt.jsx)("div",{className:"border-t border-gray-700 mt-8 pt-8",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-400",children:"Braille Input Device and Web Content for Learning"}),(0,lt.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"COPYRIGHT \xa9 ALL RIGHTS RESERVED"})]})})]})}),ut=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},dt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ut(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new ht;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ht extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){return function(e){const t=ut(e);return dt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},pt=function(e){try{return dt.decodeString(e,!0)}catch(sj){console.error("base64Decode failed: ",sj)}return null};function ft(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const gt=()=>{try{return ft().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DICTIONARY_API_URL:"https://api.dictionaryapi.dev/api/v2/entries/en/",REACT_APP_FIREBASE_API_KEY:"your_api_key_here",REACT_APP_FIREBASE_APP_ID:"your_app_id",REACT_APP_FIREBASE_AUTH_DOMAIN:"your_project_id.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"your_sender_id",REACT_APP_FIREBASE_PROJECT_ID:"your_project_id",REACT_APP_FIREBASE_STORAGE_BUCKET:"your_project_id.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(sj){return}const t=e&&pt(e[1]);return t&&JSON.parse(t)})()}catch(sj){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${sj}`)}},yt=e=>{var t,n;return null===(n=null===(t=gt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},vt=e=>{const t=yt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},bt=()=>{var e;return null===(e=gt())||void 0===e?void 0:e.config},xt=e=>{var t;return null===(t=gt())||void 0===t?void 0:t[`_${e}`]};class wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function kt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function St(e){return(await fetch(e,{credentials:"include"})).ok}function Nt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(i)),""].join(".")}const Ct={};let Et=!1;function Tt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!kt(window.location.host)||Ct[e]===t||Ct[e]||Et)return;function n(e){return`__firebase__banner__${e}`}Ct[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ct))Ct[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Et=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _t(){var e;const t=null===(e=gt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(sj){return!1}}function At(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function It(){return!_t()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){try{return"object"===typeof indexedDB}catch(sj){return!1}}function Rt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class Dt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(Ot,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${s} (${n}).`;return new Dt(n,i,t)}}const Ot=/\{\$([^}]+)}/g;function Mt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(Ft(n)&&Ft(i)){if(!Mt(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ft(e){return null!==e&&"object"===typeof e}function Vt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Bt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ut(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class $t{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=zt),void 0===r.error&&(r.error=zt),void 0===r.complete&&(r.complete=zt);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(sj){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(sj){"undefined"!==typeof console&&console.error&&console.error(sj)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}function qt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Ht(e){return e&&e._delegate?e._delegate:e}class Wt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gt="[DEFAULT]";class Kt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new wt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(sj){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(sj){if(r)return null;throw sj}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Gt})}catch(sj){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(sj){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Gt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;return this.component?this.component.multipleInstances?e:Gt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yt=[];var Xt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xt||(Xt={}));const Jt={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},Zt=Xt.INFO,en={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},tn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=en[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...i)};class nn{constructor(e){this.name=e,this._logLevel=Zt,this._logHandler=tn,this._userLogHandler=null,Yt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Jt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}let rn,sn;const an=new WeakMap,on=new WeakMap,ln=new WeakMap,cn=new WeakMap,un=new WeakMap;let dn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return on.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(sn||(sn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fn(this),n),pn(an.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pn(e.apply(fn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(fn(this),t,...r);return ln.set(i,t.sort?t.sort():[t]),pn(i)}}function mn(e){return"function"===typeof e?hn(e):(e instanceof IDBTransaction&&function(e){if(on.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});on.set(e,t)}(e),t=e,(rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,dn):e);var t}function pn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(pn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&an.set(t,e)}).catch(()=>{}),un.set(t,e),t}(e);if(cn.has(e))return cn.get(e);const t=mn(e);return t!==e&&(cn.set(e,t),un.set(t,e)),t}const fn=e=>un.get(e);function gn(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=pn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(pn(a.result),e.oldVersion,e.newVersion,pn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const yn=["get","getKey","getAll","getAllKeys","count"],vn=["put","add","delete","clear"],bn=new Map;function xn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(bn.get(t))return bn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=vn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!yn.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return bn.set(t,i),i}dn=(e=>({...e,get:(t,n,r)=>xn(t,n)||e.get(t,n,r),has:(t,n)=>!!xn(t,n)||e.has(t,n)}))(dn);class wn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const kn="@firebase/app",Sn="0.13.2",Nn=new nn("@firebase/app"),Cn="@firebase/app-compat",En="@firebase/analytics-compat",Tn="@firebase/analytics",jn="@firebase/app-check-compat",_n="@firebase/app-check",An="@firebase/auth",In="@firebase/auth-compat",Pn="@firebase/database",Rn="@firebase/data-connect",Dn="@firebase/database-compat",Ln="@firebase/functions",On="@firebase/functions-compat",Mn="@firebase/installations",Fn="@firebase/installations-compat",Vn="@firebase/messaging",Bn="@firebase/messaging-compat",Un="@firebase/performance",$n="@firebase/performance-compat",zn="@firebase/remote-config",qn="@firebase/remote-config-compat",Hn="@firebase/storage",Wn="@firebase/storage-compat",Gn="@firebase/firestore",Kn="@firebase/ai",Qn="@firebase/firestore-compat",Yn="firebase",Xn="[DEFAULT]",Jn={[kn]:"fire-core",[Cn]:"fire-core-compat",[Tn]:"fire-analytics",[En]:"fire-analytics-compat",[_n]:"fire-app-check",[jn]:"fire-app-check-compat",[An]:"fire-auth",[In]:"fire-auth-compat",[Pn]:"fire-rtdb",[Rn]:"fire-data-connect",[Dn]:"fire-rtdb-compat",[Ln]:"fire-fn",[On]:"fire-fn-compat",[Mn]:"fire-iid",[Fn]:"fire-iid-compat",[Vn]:"fire-fcm",[Bn]:"fire-fcm-compat",[Un]:"fire-perf",[$n]:"fire-perf-compat",[zn]:"fire-rc",[qn]:"fire-rc-compat",[Hn]:"fire-gcs",[Wn]:"fire-gcs-compat",[Gn]:"fire-fst",[Qn]:"fire-fst-compat",[Kn]:"fire-vertex","fire-js":"fire-js",[Yn]:"fire-js-all"},Zn=new Map,er=new Map,tr=new Map;function nr(e,t){try{e.container.addComponent(t)}catch(sj){Nn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,sj)}}function rr(e){const t=e.name;if(tr.has(t))return Nn.debug(`There were multiple attempts to register component ${t}.`),!1;tr.set(t,e);for(const n of Zn.values())nr(n,e);for(const n of er.values())nr(n,e);return!0}function sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ir(e){return null!==e&&void 0!==e&&void 0!==e.settings}const ar=new Lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class or{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const lr="11.10.0";function cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Xn,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw ar.create("bad-app-name",{appName:String(s)});if(n||(n=bt()),!n)throw ar.create("no-options");const i=Zn.get(s);if(i){if(Mt(n,i.options)&&Mt(r,i.config))return i;throw ar.create("duplicate-app",{appName:s})}const a=new Qt(s);for(const l of tr.values())a.addComponent(l);const o=new or(n,r,a);return Zn.set(s,o),o}function ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;const t=Zn.get(e);if(!t&&e===Xn&&bt())return cr();if(!t)throw ar.create("no-app",{appName:e});return t}function dr(e,t,n){var r;let s=null!==(r=Jn[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Nn.warn(e.join(" "))}rr(new Wt(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const hr="firebase-heartbeat-store";let mr=null;function pr(){return mr||(mr=gn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(hr)}catch(sj){console.warn(sj)}}}).catch(e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})})),mr}async function fr(e,t){try{const n=(await pr()).transaction(hr,"readwrite"),r=n.objectStore(hr);await r.put(t,gr(e)),await n.done}catch(sj){if(sj instanceof Dt)Nn.warn(sj.message);else{const t=ar.create("idb-set",{originalErrorMessage:null===sj||void 0===sj?void 0:sj.message});Nn.warn(t.message)}}}function gr(e){return`${e.name}!${e.options.appId}`}class yr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new br(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(sj){Nn.warn(sj)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=vr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),xr(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=mt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(sj){return Nn.warn(sj),""}}}function vr(){return(new Date).toISOString().substring(0,10)}class br{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Pt()&&Rt().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await pr()).transaction(hr),n=await t.objectStore(hr).get(gr(e));return await t.done,n}catch(sj){if(sj instanceof Dt)Nn.warn(sj.message);else{const t=ar.create("idb-get",{originalErrorMessage:null===sj||void 0===sj?void 0:sj.message});Nn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xr(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}var wr;wr="",rr(new Wt("platform-logger",e=>new wn(e),"PRIVATE")),rr(new Wt("heartbeat",e=>new yr(e),"PRIVATE")),dr(kn,Sn,wr),dr(kn,Sn,"esm2017"),dr("fire-js","");function kr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Sr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nr=Sr,Cr=new Lt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Er=new nn("@firebase/auth");function Tr(e){if(Er.logLevel<=Xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.error(`Auth (${lr}): ${e}`,...n)}}function jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pr(e,...n)}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pr(e,...n)}function Ar(e,t,n){const r=Object.assign(Object.assign({},Nr()),{[t]:n});return new Lt("auth","Firebase",r).create(t,{appName:e.name})}function Ir(e){return Ar(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Cr.create(e,...n)}function Rr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Pr(t,...r)}}function Dr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tr(t),new Error(t)}function Lr(e,t){e||Dr(t)}function Or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Vr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mr()||At()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Br(e,t){Lr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ur{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qr=new Vr(3e4,6e4);function Hr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Wr(e,t,n,r){return Gr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=Vt(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&kt(e.emulatorConfig.host)&&(l.credentials="include"),Ur.fetch()(await Qr(e,e.config.apiHost,n,a),l)})}async function Gr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$r),t);try{const t=new Xr(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Jr(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Jr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Jr(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ar(e,o,a);jr(e,o)}}catch(sj){if(sj instanceof Dt)throw sj;jr(e,"network-request-failed",{message:String(sj)})}}async function Kr(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Wr(e,t,n,r,s);return"mfaPendingCredential"in i&&jr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Qr(e,t,n,r){const s=`${t}${n}?${r}`,i=e,a=i.config.emulator?Br(e.config,s):`${e.config.apiScheme}://${s}`;if(zr.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function Yr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(_r(this.auth,"network-request-failed")),qr.get())})}}function Jr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_r(e,t,r);return s.customData._tokenResponse=n,s}function Zr(e){return void 0!==e&&void 0!==e.enterprise}class es{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ts(e,t){return Wr(e,"GET","/v2/recaptchaConfig",Hr(e,t))}async function ns(e,t){return Wr(e,"POST","/v1/accounts:lookup",t)}function rs(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(sj){}}function ss(e){return 1e3*Number(e)}function is(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{const e=pt(n);return e?JSON.parse(e):(Tr("Failed to decode base64 JWT payload"),null)}catch(sj){return Tr("Caught error parsing JWT payload as JSON",null===sj||void 0===sj?void 0:sj.toString()),null}}function as(e){const t=is(e);return Rr(t,"internal-error"),Rr("undefined"!==typeof t.exp,"internal-error"),Rr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function os(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(sj){throw sj instanceof Dt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(sj)&&e.auth.currentUser===e&&await e.auth.signOut(),sj}}class ls{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(sj){return void("auth/network-request-failed"===(null===sj||void 0===sj?void 0:sj.code)&&this.schedule(!0))}this.schedule()}}class cs{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rs(this.lastLoginAt),this.creationTime=rs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function us(e){var t;const n=e.auth,r=await e.getIdToken(),s=await os(e,ns(n,{idToken:r}));Rr(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?ds(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cs(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function ds(e){return e.map(e=>{var{providerId:t}=e,n=kr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rr(e.idToken,"internal-error"),Rr("undefined"!==typeof e.idToken,"internal-error"),Rr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):as(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Rr(0!==e.length,"internal-error");const t=as(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Rr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Gr(e,{},async()=>{const n=Vt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await Qr(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&kt(e.emulatorConfig.host)&&(o.credentials="include"),Ur.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new hs;return n&&(Rr("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Rr("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Rr("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function ms(e,t){Rr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ps{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=kr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ls(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cs(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await os(this,this.stsTokenManager.getToken(this.auth,e));return Rr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ht(e),r=await n.getIdToken(t),s=is(r);Rr(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:rs(ss(s.auth_time)),issuedAtTime:rs(ss(s.iat)),expirationTime:rs(ss(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ht(e);await us(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Rr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Rr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await us(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await os(this,async function(e,t){return Wr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:k}=t;Rr(v&&k,e,"internal-error");const S=hs.fromJSON(this.name,k);Rr("string"===typeof v,e,"internal-error"),ms(u,e.name),ms(d,e.name),Rr("boolean"===typeof b,e,"internal-error"),Rr("boolean"===typeof x,e,"internal-error"),ms(h,e.name),ms(m,e.name),ms(p,e.name),ms(f,e.name),ms(g,e.name),ms(y,e.name);const N=new ps({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(N.providerData=w.map(e=>Object.assign({},e))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hs;r.updateFromServerResponse(t);const s=new ps({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await us(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Rr(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?ds(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),a=new hs;a.updateFromIdToken(n);const o=new ps({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new cs(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(o,l),o}}const fs=new Map;function gs(e){Lr(e instanceof Function,"Expected a class definition");let t=fs.get(e);return t?(Lr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fs.set(e,t),t)}class ys{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ys.type="NONE";const vs=ys;function bs(e,t,n){return`firebase:${e}:${t}:${n}`}class xs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=bs(this.userKey,r.apiKey,s),this.fullPersistenceKey=bs("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ns(this.auth,{idToken:e}).catch(()=>{});return t?ps._fromGetAccountInfoResponse(this.auth,t,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xs(gs(vs),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||gs(vs);const i=bs(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await ns(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ps._fromGetAccountInfoResponse(e,r,t)}else n=ps._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new xs(s,e,n)):new xs(s,e,n)}}function ws(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ks(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ts(t))return"Blackberry";if(js(t))return"Webos";if(Ss(t))return"Safari";if((t.includes("chrome/")||Ns(t))&&!t.includes("edge/"))return"Chrome";if(Es(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/firefox\//i.test(e)}function Ss(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/crios\//i.test(e)}function Cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iemobile/i.test(e)}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/android/i.test(e)}function Ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/blackberry/i.test(e)}function js(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/webos/i.test(e)}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function As(){return function(){const e=jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return _s(e)||Es(e)||js(e)||Ts(e)||/windows phone/i.test(e)||Cs(e)}function Ps(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ws(jt());break;case"Worker":t=`${ws(jt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${lr}/${r}`}class Rs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(sj){r(sj)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(sj){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===sj||void 0===sj?void 0:sj.message})}}}class Ds{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Ls{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ms(this),this.idTokenSubscription=new Ms(this),this.beforeStateQueue=new Rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await xs.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(sj){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ns(this,{idToken:e}),n=await ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(sj){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(sj))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Rr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(sj){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await us(e)}catch(sj){if("auth/network-request-failed"!==(null===sj||void 0===sj?void 0:sj.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Ir(this));const t=e?Ht(e):null;return t&&Rr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Rr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wr(e,"GET","/v2/passwordPolicy",Hr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ds(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wr(e,"POST","/v2/accounts:revokeToken",Hr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;Rr(t,this,"argument-error"),this.redirectPersistenceManager=await xs.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rr(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Er.logLevel<=Xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.warn(`Auth (${lr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Os(e){return Ht(e)}class Ms{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $t(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Rr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fs={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vs(e){return Fs.loadJS(e)}function Bs(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Us{constructor(){this.enterprise=new $s}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $s{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zs="NO_RECAPTCHA";class qs{constructor(e){this.type="recaptcha-enterprise",this.auth=Os(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Zr(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(zs)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Us).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ts(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new es(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Zr(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Fs.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Vs(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new qs(e);let a;if(s)a=zs;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ws(e,t,n,r,s){var i,a;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Hs(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Hs(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const s=await Hs(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===s.code||"auth/invalid-app-credential"===s.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const s=await Hs(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await Hs(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function Gs(e){const t=Os(e),n=await ts(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new es(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new qs(t).verify()}}function Ks(e,t,n){const r=Os(e);Rr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Qs(t),{host:a,port:o}=function(e){const t=Qs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Ys(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ys(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${i}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Rr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Rr(Mt(c,r.config.emulator)&&Mt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,kt(a)?(St(`${i}//${a}${l}`),Tt("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ys(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,t){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function Js(e,t){return Wr(e,"POST","/v1/accounts:signUp",t)}async function Zs(e,t){return Kr(e,"POST","/v1/accounts:signInWithPassword",Hr(e,t))}class ei extends Xs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ei(e,t,"password")}static _fromEmailAndCode(e,t){return new ei(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ws(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Hr(e,t))}(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ws(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Js,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Hr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ti(e,t){return Kr(e,"POST","/v1/accounts:signInWithIdp",Hr(e,t))}class ni extends Xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=kr(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new ni(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return ti(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ti(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vt(t)}return e}}async function ri(e,t){return Wr(e,"POST","/v1/accounts:sendVerificationCode",Hr(e,t))}const si={USER_NOT_FOUND:"user-not-found"};class ii extends Xs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ii({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ii({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Hr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Hr(e,t));if(n.temporaryProof)throw Jr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Hr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),si)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new ii({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class ai{constructor(e){var t,n,r,s,i,a;const o=Bt(Ut(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Rr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Bt(Ut(e)).link,n=t?Bt(Ut(t)).deep_link_id:null,r=Bt(Ut(e)).deep_link_id;return(r?Bt(Ut(r)).link:null)||r||n||t||e}(e);try{return new ai(t)}catch(n){return null}}}class oi{constructor(){this.providerId=oi.PROVIDER_ID}static credential(e,t){return ei._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ai.parseLink(t);return Rr(n,"argument-error"),ei._fromEmailAndCode(e,n.code,n.tenantId)}}oi.PROVIDER_ID="password",oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class li{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ci extends li{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ui extends ci{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ui.credential(t.oauthAccessToken)}catch(n){return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com",ui.PROVIDER_ID="facebook.com";class di extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ni._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return di.credential(n,r)}catch(s){return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com",di.PROVIDER_ID="google.com";class hi extends ci{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch(n){return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com",hi.PROVIDER_ID="github.com";class mi extends ci{constructor(){super("twitter.com")}static credential(e,t){return ni._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return mi.credential(n,r)}catch(s){return null}}}async function pi(e,t){return Kr(e,"POST","/v1/accounts:signUp",Hr(e,t))}mi.TWITTER_SIGN_IN_METHOD="twitter.com",mi.PROVIDER_ID="twitter.com";class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await ps._fromIdTokenResponse(e,n,r),i=gi(n);return new fi({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gi(n);return new fi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class yi extends Dt{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,yi.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new yi(e,t,n,r)}}function vi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw yi._fromErrorAndOperation(e,n,t,r);throw n})}async function bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await os(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fi._forOperation(e,"link",r)}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ir(r.app))return Promise.reject(Ir(r));const s="reauthenticate";try{const i=await os(e,vi(r,s,t,e),n);Rr(i.idToken,r,"internal-error");const a=is(i.idToken);Rr(a,r,"internal-error");const{sub:o}=a;return Rr(e.uid===o,r,"user-mismatch"),fi._forOperation(e,s,i)}catch(sj){throw"auth/user-not-found"===(null===sj||void 0===sj?void 0:sj.code)&&jr(r,"user-mismatch"),sj}}async function wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ir(e.app))return Promise.reject(Ir(e));const r="signIn",s=await vi(e,r,t),i=await fi._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function ki(e,t){return wi(Os(e),t)}async function Si(e){const t=Os(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ni(e,t,n){if(ir(e.app))return Promise.reject(Ir(e));const r=Os(e),s=Ws(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pi,"EMAIL_PASSWORD_PROVIDER"),i=await s.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Si(e),t}),a=await fi._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function Ci(e,t,n){return ir(e.app)?Promise.reject(Ir(e)):ki(Ht(e),oi.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Si(e),t})}function Ei(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:start",Hr(e,t))}new WeakMap;const Ti="__sak";class ji{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ti,"1"),this.storage.removeItem(Ti),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _i extends ji{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Is(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);As()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_i.type="LOCAL";const Ai=_i;function Ii(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Pi(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Ri{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Pi(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ii(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Pi(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Pi(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ii(n);const s=setInterval(()=>{const e=Ii(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ri.type="COOKIE";class Di extends ji{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Di.type="SESSION";const Li=Di;class Oi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Oi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Oi.receivers=[];class Fi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=Mi("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Vi(){return window}function Bi(){return"undefined"!==typeof Vi().WorkerGlobalScope&&"function"===typeof Vi().importScripts}const Ui="firebaseLocalStorageDb",$i="firebaseLocalStorage",zi="fbase_key";class qi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hi(e,t){return e.transaction([$i],t?"readwrite":"readonly").objectStore($i)}function Wi(){const e=indexedDB.open(Ui,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore($i,{keyPath:zi})}catch(sj){n(sj)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains($i)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ui);return new qi(e).toPromise()}(),t(await Wi()))})})}async function Gi(e,t,n){const r=Hi(e,!0).put({[zi]:t,value:n});return new qi(r).toPromise()}function Ki(e,t){const n=Hi(e,!0).delete(t);return new qi(n).toPromise()}class Qi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(sj){if(t++>3)throw sj;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oi._getInstance(Bi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wi();return await Gi(e,Ti,"1"),await Ki(e,Ti),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Hi(e,!1).get(t),r=await new qi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ki(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Hi(e,!1).getAll();return new qi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qi.type="LOCAL";const Yi=Qi;function Xi(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:start",Hr(e,t))}Bs("rcb"),new Vr(3e4,6e4);const Ji="recaptcha";async function Zi(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Gs(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Rr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ws(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===zs){Rr((null===n||void 0===n?void 0:n.type)===Ji,e,"argument-error");return Ei(e,await ea(e,t,n))}return Ei(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Rr("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Rr(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Ws(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===zs){Rr((null===n||void 0===n?void 0:n.type)===Ji,e,"argument-error");return Xi(e,await ea(e,t,n))}return Xi(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ws(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===zs){Rr((null===n||void 0===n?void 0:n.type)===Ji,e,"argument-error");return ri(e,await ea(e,t,n))}return ri(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ea(e,t,n){Rr(n.type===Ji,e,"argument-error");const r=await n.verify();Rr("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class ta{constructor(e){this.providerId=ta.PROVIDER_ID,this.auth=Os(e)}verifyPhoneNumber(e,t){return Zi(this.auth,e,Ht(t))}static credential(e,t){return ii._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ta.credentialFromTaggedObject(t)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ii._fromTokenResponse(n,r):null}}function na(e,t){return t?gs(t):(Rr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ta.PROVIDER_ID="phone",ta.PHONE_SIGN_IN_METHOD="phone";class ra extends Xs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ti(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ti(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sa(e){return wi(e.auth,new ra(e),e.bypassAuthState)}function ia(e){const{auth:t,user:n}=e;return Rr(n,t,"internal-error"),xi(n,new ra(e),e.bypassAuthState)}async function aa(e){const{auth:t,user:n}=e;return Rr(n,t,"internal-error"),bi(n,new ra(e),e.bypassAuthState)}class oa{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(sj){this.reject(sj)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(sj){this.reject(sj)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sa;case"linkViaPopup":case"linkViaRedirect":return aa;case"reauthViaPopup":case"reauthViaRedirect":return ia;default:jr(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const la=new Vr(2e3,1e4);class ca extends oa{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rr(e,this.auth,"internal-error"),e}async onExecution(){Lr(1===this.filter.length,"Popup operations only handle one event");const e=Mi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,la.get())};e()}}ca.currentPopupAction=null;const ua=new Map;class da extends oa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ua.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=pa(t),r=ma(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(sj){e=()=>Promise.reject(sj)}ua.set(this.auth._key(),e)}return this.bypassAuthState||ua.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ha(e,t){ua.set(e._key(),t)}function ma(e){return gs(e._redirectPersistence)}function pa(e){return bs("pendingRedirect",e.config.apiKey,e.name)}async function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ir(e.app))return Promise.reject(Ir(e));const r=Os(e),s=na(r,t),i=new da(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ga{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return va(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!va(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ya(e))}saveEventToCache(e){this.cachedEventUids.add(ya(e)),this.lastProcessedEventTime=Date.now()}}function ya(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function va(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xa=/^https?/;async function wa(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ka(r))return}catch(n){}jr(e,"unauthorized-domain")}function ka(e){const t=Or(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!xa.test(n))return!1;if(ba.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Sa=new Vr(3e4,6e4);function Na(){const e=Vi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ca(e){return new Promise((t,n)=>{var r,s,i;function a(){Na(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Na(),n(_r(e,"network-request-failed"))},timeout:Sa.get()})}if(null===(s=null===(r=Vi().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Vi().gapi)||void 0===i?void 0:i.load)){const t=Bs("iframefcb");return Vi()[t]=()=>{gapi.load?a():n(_r(e,"network-request-failed"))},Vs(`${Fs.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Ea=null,e})}let Ea=null;const Ta=new Vr(5e3,15e3),ja={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Aa(e){const t=e.config;Rr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Br(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:lr},s=_a.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vt(r).slice(1)}`}async function Ia(e){const t=await function(e){return Ea=Ea||Ca(e),Ea}(e),n=Vi().gapi;return Rr(n,e,"internal-error"),t.open({where:document.body,url:Aa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ja,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=_r(e,"network-request-failed"),i=Vi().setTimeout(()=>{r(s)},Ta.get());function a(){Vi().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const Pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ra{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(sj){}}}function Da(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Pa),{width:r.toString(),height:s.toString(),top:i,left:a}),c=jt().toLowerCase();n&&(o=Ns(c)?"_blank":n),ks(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return _s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ra(null);const d=window.open(t||"",o,u);Rr(d,e,"popup-blocked");try{d.focus()}catch(sj){}return new Ra(d)}const La="__/auth/handler",Oa="emulator/auth/handler",Ma=encodeURIComponent("fac");async function Fa(e,t,n,r,s,i){Rr(e.config.authDomain,e,"auth-domain-config-required"),Rr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lr,eventId:s};if(t instanceof li){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof ci){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ma}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${La}`;return Br(t,Oa)}(e)}?${Vt(o).slice(1)}${c}`}const Va="webStorageSupport";const Ba=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Li,this._completeRedirectFn=fa,this._overrideRedirectResult=ha}async _openPopup(e,t,n,r){var s;Lr(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Da(e,await Fa(e,t,n,Or(),r),Mi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Vi().location.href=e}(await Fa(e,t,n,Or(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Lr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ia(e),n=new ga(e);return t.register("authEvent",t=>{Rr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Va,{type:Va},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Va];void 0!==s&&t(!!s),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Is()||Ss()||_s()}};var Ua="@firebase/auth",$a="1.10.8";class za{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Rr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qa=xt("authIdTokenMaxAge")||300;let Ha=null;var Wa;Fs={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=_r("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wa="Browser",rr(new Wt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Rr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Wa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ps(Wa)},c=new Ls(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),rr(new Wt("auth-internal",e=>(e=>new za(e))(Os(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Ua,$a,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wa)),dr(Ua,$a,"esm2017");dr("firebase","11.10.0","app");const Ga="@firebase/installations",Ka="0.6.18",Qa=1e4,Ya=`w:${Ka}`,Xa="FIS_v2",Ja=36e5,Za=new Lt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eo(e){return e instanceof Dt&&e.code.includes("request-failed")}function to(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function no(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ro(e,t){const n=(await t.json()).error;return Za.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function so(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function io(e,t){let{refreshToken:n}=t;const r=so(e);return r.append("Authorization",function(e){return`${Xa} ${e}`}(n)),r}async function ao(e){const t=await e();return t.status>=500&&t.status<600?e():t}function oo(e){return new Promise(t=>{setTimeout(t,e)})}const lo=/^[cdef][\w-]{21}$/;function co(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return lo.test(t)?t:""}catch(e){return""}}function uo(e){return`${e.appName}!${e.appId}`}const ho=new Map;function mo(e,t){const n=uo(e);po(n,t),function(e,t){const n=go();n&&n.postMessage({key:e,fid:t});yo()}(n,t)}function po(e,t){const n=ho.get(e);if(n)for(const r of n)r(t)}let fo=null;function go(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=e=>{po(e.data.key,e.data.fid)}),fo}function yo(){0===ho.size&&fo&&(fo.close(),fo=null)}const vo="firebase-installations-store";let bo=null;function xo(){return bo||(bo=gn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(vo)}})),bo}async function wo(e,t){const n=uo(e),r=(await xo()).transaction(vo,"readwrite"),s=r.objectStore(vo),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||mo(e,t.fid),t}async function ko(e){const t=uo(e),n=(await xo()).transaction(vo,"readwrite");await n.objectStore(vo).delete(t),await n.done}async function So(e,t){const n=uo(e),r=(await xo()).transaction(vo,"readwrite"),s=r.objectStore(vo),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||mo(e,a.fid),a}async function No(e){let t;const n=await So(e.appConfig,n=>{const r=function(e){const t=e||{fid:co(),registrationStatus:0};return To(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Za.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const i=to(n),a=so(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:s,authVersion:Xa,appId:n.appId,sdkVersion:Ya},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await ao(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:no(e.authToken)}}throw await ro("Create Installation",u)}(e,t);return wo(e.appConfig,n)}catch(sj){throw eo(sj)&&409===sj.customData.serverCode?await ko(e.appConfig):await wo(e.appConfig,{fid:t.fid,registrationStatus:0}),sj}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Co(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Co(e){let t=await Eo(e.appConfig);for(;1===t.registrationStatus;)await oo(100),t=await Eo(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await No(e);return n||t}return t}function Eo(e){return So(e,e=>{if(!e)throw Za.create("installation-not-found");return To(e)})}function To(e){return 1===(t=e).registrationStatus&&t.registrationTime+Qa<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function jo(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return`${to(e)}/${n}/authTokens:generate`}(n,t),i=io(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:Ya,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await ao(()=>fetch(s,l));if(c.ok){return no(await c.json())}throw await ro("Generate Auth Token",c)}async function _o(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await So(e.appConfig,r=>{if(!Io(r))throw Za.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ja}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await Ao(e.appConfig);for(;1===n.authToken.requestStatus;)await oo(100),n=await Ao(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_o(e,t):r}(e,n),r;{if(!navigator.onLine)throw Za.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await jo(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await wo(e.appConfig,r),n}catch(sj){if(!eo(sj)||401!==sj.customData.serverCode&&404!==sj.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await wo(e.appConfig,n)}else await ko(e.appConfig);throw sj}}(e,n),n}});return t?await t:r.authToken}function Ao(e){return So(e,e=>{if(!Io(e))throw Za.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Qa<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function Io(e){return void 0!==e&&2===e.registrationStatus}async function Po(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await No(e);t&&await t}(n);return(await _o(n,t)).token}function Ro(e){return Za.create("missing-app-config-values",{valueName:e})}const Do="installations",Lo=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ro("App Configuration");if(!e.name)throw Ro("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ro(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:sr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Oo=e=>{const t=sr(e.getProvider("app").getImmediate(),Do).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await No(t);return r?r.catch(console.error):_o(t).catch(console.error),n.fid}(t),getToken:e=>Po(t,e)}};rr(new Wt(Do,Lo,"PUBLIC")),rr(new Wt("installations-internal",Oo,"PRIVATE")),dr(Ga,Ka),dr(Ga,Ka,"esm2017");const Mo="analytics",Fo="https://www.googletagmanager.com/gtag/js",Vo=new nn("@firebase/analytics"),Bo=new Lt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Uo(e){if(!e.startsWith(Fo)){const t=Bo.create("invalid-gtag-resource",{gtagURL:e});return Vo.warn(t.message),""}return e}function $o(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function zo(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Uo}),r=document.createElement("script"),s=`${Fo}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function qo(e,t,n,r){return async function(s){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===s){const[r,s]=a;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await $o(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(sj){Vo.error(sj)}}(e,t,n,r,s)}else if("config"===s){const[s,i]=a;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await $o(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(sj){Vo.error(sj)}e("config",s,i)}(e,t,n,r,s,i)}else if("consent"===s){const[t,n]=a;e("consent",t,n)}else if("get"===s){const[t,n,r]=a;e("get",t,n,r)}else if("set"===s){const[t]=a;e("set",t)}else e(s,...a)}catch(sj){Vo.error(sj)}}}const Ho=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wo(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ho,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Bo.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Bo.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Qo;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Ko({appId:r,apiKey:s,measurementId:i},a,o,t)}async function Ko(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ho;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(Bo.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(sj){if(l)return Vo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===sj||void 0===sj?void 0:sj.message}]`),{appId:o,measurementId:l};throw sj}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:Wo(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(i,s);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Bo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return i.deleteThrottleMetadata(o),t}catch(sj){const r=sj;if(!function(e){if(!(e instanceof Dt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(o),l)return Vo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:o,measurementId:l};throw sj}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?qt(s,i.intervalMillis,30):qt(s,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1};return i.setThrottleMetadata(o,u),Vo.debug(`Calling attemptFetch again in ${c} millis`),Ko(e,u,n,i)}}class Qo{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Yo,Xo;function Jo(e){Xo=e}function Zo(e){Yo=e}async function el(e,t,n,r,s,i,a){var o;const l=Go(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Vo.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Vo.error(e)),t.push(l);const c=async function(){if(!Pt())return Vo.warn(Bo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Rt()}catch(sj){return Vo.warn(Bo.create("indexeddb-unavailable",{errorInfo:null===sj||void 0===sj?void 0:sj.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Fo)&&n.src.includes(e))return n;return null})(i)||zo(i,u.measurementId),Xo&&(s("consent","default",Xo),Jo(void 0)),s("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),s("config",u.measurementId,h),Yo&&(s("set",Yo),Zo(void 0)),u.measurementId}class tl{constructor(e){this.app=e}_delete(){return delete nl[this.app.options.appId],Promise.resolve()}}let nl={},rl=[];const sl={};let il,al,ol="dataLayer",ll="gtag",cl=!1;function ul(){const e=[];if(At()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Bo.create("invalid-analytics-context",{errorInfo:t});Vo.warn(n.message)}}function dl(e,t,n){ul();const r=e.options.appId;if(!r)throw Bo.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Bo.create("no-api-key");Vo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nl[r])throw Bo.create("already-exists",{id:r});if(!cl){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ol);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(i=window[s]),window[s]=qo(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(nl,rl,sl,ol,ll);al=e,il=t,cl=!0}nl[r]=el(e,rl,sl,t,il,ol,n);return new tl(e)}function hl(e,t,n,r){e=Ht(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(al,nl[e.app.options.appId],t,n,r).catch(e=>Vo.error(e))}const ml="@firebase/analytics",pl="0.10.17";rr(new Wt(Mo,(e,t)=>{let{options:n}=t;return dl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),rr(new Wt("analytics-internal",function(e){try{const t=e.getProvider(Mo).getImmediate();return{logEvent:(e,n,r)=>hl(t,e,n,r)}}catch(sj){throw Bo.create("interop-component-reg-failed",{reason:sj})}},"PRIVATE")),dr(ml,pl),dr(ml,pl,"esm2017");var fl,gl,yl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vl={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(o,o);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=v(r,1),n=v(n,1)}return t=m(e,s.j(t)),new f(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=m(e,c)}return new f(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=m(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,m=65535&this.i(s),f=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=m*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=m*f,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*f,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,gl=vl.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},fl=vl.Integer=r}).apply("undefined"!==typeof yl?yl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var bl,xl,wl,kl,Sl,Nl,Cl,El,Tl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jl={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Tl&&Tl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=f().indexOf("Gecko")&&!(-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge"))&&!(-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE"))&&-1==f().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){s.setTimeout(()=>{throw e},0)}function N(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,j=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=s.Promise.resolve(void 0);T=()=>{e.then(I)}};var I=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}j=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,R);var O={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}U.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=z(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,s){if(r&&r.once)return K(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new U(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function Q(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(i=e.g[t],n,r,s))&&(B(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,s)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?($(n,e),0==n.h&&(n.src=null,t[q]=null)):B(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;w(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&$(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,me=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function fe(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var xe={},we=null;function ke(){return we=we||new ne}function Se(e){R.call(this,xe.La,e)}function Ne(e){const t=ke();re(t,new Se(t))}function Ce(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=ke();re(t,new Ce(t,e))}function Te(e,t){R.call(this,xe.Ma,e),this.size=t}function je(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Se,R),xe.STAT_EVENT="statevent",d(Ce,R),xe.Ma="timingevent",d(Te,R),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ie,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ie=new De;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),ze(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=mn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=W(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=je(c(e.ba,e),t)}function He(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Ee(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=je(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),ze(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ne(),He(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Wt(this.g);e="";var i=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ge(this),We(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=$e(this,o),e==Fe){4==h&&(this.s=4,Ee(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ee(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ke(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ee(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ae(this.i,this.l,o,null),Ke(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),We(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Ee(17)),Ge(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=mt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(mt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mt(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",mt(n,xt)),e.join("")};var ft,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){kt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return kt(e),t=Et(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function jt(){this.g=new me}function _t(e,t,n){const r=n||"";try{rt(e,function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(sj){throw t.push(r+"type="+encodeURIComponent("_badmap")),sj}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){kt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,Nt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new It(this.l,this.j)},At.prototype.i=(ft={},function(){return ft}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),zt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(sj){}}}function qt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=mn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}dn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||A(),j||(T(),j=!0),_.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{_t(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||A(),j||(T(),j=!0),_.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=je(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Be(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=ke(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=je(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new _e;if(s.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),Tt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Tt(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function mn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?fe(this.o):fe(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Bt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Bt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(ft){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ft){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Le(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lt(i)))+"&"+t:this.m&&Ot(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ve(s,n,null)):Ve(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=je(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,El=jl.createWebChannelTransport=function(){return new fn},Cl=jl.getStatEventTarget=function(){return ke()},Nl=jl.Event=xe,Sl=jl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,kl=jl.ErrorCode=Pe,Re.COMPLETE="complete",wl=jl.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,xl=jl.WebChannel=ge,jl.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,bl=jl.XhrIo=Mt}).apply("undefined"!==typeof Tl?Tl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const _l="@firebase/firestore",Al="4.8.0";class Il{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Il.UNAUTHENTICATED=new Il(null),Il.GOOGLE_CREDENTIALS=new Il("google-credentials-uid"),Il.FIRST_PARTY=new Il("first-party-uid"),Il.MOCK_USER=new Il("mock-user");let Pl="11.10.0";const Rl=new nn("@firebase/firestore");function Dl(){return Rl.logLevel}function Ll(e){if(Rl.logLevel<=Xt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Fl);Rl.debug(`Firestore (${Pl}): ${e}`,...s)}}function Ol(e){if(Rl.logLevel<=Xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Fl);Rl.error(`Firestore (${Pl}): ${e}`,...s)}}function Ml(e){if(Rl.logLevel<=Xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Fl);Rl.warn(`Firestore (${Pl}): ${e}`,...s)}}function Fl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Vl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Bl(e,r,n)}function Bl(e,t,n){let r=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Ol(r),new Error(r)}function Ul(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Bl(t,s,r)}function $l(e,t){return e}const zl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ql extends Dt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Il.UNAUTHENTICATED))}shutdown(){}}class Kl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ql{constructor(e){this.t=e,this.currentUser=Il.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ul(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Hl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hl,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Ll("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ll("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hl)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ll("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ul("string"==typeof t.accessToken,31837,{l:t}),new Wl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ul(null===e||"string"==typeof e,2055,{h:e}),new Il(e)}}class Yl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Il.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Yl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Il.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zl{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ul(void 0===this.o,3512);const n=e=>{null!=e.error&&Ll("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Ll("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ll("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Ll("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jl(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ul("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Jl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ec(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function tc(){return new TextEncoder}class nc{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ec(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function rc(e,t){return e<t?-1:e>t?1:0}function sc(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return rc(r,s);{const i=tc(),a=ac(i.encode(ic(e,n)),i.encode(ic(t,n)));return 0!==a?a:rc(r,s)}}n+=r>65535?2:1}return rc(e.length,t.length)}function ic(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ac(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return rc(e[n],t[n]);return rc(e.length,t.length)}function oc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const lc="__name__";class cc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Vl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Vl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===cc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=cc.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return rc(e.length,t.length)}static compareSegments(e,t){const n=cc.isNumericId(e),r=cc.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?cc.extractNumericId(e).compare(cc.extractNumericId(t)):sc(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fl.fromString(e.substring(4,e.length-2))}}class uc extends cc{construct(e,t,n){return new uc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new ql(zl.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(e=>e.length>0))}return new uc(e)}static emptyPath(){return new uc([])}}const dc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hc extends cc{construct(e,t,n){return new hc(e,t,n)}static isValidIdentifier(e){return dc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===lc}static keyField(){return new hc([lc])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new ql(zl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ql(zl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ql(zl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new ql(zl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hc(t)}static emptyPath(){return new hc([])}}class mc{constructor(e){this.path=e}static fromPath(e){return new mc(uc.fromString(e))}static fromName(e){return new mc(uc.fromString(e).popFirst(5))}static empty(){return new mc(uc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===uc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return uc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mc(new uc(e.slice()))}}function pc(e,t,n){if(!n)throw new ql(zl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fc(e){if(!mc.isDocumentKey(e))throw new ql(zl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function gc(e){if(mc.isDocumentKey(e))throw new ql(zl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yc(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function vc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Vl(12329,{type:typeof e})}function bc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ql(zl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vc(e);throw new ql(zl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function xc(e,t){if(t<=0)throw new ql(zl.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function wc(e,t){const n={typeString:e};return t&&(n.value=t),n}function kc(e,t){if(!yc(e))throw new ql(zl.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ql(zl.INVALID_ARGUMENT,n);return!0}const Sc=-62135596800,Nc=1e6;class Cc{static now(){return Cc.fromMillis(Date.now())}static fromDate(e){return Cc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Nc);return new Cc(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ql(zl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ql(zl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sc)throw new ql(zl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ql(zl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nc}_compareTo(e){return this.seconds===e.seconds?rc(this.nanoseconds,e.nanoseconds):rc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cc._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,Cc._jsonSchema))return new Cc(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cc._jsonSchemaVersion="firestore/timestamp/1.0",Cc._jsonSchema={type:wc("string",Cc._jsonSchemaVersion),seconds:wc("number"),nanoseconds:wc("number")};class Ec{static fromTimestamp(e){return new Ec(e)}static min(){return new Ec(new Cc(0,0))}static max(){return new Ec(new Cc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tc=-1;class jc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}jc.UNKNOWN_ID=-1;function _c(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ec.fromTimestamp(1e9===r?new Cc(n+1,0):new Cc(n,r));return new Ic(s,mc.empty(),t)}function Ac(e){return new Ic(e.readTime,e.key,Tc)}class Ic{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ic(Ec.min(),mc.empty(),Tc)}static max(){return new Ic(Ec.max(),mc.empty(),Tc)}}function Pc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=mc.comparator(e.documentKey,t.documentKey),0!==n?n:rc(e.largestBatchId,t.largestBatchId))}const Rc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Lc(e){if(e.code!==zl.FAILED_PRECONDITION||e.message!==Rc)throw e;Ll("LocalStore","Unexpectedly lost primary lease")}class Oc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oc?t:Oc.resolve(t)}catch(e){return Oc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oc.reject(t)}static resolve(e){return new Oc((t,n)=>{t(e)})}static reject(e){return new Oc((t,n)=>{n(e)})}static waitFor(e){return new Oc((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Oc.resolve(!1);for(const n of e)t=t.next(e=>e?Oc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Oc((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Oc((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Mc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(e){return"IndexedDbTransactionError"===e.name}class Vc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Vc.ue=-1;const Bc=-1;function Uc(e){return null==e}function $c(e){return 0===e&&1/e==-1/0}function zc(e){return"number"==typeof e&&Number.isInteger(e)&&!$c(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const qc="\x01";function Hc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gc(t)),t=Wc(e.get(n),t);return Gc(t)}function Wc(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case qc:n+="\x01\x11";break;default:n+=t}}return n}function Gc(e){return e+qc+"\x01"}const Kc="remoteDocuments",Qc="owner",Yc="mutationQueues",Xc="mutations";const Jc="documentMutations",Zc="remoteDocumentsV14",eu="remoteDocumentGlobal",tu="targets",nu="targetDocuments",ru="targetGlobal",su="collectionParents",iu="clientMetadata",au="bundles",ou="namedQueries",lu="indexConfiguration",cu="indexState",uu="indexEntries",du="documentOverlays",hu="globals",mu=[Yc,Xc,Jc,Kc,tu,Qc,ru,nu,iu,eu,su,au,ou],pu=[Yc,Xc,Jc,Zc,tu,Qc,ru,nu,iu,eu,su,au,ou,du],fu=pu,gu=[...fu,lu,cu,uu];function yu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xu{constructor(e,t){this.comparator=e,this.root=t||ku.EMPTY}insert(e,t){return new xu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ku.BLACK,null,null))}remove(e){return new xu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ku.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ku{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:ku.RED,this.left=null!=r?r:ku.EMPTY,this.right=null!=s?s:ku.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new ku(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ku.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ku.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ku.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ku.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vl(27949);return e+(this.isRed()?0:1)}}ku.EMPTY=null,ku.RED=!0,ku.BLACK=!1,ku.EMPTY=new class{constructor(){this.size=0}get key(){throw Vl(57766)}get value(){throw Vl(16141)}get color(){throw Vl(16727)}get left(){throw Vl(29726)}get right(){throw Vl(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new ku(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Su{constructor(e){this.comparator=e,this.data=new xu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nu(this.data.getIterator())}getIteratorFrom(e){return new Nu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Su))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Su(this.comparator);return t.data=e,t}}class Nu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cu{constructor(e){this.fields=e,e.sort(hc.comparator)}static empty(){return new Cu([])}unionWith(e){let t=new Su(hc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Cu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Eu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Eu("Invalid base64 string: "+e):e}}(e);return new Tu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tu.EMPTY_BYTE_STRING=new Tu("");const ju=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(e){if(Ul(!!e,39018),"string"==typeof e){let t=0;const n=ju.exec(e);if(Ul(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Au(e.seconds),nanos:Au(e.nanos)}}function Au(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Iu(e){return"string"==typeof e?Tu.fromBase64String(e):Tu.fromUint8Array(e)}const Pu="server_timestamp",Ru="__type__",Du="__previous_value__",Lu="__local_write_time__";function Ou(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ru])||void 0===n?void 0:n.stringValue)===Pu}function Mu(e){const t=e.mapValue.fields[Du];return Ou(t)?Mu(t):t}function Fu(e){const t=_u(e.mapValue.fields[Lu].timestampValue);return new Cc(t.seconds,t.nanos)}class Vu{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Bu="(default)";class Uu{constructor(e,t){this.projectId=e,this.database=t||Bu}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===Bu}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}const $u="__type__",zu="__max__",qu={mapValue:{fields:{__type__:{stringValue:zu}}}},Hu="__vector__",Wu="value";function Gu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ou(e)?4:ud(e)?9007199254740991:ld(e)?10:11:Vl(28295,{value:e})}function Ku(e,t){if(e===t)return!0;const n=Gu(e);if(n!==Gu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fu(e).isEqual(Fu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_u(e.timestampValue),r=_u(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Iu(e.bytesValue).isEqual(Iu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Au(e.geoPointValue.latitude)===Au(t.geoPointValue.latitude)&&Au(e.geoPointValue.longitude)===Au(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Au(e.integerValue)===Au(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Au(e.doubleValue),r=Au(t.doubleValue);return n===r?$c(n)===$c(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oc(e.arrayValue.values||[],t.arrayValue.values||[],Ku);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yu(n)!==yu(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Ku(n[s],r[s])))return!1;return!0}(e,t);default:return Vl(52216,{left:e})}}function Qu(e,t){return void 0!==(e.values||[]).find(e=>Ku(e,t))}function Yu(e,t){if(e===t)return 0;const n=Gu(e),r=Gu(t);if(n!==r)return rc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Au(e.integerValue||e.doubleValue),r=Au(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xu(e.timestampValue,t.timestampValue);case 4:return Xu(Fu(e),Fu(t));case 5:return sc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Iu(e),r=Iu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=rc(n[s],r[s]);if(0!==e)return e}return rc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rc(Au(e.latitude),Au(t.latitude));return 0!==n?n:rc(Au(e.longitude),Au(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ju(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Wu])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Wu])||void 0===r?void 0:r.arrayValue,u=rc((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ju(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qu.mapValue&&t===qu.mapValue)return 0;if(e===qu.mapValue)return 1;if(t===qu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=sc(r[a],i[a]);if(0!==e)return e;const t=Yu(n[r[a]],s[i[a]]);if(0!==t)return t}return rc(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Vl(23264,{le:n})}}function Xu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rc(e,t);const n=_u(e),r=_u(t),s=rc(n.seconds,r.seconds);return 0!==s?s:rc(n.nanos,r.nanos)}function Ju(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Yu(n[s],r[s]);if(e)return e}return rc(n.length,r.length)}function Zu(e){return ed(e)}function ed(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_u(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Iu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return mc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ed(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${ed(e.fields[s])}`;return n+"}"}(e.mapValue):Vl(61005,{value:e})}function td(e){switch(Gu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mu(e);return t?16+td(t):16;case 5:return 2*e.stringValue.length;case 6:return Iu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+td(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return vu(e.fields,(e,n)=>{t+=e.length+td(n)}),t}(e.mapValue);default:throw Vl(13486,{value:e})}}function nd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rd(e){return!!e&&"integerValue"in e}function sd(e){return!!e&&"arrayValue"in e}function id(e){return!!e&&"nullValue"in e}function ad(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function od(e){return!!e&&"mapValue"in e}function ld(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[$u])||void 0===n?void 0:n.stringValue)===Hu}function cd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vu(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=cd(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ud(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===zu}class dd{constructor(e){this.value=e}static empty(){return new dd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(t)}setAll(e){let t=hc.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=cd(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ku(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];od(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vu(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new dd(cd(this.value))}}function hd(e){const t=[];return vu(e.fields,(e,n)=>{const r=new hc([e]);if(od(n)){const e=hd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Cu(t)}class md{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new md(e,0,Ec.min(),Ec.min(),Ec.min(),dd.empty(),0)}static newFoundDocument(e,t,n,r){return new md(e,1,t,Ec.min(),n,r,0)}static newNoDocument(e,t){return new md(e,2,t,Ec.min(),Ec.min(),dd.empty(),0)}static newUnknownDocument(e,t){return new md(e,3,t,Ec.min(),Ec.min(),dd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ec.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ec.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof md&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new md(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pd{constructor(e,t){this.position=e,this.inclusive=t}}function fd(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?mc.comparator(mc.fromName(a.referenceValue),n.key):Yu(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function gd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ku(e.position[n],t.position[n]))return!1;return!0}class yd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function vd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bd{}class xd extends bd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jd(e,t,n):"array-contains"===t?new Pd(e,n):"in"===t?new Rd(e,n):"not-in"===t?new Dd(e,n):"array-contains-any"===t?new Ld(e,n):new xd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _d(e,n):new Ad(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Yu(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.matchesComparison(Yu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wd extends bd{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new wd(e,t)}matches(e){return kd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function kd(e){return"and"===e.op}function Sd(e){return Nd(e)&&kd(e)}function Nd(e){for(const t of e.filters)if(t instanceof wd)return!1;return!0}function Cd(e){if(e instanceof xd)return e.field.canonicalString()+e.op.toString()+Zu(e.value);if(Sd(e))return e.filters.map(e=>Cd(e)).join(",");{const t=e.filters.map(e=>Cd(e)).join(",");return`${e.op}(${t})`}}function Ed(e,t){return e instanceof xd?function(e,t){return t instanceof xd&&e.op===t.op&&e.field.isEqual(t.field)&&Ku(e.value,t.value)}(e,t):e instanceof wd?function(e,t){return t instanceof wd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ed(n,t.filters[r]),!0)}(e,t):void Vl(19439)}function Td(e){return e instanceof xd?function(e){return`${e.field.canonicalString()} ${e.op} ${Zu(e.value)}`}(e):e instanceof wd?function(e){return e.op.toString()+" {"+e.getFilters().map(Td).join(" ,")+"}"}(e):"Filter"}class jd extends xd{constructor(e,t,n){super(e,t,n),this.key=mc.fromName(n.referenceValue)}matches(e){const t=mc.comparator(e.key,this.key);return this.matchesComparison(t)}}class _d extends xd{constructor(e,t){super(e,"in",t),this.keys=Id("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ad extends xd{constructor(e,t){super(e,"not-in",t),this.keys=Id("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Id(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>mc.fromName(e.referenceValue))}class Pd extends xd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sd(t)&&Qu(t.arrayValue,this.value)}}class Rd extends xd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qu(this.value.arrayValue,t)}}class Dd extends xd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Qu(this.value.arrayValue,t)}}class Ld extends xd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Qu(this.value.arrayValue,e))}}class Od{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Pe=null}}function Md(e){return new Od(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fd(e){const t=$l(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Cd(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Uc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Zu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Zu(e)).join(",")),t.Pe=e}return t.Pe}function Vd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ed(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gd(e.startAt,t.startAt)&&gd(e.endAt,t.endAt)}function Bd(e){return mc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ud{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $d(e,t,n,r,s,i,a,o){return new Ud(e,t,n,r,s,i,a,o)}function zd(e){return new Ud(e)}function qd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hd(e){return null!==e.collectionGroup}function Wd(e){const t=$l(e);if(null===t.Te){t.Te=[];const e=new Set;for(const s of t.explicitOrderBy)t.Te.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Su(hc.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new yd(r,n))}),e.has(hc.keyField().canonicalString())||t.Te.push(new yd(hc.keyField(),n))}return t.Te}function Gd(e){const t=$l(e);return t.Ie||(t.Ie=Kd(t,Wd(e))),t.Ie}function Kd(e,t){if("F"===e.limitType)return Md(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new yd(e.field,t)});const n=e.endAt?new pd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pd(e.startAt.position,e.startAt.inclusive):null;return Md(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Qd(e,t){const n=e.filters.concat([t]);return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yd(e,t,n){return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xd(e,t){return Vd(Gd(e),Gd(t))&&e.limitType===t.limitType}function Jd(e){return`${Fd(Gd(e))}|lt:${e.limitType}`}function Zd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Td(e)).join(", ")}]`),Uc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Zu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Zu(e)).join(",")),`Target(${t})`}(Gd(e))}; limitType=${e.limitType})`}function eh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=fd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wd(e),t))&&!(e.endAt&&!function(e,t,n){const r=fd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wd(e),t))}(e,t)}function th(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nh(e){return(t,n)=>{let r=!1;for(const s of Wd(e)){const e=rh(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function rh(e,t,n){const r=e.field.isKeyField()?mc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Yu(r,s):Vl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vl(19790,{direction:e.dir})}}class sh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return bu(this.inner)}size(){return this.innerSize}}const ih=new xu(mc.comparator);function ah(){return ih}const oh=new xu(mc.comparator);function lh(){let e=oh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function ch(e){let t=oh;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function uh(){return hh()}function dh(){return hh()}function hh(){return new sh(e=>e.toString(),(e,t)=>e.isEqual(t))}const mh=new xu(mc.comparator),ph=new Su(mc.comparator);function fh(){let e=ph;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const gh=new Su(rc);function yh(){return gh}function vh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function bh(e){return{integerValue:""+e}}function xh(e,t){return zc(t)?bh(t):vh(e,t)}class wh{constructor(){this._=void 0}}function kh(e,t,n){return e instanceof Ch?function(e,t){const n={fields:{[Ru]:{stringValue:Pu},[Lu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ou(t)&&(t=Mu(t)),t&&(n.fields[Du]=t),{mapValue:n}}(n,t):e instanceof Eh?Th(e,t):e instanceof jh?_h(e,t):function(e,t){const n=Nh(e,t),r=Ih(n)+Ih(e.Ee);return rd(n)&&rd(e.Ee)?bh(r):vh(e.serializer,r)}(e,t)}function Sh(e,t,n){return e instanceof Eh?Th(e,t):e instanceof jh?_h(e,t):n}function Nh(e,t){return e instanceof Ah?function(e){return rd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ch extends wh{}class Eh extends wh{constructor(e){super(),this.elements=e}}function Th(e,t){const n=Ph(t);for(const r of e.elements)n.some(e=>Ku(e,r))||n.push(r);return{arrayValue:{values:n}}}class jh extends wh{constructor(e){super(),this.elements=e}}function _h(e,t){let n=Ph(t);for(const r of e.elements)n=n.filter(e=>!Ku(e,r));return{arrayValue:{values:n}}}class Ah extends wh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Ih(e){return Au(e.integerValue||e.doubleValue)}function Ph(e){return sd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Rh{constructor(e,t){this.field=e,this.transform=t}}class Dh{constructor(e,t){this.version=e,this.transformResults=t}}class Lh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lh}static exists(e){return new Lh(void 0,e)}static updateTime(e){return new Lh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mh{}function Fh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Kh(e.key,Lh.none()):new zh(e.key,e.data,Lh.none());{const n=e.data,r=dd.empty();let s=new Su(hc.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new qh(e.key,r,new Cu(s.toArray()),Lh.none())}}function Vh(e,t,n){e instanceof zh?function(e,t,n){const r=e.value.clone(),s=Wh(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qh?function(e,t,n){if(!Oh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wh(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Hh(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bh(e,t,n,r){return e instanceof zh?function(e,t,n,r){if(!Oh(e.precondition,t))return n;const s=e.value.clone(),i=Gh(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof qh?function(e,t,n,r){if(!Oh(e.precondition,t))return n;const s=Gh(e.fieldTransforms,r,t),i=t.data;return i.setAll(Hh(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Oh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Uh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Nh(r.transform,e||null);null!=s&&(null===n&&(n=dd.empty()),n.set(r.field,s))}return n||null}function $h(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eh&&t instanceof Eh||e instanceof jh&&t instanceof jh?oc(e.elements,t.elements,Ku):e instanceof Ah&&t instanceof Ah?Ku(e.Ee,t.Ee):e instanceof Ch&&t instanceof Ch}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zh extends Mh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qh extends Mh{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Wh(e,t,n){const r=new Map;Ul(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Sh(a,o,n[s]))}return r}function Gh(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,kh(e,i,t))}return r}class Kh extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qh extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dh();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Fh(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Ec.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fh())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(e,t)=>$h(e,t))&&oc(this.baseMutations,e.baseMutations,(e,t)=>$h(e,t))}}class Xh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ul(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=mh;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Xh(e,t,n,r)}}class Jh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zh{constructor(e,t){this.count=e,this.unchangedNames=t}}var em,tm;function nm(e){switch(e){case zl.OK:return Vl(64938);case zl.CANCELLED:case zl.UNKNOWN:case zl.DEADLINE_EXCEEDED:case zl.RESOURCE_EXHAUSTED:case zl.INTERNAL:case zl.UNAVAILABLE:case zl.UNAUTHENTICATED:return!1;case zl.INVALID_ARGUMENT:case zl.NOT_FOUND:case zl.ALREADY_EXISTS:case zl.PERMISSION_DENIED:case zl.FAILED_PRECONDITION:case zl.ABORTED:case zl.OUT_OF_RANGE:case zl.UNIMPLEMENTED:case zl.DATA_LOSS:return!0;default:return Vl(15467,{code:e})}}function rm(e){if(void 0===e)return Ol("GRPC error has no .code"),zl.UNKNOWN;switch(e){case em.OK:return zl.OK;case em.CANCELLED:return zl.CANCELLED;case em.UNKNOWN:return zl.UNKNOWN;case em.DEADLINE_EXCEEDED:return zl.DEADLINE_EXCEEDED;case em.RESOURCE_EXHAUSTED:return zl.RESOURCE_EXHAUSTED;case em.INTERNAL:return zl.INTERNAL;case em.UNAVAILABLE:return zl.UNAVAILABLE;case em.UNAUTHENTICATED:return zl.UNAUTHENTICATED;case em.INVALID_ARGUMENT:return zl.INVALID_ARGUMENT;case em.NOT_FOUND:return zl.NOT_FOUND;case em.ALREADY_EXISTS:return zl.ALREADY_EXISTS;case em.PERMISSION_DENIED:return zl.PERMISSION_DENIED;case em.FAILED_PRECONDITION:return zl.FAILED_PRECONDITION;case em.ABORTED:return zl.ABORTED;case em.OUT_OF_RANGE:return zl.OUT_OF_RANGE;case em.UNIMPLEMENTED:return zl.UNIMPLEMENTED;case em.DATA_LOSS:return zl.DATA_LOSS;default:return Vl(39323,{code:e})}}(tm=em||(em={}))[tm.OK=0]="OK",tm[tm.CANCELLED=1]="CANCELLED",tm[tm.UNKNOWN=2]="UNKNOWN",tm[tm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tm[tm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tm[tm.NOT_FOUND=5]="NOT_FOUND",tm[tm.ALREADY_EXISTS=6]="ALREADY_EXISTS",tm[tm.PERMISSION_DENIED=7]="PERMISSION_DENIED",tm[tm.UNAUTHENTICATED=16]="UNAUTHENTICATED",tm[tm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tm[tm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tm[tm.ABORTED=10]="ABORTED",tm[tm.OUT_OF_RANGE=11]="OUT_OF_RANGE",tm[tm.UNIMPLEMENTED=12]="UNIMPLEMENTED",tm[tm.INTERNAL=13]="INTERNAL",tm[tm.UNAVAILABLE=14]="UNAVAILABLE",tm[tm.DATA_LOSS=15]="DATA_LOSS";let sm=null;const im=new fl([4294967295,4294967295],0);function am(e){const t=tc().encode(e),n=new gl;return n.update(t),new Uint8Array(n.digest())}function om(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new fl([n,r],0),new fl([s,i],0)]}class lm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cm(`Invalid padding: ${t}`);if(n<0)throw new cm(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new cm(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new cm(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fl.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(fl.fromNumber(n)));return 1===r.compare(im)&&(r=new fl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=am(e),[n,r]=om(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new lm(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.fe)return;const t=am(e),[n,r]=om(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class um{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new um(Ec.min(),r,new xu(rc),ah(),fh())}}class dm{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dm(n,t,fh(),fh(),fh())}}class hm{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class mm{constructor(e,t){this.targetId=e,this.De=t}}class pm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fm{constructor(){this.ve=0,this.Ce=vm(),this.Fe=Tu.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fh(),t=fh(),n=fh();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vl(38017,{changeType:s})}}),new dm(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=vm()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ul(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gm{constructor(e){this.We=e,this.Ge=new Map,this.ze=ah(),this.je=ym(),this.Je=ym(),this.He=new xu(rc)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Vl(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const s=r.target;if(Bd(s))if(0===n){const e=new mc(s.path);this.Xe(t,e,md.newNoDocument(e,Ec.min()))}else Ul(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),s=n?this.ut(n,e,r):1;if(0!==s){this.rt(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==sm||sm.ct(function(e,t,n,r,s){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,s))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=Iu(n).toUint8Array()}catch(e){if(e instanceof Eu)return Ml("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new lm(i,r,s)}catch(e){return Ml(e instanceof cm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.We.lt(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const s=this.st(r);if(s){if(n.current&&Bd(s.target)){const t=new mc(s.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,md.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=fh();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new um(e,t,this.He,this.ze,n);return this.ze=ah(),this.je=ym(),this.Je=ym(),this.He=new xu(rc),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new fm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Su(rc),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Su(rc),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Ll("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ym(){return new xu(mc.comparator)}function vm(){return new xu(mc.comparator)}const bm={asc:"ASCENDING",desc:"DESCENDING"},xm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wm={and:"AND",or:"OR"};class km{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sm(e,t){return e.useProto3Json||Uc(t)?t:{value:t}}function Nm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Em(e,t){return Nm(e,t.toTimestamp())}function Tm(e){return Ul(!!e,49232),Ec.fromTimestamp(function(e){const t=_u(e);return new Cc(t.seconds,t.nanos)}(e))}function jm(e,t){return _m(e,t).canonicalString()}function _m(e,t){const n=function(e){return new uc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Am(e){const t=uc.fromString(e);return Ul(Ym(t),10190,{key:t.toString()}),t}function Im(e,t){return jm(e.databaseId,t.path)}function Pm(e,t){const n=Am(t);if(n.get(1)!==e.databaseId.projectId)throw new ql(zl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ql(zl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mc(Om(n))}function Rm(e,t){return jm(e.databaseId,t)}function Dm(e){const t=Am(e);return 4===t.length?uc.emptyPath():Om(t)}function Lm(e){return new uc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Om(e){return Ul(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Mm(e,t,n){return{name:Im(e,t),fields:n.value.mapValue.fields}}function Fm(e,t){let n;if(t instanceof zh)n={update:Mm(e,t.key,t.value)};else if(t instanceof Kh)n={delete:Im(e,t.key)};else if(t instanceof qh)n={update:Mm(e,t.key,t.data),updateMask:Qm(t.fieldMask)};else{if(!(t instanceof Qh))return Vl(16599,{Rt:t.type});n={verify:Im(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ch)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ah)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Vl(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Em(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vl(27497)}(e,t.precondition)),n}function Vm(e,t){return{documents:[Rm(e,t.path)]}}function Bm(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rm(e,s);const i=function(e){if(0!==e.length)return Km(wd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Wm(e.field),direction:zm(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Sm(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:s}}function Um(e){let t=Dm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ul(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=$m(e);return t instanceof wd&&Sd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new yd(Gm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Uc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pd(n,t)}(n.endAt)),$d(t,s,a,i,o,"F",l,c)}function $m(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gm(e.unaryFilter.field);return xd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gm(e.unaryFilter.field);return xd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gm(e.unaryFilter.field);return xd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gm(e.unaryFilter.field);return xd.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vl(61313);default:return Vl(60726)}}(e):void 0!==e.fieldFilter?function(e){return xd.create(Gm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vl(58110);default:return Vl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wd.create(e.compositeFilter.filters.map(e=>$m(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Vl(1026)}}(e.compositeFilter.op))}(e):Vl(30097,{filter:e})}function zm(e){return bm[e]}function qm(e){return xm[e]}function Hm(e){return wm[e]}function Wm(e){return{fieldPath:e.canonicalString()}}function Gm(e){return hc.fromServerFormat(e.fieldPath)}function Km(e){return e instanceof xd?function(e){if("=="===e.op){if(ad(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NAN"}};if(id(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ad(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NOT_NAN"}};if(id(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wm(e.field),op:qm(e.op),value:e.value}}}(e):e instanceof wd?function(e){const t=e.getFilters().map(e=>Km(e));return 1===t.length?t[0]:{compositeFilter:{op:Hm(e.op),filters:t}}}(e):Vl(54877,{filter:e})}function Qm(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ym(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Xm{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ec.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ec.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tu.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Xm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jm{constructor(e){this.gt=e}}function Zm(e){const t=Um({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yd(t,t.limit,"L"):t}class ep{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Au(e.integerValue));else if("doubleValue"in e){const n=Au(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),$c(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=_u(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Iu(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?ud(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):ld(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Vl(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const s=e.fields||{};this.Ct(t,53);const i=Wu,a=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Au(a)),this.xt(i,t),this.Dt(s[i],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),mc.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}ep.Ut=new ep;class tp{constructor(){this.Dn=new np}addToCollectionParentIndex(e,t){return this.Dn.add(t),Oc.resolve()}getCollectionParents(e,t){return Oc.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Oc.resolve()}deleteFieldIndex(e,t){return Oc.resolve()}deleteAllFieldIndexes(e){return Oc.resolve()}createTargetIndexes(e,t){return Oc.resolve()}getDocumentsMatchingTarget(e,t){return Oc.resolve(null)}getIndexType(e,t){return Oc.resolve(0)}getFieldIndexes(e,t){return Oc.resolve([])}getNextCollectionGroupToUpdate(e){return Oc.resolve(null)}getMinOffset(e,t){return Oc.resolve(Ic.min())}getMinOffsetFromCollectionGroup(e,t){return Oc.resolve(Ic.min())}updateCollectionGroup(e,t,n){return Oc.resolve()}updateIndexEntries(e,t){return Oc.resolve()}}class np{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Su(uc.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Su(uc.comparator)).toArray()}}new Uint8Array(0);const rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sp=41943040;class ip{static withCacheSize(e){return new ip(e,ip.DEFAULT_COLLECTION_PERCENTILE,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ip.DEFAULT_COLLECTION_PERCENTILE=10,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ip.DEFAULT=new ip(sp,ip.DEFAULT_COLLECTION_PERCENTILE,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ip.DISABLED=new ip(-1,0,0);class ap{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ap(0)}static ur(){return new ap(-1)}}const op="LruGarbageCollector",lp=1048576;function cp(e,t){let[n,r]=e,[s,i]=t;const a=rc(n,s);return 0===a?rc(r,i):a}class up{constructor(e){this.Tr=e,this.buffer=new Su(cp),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();cp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Ll(op,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fc(e)?Ll(op,"Ignoring IndexedDB error during garbage collection: ",e):await Lc(e)}await this.Rr(3e5)})}}class hp{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Oc.resolve(Vc.ue);const n=new up(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ll("LruGarbageCollector","Garbage collection skipped; disabled"),Oc.resolve(rp)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ll("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rp):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Ll("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Dl()<=Xt.DEBUG&&Ll("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(a-i)+"ms\n"+`\tRemoved ${s} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Oc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function mp(e,t){return new hp(e,t)}class pp{constructor(){this.changes=new sh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,md.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Oc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Bh(n.mutation,e,Cu.empty(),Cc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,fh()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fh();const r=uh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=lh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=uh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,fh()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=ah();const i=hh(),a=hh();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof qh)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Bh(a.mutation,t,a.mutation.getFieldMask(),Cc.now())):i.set(t.key,Cu.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new fp(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=hh();let r=new xu((e,t)=>e-t),s=fh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||Cu.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||fh()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=dh();l.forEach(e=>{if(!s.has(e)){const r=Fh(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Oc.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return mc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Oc.resolve(uh());let a=Tc,o=s;return i.next(t=>Oc.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Oc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,fh())).next(e=>({batchId:a,changes:ch(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mc(t)).next(e=>{let t=lh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=lh();return this.indexManager.getCollectionParents(e,s).next(a=>Oc.forEach(a,a=>{const o=function(e,t){return new Ud(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,md.newInvalidDocument(r)))});let n=lh();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&Bh(i.mutation,r,Cu.empty(),Cc.now()),eh(t,r)&&(n=n.insert(e,r))}),n})}}class yp{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Oc.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Tm(e.createTime)}}(t)),Oc.resolve()}getNamedQuery(e,t){return Oc.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Zm(e.bundledQuery),readTime:Tm(e.readTime)}}(t)),Oc.resolve()}}class vp{constructor(){this.overlays=new xu(mc.comparator),this.kr=new Map}getOverlay(e,t){return Oc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=uh();return Oc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Oc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Oc.resolve()}getOverlaysForCollection(e,t,n){const r=uh(),s=t.length+1,i=new mc(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Oc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new xu((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=uh(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=uh(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Oc.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Jh(t,n));let s=this.kr.get(t);void 0===s&&(s=fh(),this.kr.set(t,s)),this.kr.set(t,s.add(n.key))}}class bp{constructor(){this.sessionToken=Tu.EMPTY_BYTE_STRING}getSessionToken(e){return Oc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Oc.resolve()}}class xp{constructor(){this.qr=new Su(wp.Qr),this.$r=new Su(wp.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new wp(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new wp(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new mc(new uc([])),n=new wp(t,e),r=new wp(t,e+1),s=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),s.push(e.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new mc(new uc([])),n=new wp(t,e),r=new wp(t,e+1);let s=fh();return this.$r.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new wp(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class wp{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return mc.comparator(e.key,t.key)||rc(e.Hr,t.Hr)}static Ur(e,t){return rc(e.Hr,t.Hr)||mc.comparator(e.key,t.key)}}class kp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Su(wp.Qr)}checkEmpty(e){return Oc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Yh(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Yr=this.Yr.add(new wp(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Oc.resolve(i)}lookupMutationBatch(e,t){return Oc.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),s=r<0?0:r;return Oc.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oc.resolve(0===this.mutationQueue.length?Bc:this.er-1)}getAllMutationBatches(e){return Oc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new wp(t,0),r=new wp(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);s.push(t)}),Oc.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Su(rc);return t.forEach(e=>{const t=new wp(e,0),r=new wp(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Oc.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;mc.isDocumentKey(s)||(s=s.child(""));const i=new wp(new mc(s),0);let a=new Su(rc);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},i),Oc.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ul(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Oc.forEach(t.mutations,r=>{const s=new wp(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new wp(t,0),r=this.Yr.firstAfterOrEqual(n);return Oc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oc.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sp{constructor(e){this.ni=e,this.docs=new xu(mc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Oc.resolve(n?n.document.mutableCopy():md.newInvalidDocument(t))}getEntries(e,t){let n=ah();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():md.newInvalidDocument(e))}),Oc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=ah();const i=t.path,a=new mc(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Pc(Ac(a),n)<=0||(r.has(a.key)||eh(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Oc.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Vl(9500)}ri(e,t){return Oc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Np(this)}getSize(e){return Oc.resolve(this.size)}}class Np extends pp{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Oc.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class Cp{constructor(e){this.persistence=e,this.ii=new sh(e=>Fd(e),Vd),this.lastRemoteSnapshotVersion=Ec.min(),this.highestTargetId=0,this.si=0,this.oi=new xp,this.targetCount=0,this._i=ap.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Oc.resolve()}getLastRemoteSnapshotVersion(e){return Oc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oc.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Oc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Oc.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ap(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Oc.resolve()}updateTargetData(e,t){return this.hr(t),Oc.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Oc.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.ii.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Oc.waitFor(s).next(()=>r)}getTargetCount(e){return Oc.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Oc.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Oc.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Oc.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Oc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Oc.resolve(n)}containsKey(e,t){return Oc.resolve(this.oi.containsKey(t))}}class Ep{constructor(e,t){this.ai={},this.overlays={},this.ui=new Vc(0),this.ci=!1,this.ci=!0,this.li=new bp,this.referenceDelegate=e(this),this.hi=new Cp(this),this.indexManager=new tp,this.remoteDocumentCache=function(e){return new Sp(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Jm(t),this.Ti=new yp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new kp(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Ll("MemoryPersistence","Starting transaction:",e);const r=new Tp(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Oc.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class Tp extends Dc{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ai=new xp,this.Ri=null}static Vi(e){return new jp(e)}get mi(){if(this.Ri)return this.Ri;throw Vl(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Oc.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Oc.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Oc.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oc.forEach(this.mi,n=>{const r=mc.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Ec.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Oc.or([()=>Oc.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class _p{constructor(e,t){this.persistence=e,this.gi=new sh(e=>Hc(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=mp(this,t)}static Vi(e,t){return new _p(e,t)}Ii(){}di(e){return Oc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Oc.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Oc.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,s.removeEntry(r,Ec.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Oc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Oc.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Oc.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Oc.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=td(e.data.value)),t}Sr(e,t,n){return Oc.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Oc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ap{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=fh(),r=fh();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ap(e,t.fromCache,n,r)}}class Ip{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Pp{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=It()?8:Mc(jt())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ps(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ys(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new Ip;return this.ws(e,t,n).next(r=>{if(s.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>s.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Dl()<=Xt.DEBUG&&Ll("QueryEngine","SDK will not create cache indexes for query:",Zd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Oc.resolve()):(Dl()<=Xt.DEBUG&&Ll("QueryEngine","Query:",Zd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Dl()<=Xt.DEBUG&&Ll("QueryEngine","The SDK decides to create cache indexes for query:",Zd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gd(t))):Oc.resolve())}ps(e,t){if(qd(t))return Oc.resolve(null);let n=Gd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Yd(t,null,"F"),n=Gd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=fh(...r);return this.gs.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.bs(t,r);return this.Ds(t,i,s,n.readTime)?this.ps(e,Yd(t,null,"F")):this.vs(e,i,t,n)}))})))}ys(e,t,n,r){return qd(t)||r.isEqual(Ec.min())?Oc.resolve(null):this.gs.getDocuments(e,n).next(s=>{const i=this.bs(t,s);return this.Ds(t,i,n,r)?Oc.resolve(null):(Dl()<=Xt.DEBUG&&Ll("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zd(t)),this.vs(e,i,t,_c(r,Tc)).next(e=>e))})}bs(e,t){let n=new Su(nh(e));return t.forEach((t,r)=>{eh(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,n){return Dl()<=Xt.DEBUG&&Ll("QueryEngine","Using full collection scan to execute query:",Zd(t)),this.gs.getDocumentsMatchingQuery(e,t,Ic.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Rp="LocalStore";class Dp{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new xu(rc),this.Ms=new sh(e=>Fd(e),Vd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gp(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Lp(e,t,n,r){return new Dp(e,t,n,r)}async function Op(e,t){const n=$l(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=fh();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:s,addedBatchIds:i}))})})}function Mp(e){const t=$l(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Fp(e,t,n){let r=fh(),s=fh();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ah();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ec.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ll(Rp,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{Ls:r,ks:s}})}function Vp(e,t){const n=$l(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Bc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Bp(e,t){const n=$l(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(s=>s?(r=s,Oc.resolve(r)):n.hi.allocateTargetId(e).next(s=>(r=new Xm(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Up(e,t,n){const r=$l(e),s=r.Fs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Fc(e))throw e;Ll(Rp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(s.target)}function $p(e,t,n){const r=$l(e);let s=Ec.min(),i=fh();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=$l(e),s=r.Ms.get(n);return void 0!==s?Oc.resolve(r.Fs.get(s)):r.hi.getTargetData(t,n)}(r,e,Gd(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?s:Ec.min(),n?i:fh())).next(e=>(zp(r,th(t),e),{documents:e,qs:i})))}function zp(e,t,n){let r=e.xs.get(t)||Ec.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class qp{constructor(){this.activeTargetIds=yh()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hp{constructor(){this.Fo=new qp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new qp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wp{xo(e){}shutdown(){}}const Gp="ConnectivityMonitor";class Kp{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ll(Gp,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ll(Gp,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function Yp(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const Xp="RestConnection",Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zp{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Bu?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,s){const i=Yp(),a=this.Go(e,t.toUriEncodedString());Ll(Xp,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,s);const{host:l}=new URL(a),c=kt(l);return this.jo(e,a,o,n,c).then(t=>(Ll(Xp,`Received RPC '${e}' ${i}: `,t),t),t=>{throw Ml(Xp,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,s,i){return this.Wo(e,t,n,r,s)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Jp[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class ef{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const tf="WebChannelConnection";class nf extends Zp{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,s){const i=Yp();return new Promise((s,a)=>{const o=new bl;o.setWithCredentials(!0),o.listenOnce(wl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case kl.NO_ERROR:const t=o.getResponseJson();Ll(tf,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case kl.TIMEOUT:Ll(tf,`RPC '${e}' ${i} timed out`),a(new ql(zl.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:const n=o.getStatus();if(Ll(tf,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zl).indexOf(t)>=0?t:zl.UNKNOWN}(t.status);a(new ql(e,t.message))}else a(new ql(zl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ql(zl.UNAVAILABLE,"Connection failed."));break;default:Vl(9055,{c_:e,streamId:i,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{Ll(tf,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Ll(tf,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Yp(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=El(),a=Cl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");Ll(tf,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);this.T_(u);let d=!1,h=!1;const m=new ef({Ho:t=>{h?Ll(tf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Ll(tf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Ll(tf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,xl.EventType.OPEN,()=>{h||(Ll(tf,`RPC '${e}' stream ${r} transport opened.`),m.s_())}),p(u,xl.EventType.CLOSE,()=>{h||(h=!0,Ll(tf,`RPC '${e}' stream ${r} transport closed`),m.__(),this.I_(u))}),p(u,xl.EventType.ERROR,t=>{h||(h=!0,Ml(tf,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),m.__(new ql(zl.UNAVAILABLE,"The operation could not be completed")))}),p(u,xl.EventType.MESSAGE,t=>{var n;if(!h){const s=t.data[0];Ul(!!s,16349);const i=s,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Ll(tf,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=em[e];if(void 0!==t)return rm(t)}(t),s=a.message;void 0===n&&(n=zl.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,m.__(new ql(n,s)),u.close()}else Ll(tf,`RPC '${e}' stream ${r} received:`,s),m.a_(s)}}),p(a,Nl.STAT_EVENT,t=>{t.stat===Sl.PROXY?Ll(tf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Sl.NOPROXY&&Ll(tf,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.o_()},0),m}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function rf(){return"undefined"!=typeof document?document:null}function sf(e){return new km(e,!0)}class af{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Ll("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const of="PersistentStream";class lf{constructor(e,t,n,r,s,i,a,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new af(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===zl.RESOURCE_EXHAUSTED?(Ol(t.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===zl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new ql(zl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ll(of,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Ll(of,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cf extends lf{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vl(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ul(void 0===t||"string"==typeof t,58123),Tu.fromBase64String(t||"")):(Ul(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Tu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?zl.UNKNOWN:rm(e.code);return new ql(t,e.message||"")}(a);n=new pm(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pm(e,r.document.name),i=Tm(r.document.updateTime),a=r.document.createTime?Tm(r.document.createTime):Ec.min(),o=new dd({mapValue:{fields:r.document.fields}}),l=md.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Pm(e,r.document),i=r.readTime?Tm(r.readTime):Ec.min(),a=md.newNoDocument(s,i),o=r.removedTargetIds||[];n=new hm([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Pm(e,r.document),i=r.removedTargetIds||[];n=new hm([],i,s,null)}else{if(!("filter"in t))return Vl(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Zh(r,s),a=e.targetId;n=new mm(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ec.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ec.min():t.readTime?Tm(t.readTime):Ec.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Lm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bd(r)?{documents:Vm(e,r)}:{query:Bm(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Cm(e,t.resumeToken);const r=Sm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ec.min())>0){n.readTime=Nm(e,t.snapshotVersion.toTimestamp());const r=Sm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Lm(this.serializer),t.removeTarget=e,this.k_(t)}}class uf extends lf{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ul(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ul(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){Ul(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(Ul(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Tm(e.updateTime):Tm(t);return n.isEqual(Ec.min())&&(n=Tm(t)),new Dh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Tm(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Lm(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Fm(this.serializer,e))};this.k_(t)}}class df{}class hf extends df{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ql(zl.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Wo(e,_m(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ql(zl.UNKNOWN,e.toString())})}Jo(e,t,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Jo(e,_m(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ql(zl.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class mf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ol(t),this._a=!1):Ll("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const pf="RemoteStore";class ff{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Nf(this)&&(Ll(pf,"Restarting streams for network reachability change."),await async function(e){const t=$l(e);t.Ia.add(4),await yf(t),t.Aa.set("Unknown"),t.Ia.delete(4),await gf(t)}(this))})}),this.Aa=new mf(n,r)}}async function gf(e){if(Nf(e))for(const t of e.da)await t(!0)}async function yf(e){for(const t of e.da)await t(!1)}function vf(e,t){const n=$l(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Sf(n)?kf(n):zf(n).x_()&&xf(n,t))}function bf(e,t){const n=$l(e),r=zf(n);n.Ta.delete(t),r.x_()&&wf(n,t),0===n.Ta.size&&(r.x_()?r.B_():Nf(n)&&n.Aa.set("Unknown"))}function xf(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ec.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zf(e).H_(t)}function wf(e,t){e.Ra.$e(t),zf(e).Y_(t)}function kf(e){e.Ra=new gm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),zf(e).start(),e.Aa.aa()}function Sf(e){return Nf(e)&&!zf(e).M_()&&e.Ta.size>0}function Nf(e){return 0===$l(e).Ia.size}function Cf(e){e.Ra=void 0}async function Ef(e){e.Aa.set("Online")}async function Tf(e){e.Ta.forEach((t,n)=>{xf(e,t)})}async function jf(e,t){Cf(e),Sf(e)?(e.Aa.la(t),kf(e)):e.Aa.set("Unknown")}async function _f(e,t,n){if(e.Aa.set("Online"),t instanceof pm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){Ll(pf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Af(e,n)}else if(t instanceof hm?e.Ra.Ye(t):t instanceof mm?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Ec.min()))try{const t=await Mp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ta.get(r);s&&e.Ta.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(Tu.EMPTY_BYTE_STRING,r.snapshotVersion)),wf(e,t);const s=new Xm(r.target,t,n,r.sequenceNumber);xf(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ll(pf,"Failed to raise snapshot:",t),await Af(e,t)}}async function Af(e,t,n){if(!Fc(t))throw t;e.Ia.add(1),await yf(e),e.Aa.set("Offline"),n||(n=()=>Mp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ll(pf,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await gf(e)})}function If(e,t){return t().catch(n=>Af(e,n,t))}async function Pf(e){const t=$l(e),n=qf(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Bc;for(;Rf(t);)try{const e=await Vp(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Df(t,e)}catch(e){await Af(t,e)}Lf(t)&&Of(t)}function Rf(e){return Nf(e)&&e.Pa.length<10}function Df(e,t){e.Pa.push(t);const n=qf(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Lf(e){return Nf(e)&&!qf(e).M_()&&e.Pa.length>0}function Of(e){qf(e).start()}async function Mf(e){qf(e).na()}async function Ff(e){const t=qf(e);for(const n of e.Pa)t.X_(n.mutations)}async function Vf(e,t,n){const r=e.Pa.shift(),s=Xh.from(r,t,n);await If(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Pf(e)}async function Bf(e,t){t&&qf(e).Z_&&await async function(e,t){if(function(e){return nm(e)&&e!==zl.ABORTED}(t.code)){const n=e.Pa.shift();qf(e).N_(),await If(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Pf(e)}}(e,t),Lf(e)&&Of(e)}async function Uf(e,t){const n=$l(e);n.asyncQueue.verifyOperationInProgress(),Ll(pf,"RemoteStore received new credentials");const r=Nf(n);n.Ia.add(3),await yf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await gf(n)}async function $f(e,t){const n=$l(e);t?(n.Ia.delete(2),await gf(n)):t||(n.Ia.add(2),await yf(n),n.Aa.set("Unknown"))}function zf(e){return e.Va||(e.Va=function(e,t,n){const r=$l(e);return r.ia(),new cf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Ef.bind(null,e),e_:Tf.bind(null,e),n_:jf.bind(null,e),J_:_f.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Sf(e)?kf(e):e.Aa.set("Unknown")):(await e.Va.stop(),Cf(e))})),e.Va}function qf(e){return e.ma||(e.ma=function(e,t,n){const r=$l(e);return r.ia(),new uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Mf.bind(null,e),n_:Bf.bind(null,e),ea:Ff.bind(null,e),ta:Vf.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Pf(e)):(await e.ma.stop(),e.Pa.length>0&&(Ll(pf,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class Hf{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new Hf(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ql(zl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(e,t){if(Ol("AsyncQueue",`${t}: ${e}`),Fc(e))return new ql(zl.UNAVAILABLE,`${t}: ${e}`);throw e}class Gf{static emptySet(e){return new Gf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||mc.comparator(t.key,n.key):(e,t)=>mc.comparator(e.key,t.key),this.keyedMap=lh(),this.sortedSet=new xu(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Kf{constructor(){this.fa=new xu(mc.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Vl(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Qf{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Qf(e,t,Gf.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Yf{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Xf{constructor(){this.queries=Jf(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=$l(e),r=n.queries;n.queries=Jf(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new ql(zl.ABORTED,"Firestore shutting down"))}}function Jf(){return new sh(e=>Jd(e),Xd)}async function Zf(e,t){const n=$l(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Sa()&&t.ba()&&(r=2):(i=new Yf,r=t.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Wf(e,`Initialization of query '${Zd(t.query)}' failed`);return void t.onError(n)}n.queries.set(s,i),i.wa.push(t),t.va(n.onlineState),i.ya&&t.Ca(i.ya)&&rg(n)}async function eg(e,t){const n=$l(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.wa.indexOf(t);e>=0&&(i.wa.splice(e,1),0===i.wa.length?s=t.ba()?0:1:!i.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tg(e,t){const n=$l(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(s)&&(r=!0);t.ya=s}}r&&rg(n)}function ng(e,t,n){const r=$l(e),s=r.queries.get(t);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(t)}function rg(e){e.Da.forEach(e=>{e.next()})}var sg,ig;(ig=sg||(sg={})).Fa="default",ig.Cache="cache";class ag{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Qf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==sg.Cache}}class og{constructor(e){this.key=e}}class lg{constructor(e){this.key=e}}class cg{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fh(),this.mutatedKeys=fh(),this.Xa=nh(e),this.eu=new Gf(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Kf,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=eh(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.iu(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{eu:i,ru:n,Ds:a,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const i=e.ru.pa();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vl(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==i.length||l?{snapshot:new Qf(this.query,e.eu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Kf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=fh(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new lg(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new og(n))}),t}uu(e){this.Ha=e.qs,this.Za=fh();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Qf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const ug="SyncEngine";class dg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hg{constructor(e){this.key=e,this.lu=!1}}class mg{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.hu={},this.Pu=new sh(e=>Jd(e),Xd),this.Tu=new Map,this.Iu=new Set,this.du=new xu(mc.comparator),this.Eu=new Map,this.Au=new xp,this.Ru={},this.Vu=new Map,this.mu=ap.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function pg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Lg(e);let s;const i=r.Pu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await gg(r,t,n,!0),s}async function fg(e,t){const n=Lg(e);await gg(n,t,!0,!1)}async function gg(e,t,n,r){const s=await Bp(e.localStore,Gd(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await yg(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&vf(e.remoteStore,s),o}async function yg(e,t,n,r,s){e.gu=(t,n,r)=>async function(e,t,n,r){let s=t.view.nu(n);s.Ds&&(s=await $p(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return _g(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const i=await $p(e.localStore,t,!0),a=new cg(t,i.qs),o=a.nu(i.documents),l=dm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);_g(e,n,c._u);const u=new dg(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function vg(e,t,n){const r=$l(e),s=r.Pu.get(t),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(e=>!Xd(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Up(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&bf(r.remoteStore,s.targetId),Tg(r,s.targetId)}).catch(Lc)):(Tg(r,s.targetId),await Up(r.localStore,s.targetId,!0))}async function bg(e,t){const n=$l(e),r=n.Pu.get(t),s=n.Tu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bf(n.remoteStore,r.targetId))}async function xg(e,t){const n=$l(e);try{const e=await function(e,t){const n=$l(e),r=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Tu.EMPTY_BYTE_STRING,Ec.min()).withLastLimboFreeSnapshotVersion(Ec.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.hi.updateTargetData(e,c))});let o=ah(),l=fh();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Fp(e,i,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!r.isEqual(Ec.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Oc.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(Ul(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?Ul(r.lu,14607):e.removedDocuments.size>0&&(Ul(r.lu,42227),r.lu=!1))}),await Pg(n,e,t)}catch(e){await Lc(e)}}function wg(e,t,n){const r=$l(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=$l(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.wa)s.va(t)&&(r=!0)}),r&&rg(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kg(e,t,n){const r=$l(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let e=new xu(mc.comparator);e=e.insert(i,md.newNoDocument(i,Ec.min()));const n=fh().add(i),s=new um(Ec.min(),new Map,new xu(rc),e,n);await xg(r,s),r.du=r.du.remove(i),r.Eu.delete(t),Ig(r)}else await Up(r.localStore,t,!1).then(()=>Tg(r,t,n)).catch(Lc)}async function Sg(e,t){const n=$l(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$l(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Oc.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Ul(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Eg(n,r,null),Cg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pg(n,e)}catch(e){await Lc(e)}}async function Ng(e,t,n){const r=$l(e);try{const e=await function(e,t){const n=$l(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ul(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Eg(r,t,n),Cg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pg(r,e)}catch(n){await Lc(n)}}function Cg(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Eg(e,t,n){const r=$l(e);let s=r.Ru[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Ru[r.currentUser.toKey()]=s}}function Tg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||jg(e,t)})}function jg(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(bf(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Ig(e))}function _g(e,t,n){for(const r of n)r instanceof og?(e.Au.addReference(r.key,t),Ag(e,r)):r instanceof lg?(Ll(ug,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||jg(e,r.key)):Vl(19791,{yu:r})}function Ag(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Ll(ug,"New document in limbo: "+n),e.Iu.add(r),Ig(e))}function Ig(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new mc(uc.fromString(t)),r=e.mu.next();e.Eu.set(r,new hg(n)),e.du=e.du.insert(n,r),vf(e.remoteStore,new Xm(Gd(zd(n.path)),r,"TargetPurposeLimboResolution",Vc.ue))}}async function Pg(e,t,n){const r=$l(e),s=[],i=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,o)=>{a.push(r.gu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Ap.Es(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.hu.J_(s),await async function(e,t){const n=$l(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Oc.forEach(t,t=>Oc.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Oc.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Fc(e))throw e;Ll(Rp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,s)}}}(r.localStore,i))}async function Rg(e,t){const n=$l(e);if(!n.currentUser.isEqual(t)){Ll(ug,"User change. New user:",t.toKey());const e=await Op(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new ql(zl.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pg(n,e.Bs)}}function Dg(e,t){const n=$l(e),r=n.Eu.get(t);if(r&&r.lu)return fh().add(r.key);{let e=fh();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Lg(e){const t=$l(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kg.bind(null,t),t.hu.J_=tg.bind(null,t.eventManager),t.hu.pu=ng.bind(null,t.eventManager),t}function Og(e){const t=$l(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ng.bind(null,t),t}class Mg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Lp(this.persistence,new Pp,e.initialUser,this.serializer)}Du(e){return new Ep(jp.Vi,this.serializer)}bu(e){return new Hp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mg.provider={build:()=>new Mg};class Fg extends Mg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ul(this.persistence.referenceDelegate instanceof _p,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new dp(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?ip.withCacheSize(this.cacheSizeBytes):ip.DEFAULT;return new Ep(e=>_p.Vi(e,t),this.serializer)}}class Vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rg.bind(null,this.syncEngine),await $f(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xf}createDatastore(e){const t=sf(e.databaseInfo.databaseId),n=function(e){return new nf(e)}(e.databaseInfo);return function(e,t,n,r){return new hf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new ff(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>wg(this.syncEngine,e,0),Kp.C()?new Kp:new Wp)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new mg(e,t,n,r,s,i);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=$l(e);Ll(pf,"RemoteStore shutting down."),t.Ia.add(5),await yf(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Vg.provider={build:()=>new Vg};class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ug="FirestoreClient";class $g{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Il.UNAUTHENTICATED,this.clientId=nc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{Ll(Ug,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ll(Ug,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wf(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function zg(e,t){e.asyncQueue.verifyOperationInProgress(),Ll(Ug,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Op(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{Ml("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Ll("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{Ml("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function qg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hg(e);Ll(Ug,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Uf(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Uf(t.remoteStore,n)),e._onlineComponents=t}async function Hg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ll(Ug,"Using user provided OfflineComponentProvider");try{await zg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===zl.FAILED_PRECONDITION||e.code===zl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ml("Error using user provided cache. Falling back to memory cache: "+n),await zg(e,new Mg)}}else Ll(Ug,"Using default OfflineComponentProvider"),await zg(e,new Fg(void 0));return e._offlineComponents}async function Wg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ll(Ug,"Using user provided OnlineComponentProvider"),await qg(e,e._uninitializedComponentsProvider._online)):(Ll(Ug,"Using default OnlineComponentProvider"),await qg(e,new Vg))),e._onlineComponents}function Gg(e){return Wg(e).then(e=>e.syncEngine)}async function Kg(e){const t=await Wg(e),n=t.eventManager;return n.onListen=pg.bind(null,t.syncEngine),n.onUnlisten=vg.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fg.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bg.bind(null,t.syncEngine),n}function Qg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Hl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Bg({next:o=>{i.Ou(),t.enqueueAndForget(()=>eg(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new ql(zl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new ql(zl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new ag(zd(n.path),i,{includeMetadataChanges:!0,ka:!0});return Zf(e,a)}(await Kg(e),e.asyncQueue,t,n,r)),r.promise}function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Hl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Bg({next:n=>{i.Ou(),t.enqueueAndForget(()=>eg(e,a)),n.fromCache&&"server"===r.source?s.reject(new ql(zl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new ag(n,i,{includeMetadataChanges:!0,ka:!0});return Zf(e,a)}(await Kg(e),e.asyncQueue,t,n,r)),r.promise}function Xg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jg=new Map,Zg="firestore.googleapis.com",ey=!0;class ty{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ql(zl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zg,this.ssl=ey}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:ey;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=sp;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<lp)throw new ql(zl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ql(zl.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ql(zl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ql(zl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ql(zl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ny{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ty({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ql(zl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ql(zl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ty(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gl;switch(e.type){case"firstParty":return new Xl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ql(zl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jg.get(e);t&&(Ll("ComponentProvider","Removing Datastore"),Jg.delete(e),t.terminate())}(this),Promise.resolve()}}class ry{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ry(this.firestore,e,this._query)}}class sy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sy(this.firestore,e,this._key)}toJSON(){return{type:sy._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(kc(t,sy._jsonSchema))return new sy(e,n||null,new mc(uc.fromString(t.referencePath)))}}sy._jsonSchemaVersion="firestore/documentReference/1.0",sy._jsonSchema={type:wc("string",sy._jsonSchemaVersion),referencePath:wc("string")};class iy extends ry{constructor(e,t,n){super(e,t,zd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sy(this.firestore,null,new mc(e))}withConverter(e){return new iy(this.firestore,e,this._path)}}function ay(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Ht(e),pc("collection","path",t),e instanceof ny){const n=uc.fromString(t,...r);return gc(n),new iy(e,null,n)}{if(!(e instanceof sy||e instanceof iy))throw new ql(zl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(uc.fromString(t,...r));return gc(n),new iy(e.firestore,null,n)}}function oy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Ht(e),1===arguments.length&&(t=nc.newId()),pc("doc","path",t),e instanceof ny){const n=uc.fromString(t,...r);return fc(n),new sy(e,null,new mc(n))}{if(!(e instanceof sy||e instanceof iy))throw new ql(zl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(uc.fromString(t,...r));return fc(n),new sy(e.firestore,e instanceof iy?e.converter:null,new mc(n))}}const ly="AsyncQueue";class cy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new af(this,"async_queue_retry"),this.oc=()=>{const e=rf();e&&Ll(ly,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Hl;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(sj){if(!Fc(sj))throw sj;Ll(ly,"Operation failed with retryable error: "+sj)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,Ol("INTERNAL UNHANDLED ERROR: ",uy(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Hf.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&Vl(47125,{hc:uy(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function uy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class dy extends ny{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cy(e),this._firestoreClient=void 0,await e}}}function hy(e){if(e._terminated)throw new ql(zl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||my(e),e._firestoreClient}function my(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Vu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xg(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new $g(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class py{constructor(e){this._byteString=e}static fromBase64String(e){try{return new py(Tu.fromBase64String(e))}catch(e){throw new ql(zl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new py(Tu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:py._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,py._jsonSchema))return py.fromBase64String(e.bytes)}}py._jsonSchemaVersion="firestore/bytes/1.0",py._jsonSchema={type:wc("string",py._jsonSchemaVersion),bytes:wc("string")};class fy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ql(zl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gy{constructor(e){this._methodName=e}}class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ql(zl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ql(zl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rc(this._lat,e._lat)||rc(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yy._jsonSchemaVersion}}static fromJSON(e){if(kc(e,yy._jsonSchema))return new yy(e.latitude,e.longitude)}}yy._jsonSchemaVersion="firestore/geoPoint/1.0",yy._jsonSchema={type:wc("string",yy._jsonSchemaVersion),latitude:wc("number"),longitude:wc("number")};class vy{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vy._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,vy._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new vy(e.vectorValues);throw new ql(zl.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vy._jsonSchemaVersion="firestore/vectorValue/1.0",vy._jsonSchema={type:wc("string",vy._jsonSchemaVersion),vectorValues:wc("object")};const by=/^__.*__$/;class xy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qh(e,this.data,this.fieldMask,t,this.fieldTransforms):new zh(e,this.data,t,this.fieldTransforms)}}class wy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ky(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vl(40011,{Ec:e})}}class Sy{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Vy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(ky(this.Ec)&&by.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Ny{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sf(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sy({Ec:e,methodName:t,bc:n,path:hc.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(e){const t=e._freezeSettings(),n=sf(e._databaseId);return new Ny(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ey(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(i.merge||i.mergeFields?2:0,t,n,s);Ly("Data must be an object, but it was:",a,r);const o=Ry(r,a);let l,c;if(i.merge)l=new Cu(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Oy(t,r,n);if(!a.contains(s))throw new ql(zl.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);By(e,s)||e.push(s)}l=new Cu(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new xy(new dd(o),l,c)}class Ty extends gy{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ty}}class jy extends gy{_toFieldTransform(e){return new Rh(e.path,new Ch)}isEqual(e){return e instanceof jy}}function _y(e,t,n,r){const s=e.Dc(1,t,n);Ly("Data must be an object, but it was:",s,r);const i=[],a=dd.empty();vu(r,(e,r)=>{const o=Fy(t,e,n);r=Ht(r);const l=s.gc(o);if(r instanceof Ty)i.push(o);else{const e=Py(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new Cu(i);return new wy(a,o,s.fieldTransforms)}function Ay(e,t,n,r,s,i){const a=e.Dc(1,t,n),o=[Oy(t,r,n)],l=[s];if(i.length%2!=0)throw new ql(zl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(Oy(t,i[h])),l.push(i[h+1]);const c=[],u=dd.empty();for(let h=o.length-1;h>=0;--h)if(!By(c,o[h])){const e=o[h];let t=l[h];t=Ht(t);const n=a.gc(e);if(t instanceof Ty)c.push(e);else{const r=Py(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Cu(c);return new wy(u,d,a.fieldTransforms)}function Iy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Py(n,e.Dc(r?4:3,t))}function Py(e,t){if(Dy(e=Ht(e)))return Ly("Unsupported field value:",t,e),Ry(e,t);if(e instanceof gy)return function(e,t){if(!ky(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Py(s,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Cc.fromDate(e);return{timestampValue:Nm(t.serializer,n)}}if(e instanceof Cc){const n=new Cc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nm(t.serializer,n)}}if(e instanceof yy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof py)return{bytesValue:Cm(t.serializer,e._byteString)};if(e instanceof sy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:jm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vy)return function(e,t){return{mapValue:{fields:{[$u]:{stringValue:Hu},[Wu]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return vh(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${vc(e)}`)}(e,t)}function Ry(e,t){const n={};return bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vu(e,(e,r)=>{const s=Py(r,t.Vc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Dy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cc||e instanceof yy||e instanceof py||e instanceof sy||e instanceof gy||e instanceof vy)}function Ly(e,t,n){if(!Dy(n)||!yc(n)){const r=vc(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Oy(e,t,n){if((t=Ht(t))instanceof fy)return t._internalPath;if("string"==typeof t)return Fy(e,t);throw Vy("Field path arguments must be of type string or ",e,!1,void 0,n)}const My=new RegExp("[~\\*/\\[\\]]");function Fy(e,t,n){if(t.search(My)>=0)throw Vy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fy(...t.split("."))._internalPath}catch(r){throw Vy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vy(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new ql(zl.INVALID_ARGUMENT,o+e+l)}function By(e,t){return e.some(e=>e.isEqual(t))}class Uy{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $y extends Uy{data(){return super.data()}}function zy(e,t){return"string"==typeof t?Fy(e,t):t instanceof fy?t._internalPath:t._delegate._internalPath}function qy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ql(zl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hy{}class Wy extends Hy{}function Gy(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Hy&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof Qy).length,n=e.filter(e=>e instanceof Ky).length;if(t>1||t>0&&n>0)throw new ql(zl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ky extends Wy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ky(e,t,n)}_apply(e){const t=this._parse(e);return nv(e._query,t),new ry(e.firestore,e.converter,Qd(e._query,t))}_parse(e){const t=Cy(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new ql(zl.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){tv(a,i);const t=[];for(const n of a)t.push(ev(r,e,n));o={arrayValue:{values:t}}}else o=ev(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||tv(a,i),o=Iy(n,t,a,"in"===i||"not-in"===i);return xd.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Qy extends Hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qy(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:wd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)nv(n,s),n=Qd(n,s)}(e._query,t),new ry(e.firestore,e.converter,Qd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yy extends Wy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ql(zl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ql(zl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(t,n)}(e._query,this._field,this._direction);return new ry(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ud(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Xy(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zy("orderBy",e);return Yy._create(n,t)}class Jy extends Wy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Jy(e,t,n)}_apply(e){return new ry(e.firestore,e.converter,Yd(e._query,this._limit,this._limitType))}}function Zy(e){return xc("limit",e),Jy._create("limit",e,"F")}function ev(e,t,n){if("string"==typeof(n=Ht(n))){if(""===n)throw new ql(zl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hd(t)&&-1!==n.indexOf("/"))throw new ql(zl.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(uc.fromString(n));if(!mc.isDocumentKey(r))throw new ql(zl.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nd(e,new mc(r))}if(n instanceof sy)return nd(e,n._key);throw new ql(zl.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vc(n)}.`)}function tv(e,t){if(!Array.isArray(e)||0===e.length)throw new ql(zl.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ql(zl.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ql(zl.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Au(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Iu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Vl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vu(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Wu].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Au(e.doubleValue));return new vy(s)}convertGeoPoint(e){return new yy(Au(e.latitude),Au(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Mu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=_u(e);return new Cc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=uc.fromString(e);Ul(Ym(n),9688,{name:e});const r=new Uu(n.get(1),n.get(3)),s=new mc(n.popFirst(5));return r.isEqual(t)||Ol(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function sv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class iv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class av extends Uy{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ql(zl.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=av._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}av._jsonSchemaVersion="firestore/documentSnapshot/1.0",av._jsonSchema={type:wc("string",av._jsonSchemaVersion),bundleSource:wc("string","DocumentSnapshot"),bundleName:wc("string"),bundle:wc("string")};class ov extends av{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new iv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ov(this._firestore,this._userDataWriter,n.key,n,new iv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ql(zl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ov(e._firestore,e._userDataWriter,n.doc.key,n.doc,new iv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ov(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:cv(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ql(zl.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lv._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vl(61501,{type:e})}}function uv(e){e=bc(e,sy);const t=bc(e.firestore,dy);return Qg(hy(t),e._key).then(n=>gv(t,e,n))}lv._jsonSchemaVersion="firestore/querySnapshot/1.0",lv._jsonSchema={type:wc("string",lv._jsonSchemaVersion),bundleSource:wc("string","QuerySnapshot"),bundleName:wc("string"),bundle:wc("string")};class dv extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new py(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sy(this.firestore,null,t)}}function hv(e){e=bc(e,ry);const t=bc(e.firestore,dy),n=hy(t),r=new dv(t);return qy(e._query),Yg(n,e._query).then(n=>new lv(t,r,e,n))}function mv(e,t,n){e=bc(e,sy);const r=bc(e.firestore,dy),s=sv(e.converter,t,n);return fv(r,[Ey(Cy(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Lh.none())])}function pv(e,t,n){e=bc(e,sy);const r=bc(e.firestore,dy),s=Cy(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Ht(t))||t instanceof fy?Ay(s,"updateDoc",e._key,t,n,o):_y(s,"updateDoc",e._key,t),fv(r,[i.toMutation(e._key,Lh.exists(!0))])}function fv(e,t){return function(e,t){const n=new Hl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Og(e);try{const e=await function(e,t){const n=$l(e),r=Cc.now(),s=t.reduce((e,t)=>e.add(t.key),fh());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=ah(),l=fh();return n.Os.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=Uh(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new qh(e.key,t,hd(t.value.mapValue),Lh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:ch(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new xu(rc)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pg(r,e.changes),await Pf(r.remoteStore)}catch(e){const t=Wf(e,"Failed to persist write");n.reject(t)}}(await Gg(e),t,n)),n.promise}(hy(e),t)}function gv(e,t,n){const r=n.docs.get(t._key),s=new dv(e);return new av(e,s,t._key,r,new iv(n.hasPendingWrites,n.fromCache),t.converter)}function yv(){return new jy("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pl=e}(lr),rr(new Wt("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new dy(new Ql(e.getProvider("auth-internal")),new Zl(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ql(zl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dr(_l,Al,e),dr(_l,Al,"esm2017")}();const vv="firebasestorage.googleapis.com",bv="storageBucket";class xv extends Dt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Sv(e),`Firebase Storage: ${t} (${Sv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xv.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var wv,kv;function Sv(e){return"storage/"+e}function Nv(){return new xv(wv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Cv(){return new xv(wv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ev(){return new xv(wv.CANCELED,"User canceled the upload/download.")}function Tv(e){return new xv(wv.INVALID_ARGUMENT,e)}function jv(){return new xv(wv.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(wv||(wv={}));class _v{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_v.makeFromUrl(e,t)}catch(sj){return new _v(e,"")}if(""===n.path)return n;throw r=e,new xv(wv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===vv?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new _v(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new xv(wv.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Av{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Iv(e,t,n,r){if(r<t)throw Tv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Tv(`Invalid value for '${e}'. Expected ${n} or less.`)}function Pv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Rv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(kv||(kv={}));class Dv{constructor(e,t,n,r,s,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Lv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===kv.NO_ERROR,s=n.getStatus();if(!t||Rv(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===kv.ABORT;return void e(!1,new Lv(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Lv(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(sj){r(sj)}else if(null!==s){const e=Nv();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?jv():Ev())}else{r(Cv())}};this.canceled_?t(0,new Lv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){s=setTimeout(()=>{s=null,e(m,l())},t)}function h(){i&&clearTimeout(i)}function m(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let p=!1;function f(e){p||(p=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),d(0)):e||(o=1)))}return d(0),i=setTimeout(()=>{a=!0,f(!0)},n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ov(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Mv{constructor(e,t){this._service=e,this._location=t instanceof _v?t:_v.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mv(e,t)}get root(){const e=new _v(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ov(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _v(this._location.bucket,e);return new Mv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new xv(wv.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Fv(e,t){const n=null===t||void 0===t?void 0:t[bv];return null==n?null:_v.makeFromBucketSpec(n,e)}class Vv{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=vv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_v.makeFromBucketSpec(r,this._host):Fv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=_v.makeFromBucketSpec(this._url,e):this._bucket=Fv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Iv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Iv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mv(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Av(jv());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Pv(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Dv(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Bv="@firebase/storage",Uv="0.13.14",$v="storage";function zv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Vv(r,s,i,n,lr)}rr(new Wt($v,zv,"PUBLIC").setMultipleInstances(!0)),dr(Bv,Uv,""),dr(Bv,Uv,"esm2017");const qv="functions";class Hv{constructor(e,t,n,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ir(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(e=>this.auth=e,()=>{}),this.messaging||n.get().then(e=>this.messaging=e,()=>{}),this.appCheck||null===r||void 0===r||r.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(sj){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(sj){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const Wv="us-central1";class Gv{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wv,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new Hv(e,t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(s);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=Wv}catch(sj){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const Kv="@firebase/functions",Qv="0.12.9";!function(e){rr(new Wt(qv,(e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new Gv(r,s,i,a,n)},"PUBLIC").setMultipleInstances(!0)),dr(Kv,Qv,e),dr(Kv,Qv,"esm2017")}();const Yv=cr({apiKey:"AIzaSyAsD5URTwRaa4kWYgzkHPpX2nUxRSKg22k",authDomain:"braille-app-19a76.firebaseapp.com",projectId:"braille-app-19a76",storageBucket:"braille-app-19a76.firebasestorage.app",messagingSenderId:"136716309530",appId:"1:136716309530:web:b8f9bcd350b8853e602da3",measurementId:"G-RYP85ZKBYN"}),Xv=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur();e=Ht(e);const t=sr(e,Mo);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=sr(e,Mo);if(n.isInitialized()){const e=n.getImmediate();if(Mt(t,n.getOptions()))return e;throw Bo.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Yv),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur();const t=sr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=sr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Mt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;jr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ba,persistence:[Yi,Ai,Li]}),r=xt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>qa)return;const r=null===t||void 0===t?void 0:t.token;Ha!==r&&(Ha=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Ht(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Ht(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=yt("auth");return i&&Ks(n,`http://${i}`),n}(Yv)),Jv=function(e,t){const n="object"==typeof e?e:ur(),r="string"==typeof e?e:t||Bu,s=sr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=vt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;e=bc(e,ny);const i=kt(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;i&&(St(`https://${l}`),Tt("Firestore",!0)),a.host!==Zg&&a.host!==l&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:i,emulatorOptions:r});if(!Mt(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Il.MOCK_USER;else{t=Nt(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ql(zl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Il(i)}e._authCredentials=new Kl(new Wl(t,n))}}(s,...e)}return s}(Yv),Zv=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur(),t=arguments.length>1?arguments[1]:void 0;e=Ht(e);const n=sr(e,$v).getImmediate({identifier:t}),r=vt("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const s=kt(t);s&&(St(`https://${e.host}/b`),Tt("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Nt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Yv),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wv;const n=sr(Ht(e),qv).getImmediate({identifier:t}),r=vt("functions");r&&function(e,t,n){!function(e,t,n){const r=kt(t);e.emulatorOrigin=`http${r?"s":""}://${t}:${n}`,r&&(St(e.emulatorOrigin),Tt("Functions",!0))}(Ht(e),t,n)}(n,...r)}(Yv),(0,e.createContext)(void 0)),eb=t=>{let{children:n}=t;const[r,s]=(0,e.useState)(null),[i,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=function(e,t,n,r){return Ht(e).onAuthStateChanged(t,n,r)}(Xv,e=>{s(e),a(!1)});return e},[]);return(0,lt.jsx)(Zv.Provider,{value:{user:r,loading:i,signUp:async(e,t)=>(await Ni(Xv,e,t)).user,signIn:async(e,t)=>(await Ci(Xv,e,t)).user,signOut:()=>function(e){return Ht(e).signOut()}(Xv)},children:i?(0,lt.jsx)("div",{children:"Loading..."}):n})},tb=()=>{const t=(0,e.useContext)(Zv);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},nb=()=>{const[t,n]=(0,e.useState)(!1),[r,s]=(0,e.useState)(!1),[i,a]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),{signOut:c,user:u}=tb();return(0,lt.jsx)("header",{className:"bg-white shadow-sm ",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:[(0,lt.jsx)("div",{style:{height:"40px"}}),(0,lt.jsx)("div",{className:"flex justify-center items-center mb-4 lg:mb-0",children:(0,lt.jsxs)(et,{to:"/",className:"font-bold text-secondary-500 font-irish text-2xl sm:text-3xl md:text-4xl lg:text-5xl break-words",children:[(0,lt.jsx)("span",{className:"text-[#2575FF]",children:"Braille"}),(0,lt.jsx)("span",{className:"text-black",children:"Play"})]})}),(0,lt.jsxs)("div",{className:"flex justify-between items-center h-14 sm:h-16 lg:h-20",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,lt.jsx)(et,{to:"/",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 rounded-lg mr-2 sm:mr-4 flex items-center justify-center flex-shrink-0",children:(0,lt.jsx)("img",{src:"/images/figma/logo-mini.png",alt:"Logo",className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 max-w-full max-h-full object-contain"})}),(0,lt.jsxs)("nav",{className:"hidden lg:flex space-x-2 xl:space-x-4 2xl:space-x-8 ",children:[(0,lt.jsx)(et,{to:"/",className:"flex items-center text-gray-700 hover:text-primary-500 font-medium text-sm xl:text-base py-2",children:"Home"}),(0,lt.jsxs)("div",{className:"relative group",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,lt.jsxs)(et,{to:"/learn",className:"flex items-center text-gray-700 hover:text-primary-500 font-medium text-sm xl:text-base py-2",children:["Learn",(0,lt.jsx)("svg",{className:"ml-1 h-3 w-3 xl:h-4 xl:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lt.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),(0,lt.jsxs)("div",{className:"absolute top-full left-0 w-48 xl:w-52 bg-white shadow-lg rounded-md py-2 z-50 transition-all duration-200 "+(t?"opacity-100 visible transform translate-y-0":"opacity-0 invisible transform translate-y-2"),children:[(0,lt.jsx)(et,{to:"/learn/alphabet-mode",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Alphabet Learning"}),(0,lt.jsx)(et,{to:"/learn/numbers",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Number Learning"}),(0,lt.jsx)(et,{to:"/learn/practice",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Practice Mode"})]})]}),(0,lt.jsxs)("div",{className:"relative group",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[(0,lt.jsxs)(et,{to:"/quiz",className:"flex items-center text-gray-700 hover:text-primary-500 font-medium text-sm xl:text-base py-2",children:["Quiz",(0,lt.jsx)("svg",{className:"ml-1 h-3 w-3 xl:h-4 xl:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lt.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),(0,lt.jsxs)("div",{className:"absolute top-full left-0 w-48 xl:w-52 bg-white shadow-lg rounded-md py-2 z-50 transition-all duration-200 "+(r?"opacity-100 visible transform translate-y-0":"opacity-0 invisible transform translate-y-2"),children:[(0,lt.jsx)(et,{to:"/quiz/image-to-braille",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Image-to-Braille"}),(0,lt.jsx)(et,{to:"/quiz/math",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Math Quiz"})]})]}),(0,lt.jsxs)("div",{className:"relative group",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[(0,lt.jsxs)(et,{to:"/games",className:"flex items-center text-gray-700 hover:text-primary-500 font-medium text-sm xl:text-base py-2",children:["Game",(0,lt.jsx)("svg",{className:"ml-1 h-3 w-3 xl:h-4 xl:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lt.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),(0,lt.jsxs)("div",{className:"absolute top-full left-0 w-48 xl:w-52 bg-white shadow-lg rounded-md py-2 z-50 transition-all duration-200 "+(i?"opacity-100 visible transform translate-y-0":"opacity-0 invisible transform translate-y-2"),children:[(0,lt.jsx)(et,{to:"/games/typing-game",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Typing Game"}),(0,lt.jsx)(et,{to:"/games/typing-sprint",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 hover:text-primary-500 transition-colors",children:"Typing Sprint"})]})]})]})]}),(0,lt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[u?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(et,{to:"/",onClick:c,className:"text-gray-700 hover:text-primary-500 font-medium text-sm sm:text-base",children:"Sign out"}),(0,lt.jsx)(et,{to:"/my",className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 text-gray-700 hover:text-primary-500",children:(0,lt.jsx)("span",{className:"material-icons text-xl sm:text-2xl",children:"person"})})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(et,{to:"/login",className:"text-gray-700 hover:text-primary-500 font-medium text-sm sm:text-base",children:"Sign in"}),(0,lt.jsx)(et,{to:"/signup",className:"border border-primary-500 text-primary-500 px-3 py-2 sm:px-4 sm:py-2 rounded-md hover:bg-primary-500 hover:text-white transition-colors text-sm sm:text-base",children:"Sign up"})]}),(0,lt.jsx)("button",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10","aria-label":"Open menu",onClick:()=>l(!0),children:(0,lt.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&(0,lt.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 flex m-0",children:[(0,lt.jsx)("div",{className:"flex-1",onClick:()=>l(!1)}),(0,lt.jsxs)("div",{className:"bg-white w-72 sm:w-80 h-full shadow-lg p-4 sm:p-6 relative",children:[(0,lt.jsx)("button",{className:"absolute top-3 right-3 sm:top-4 sm:right-4","aria-label":"Close menu",onClick:()=>l(!1),children:(0,lt.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,lt.jsxs)("nav",{className:"flex flex-col space-y-4 mt-8 sm:mt-12",children:[(0,lt.jsx)(et,{to:"/",className:"text-gray-700 hover:text-primary-500 font-medium text-lg",onClick:()=>l(!1),children:"Home"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)(et,{to:"/learn",className:"text-gray-700 hover:text-primary-500 font-medium text-lg",onClick:()=>l(!1),children:"Learn"}),(0,lt.jsxs)("div",{className:"ml-2 flex flex-col mt-2",children:[(0,lt.jsx)(et,{to:"/learn/alphabet-mode",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Alphabet Learning"}),(0,lt.jsx)(et,{to:"/learn/numbers",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Number Learning"}),(0,lt.jsx)(et,{to:"/learn/practice",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Practice Mode"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)(et,{to:"/quiz",className:"text-gray-700 font-medium text-lg hover:text-primary-500",onClick:()=>l(!1),children:"Quiz"}),(0,lt.jsxs)("div",{className:"ml-2 flex flex-col mt-2",children:[(0,lt.jsx)(et,{to:"/quiz/image-to-braille",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Image-to-Braille"}),(0,lt.jsx)(et,{to:"/quiz/math",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Math Quiz"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)(et,{to:"/games",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Game"}),(0,lt.jsxs)("div",{className:"ml-2 flex flex-col mt-2",children:[(0,lt.jsx)(et,{to:"/games/typing-game",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Typing Game"}),(0,lt.jsx)(et,{to:"/games/typing-sprint",className:"text-gray-600 hover:text-primary-500 py-2 text-base",onClick:()=>l(!1),children:"Typing Sprint"})]})]}),u?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(et,{to:"/my",className:"text-gray-700 hover:text-primary-500 font-medium text-sm sm:text-base",onClick:()=>l(!1),children:"My"}),(0,lt.jsx)(et,{to:"/",onClick:()=>{l(!1),c()},className:"text-gray-700 hover:text-primary-500 font-medium text-sm sm:text-base",children:"Sign out"})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(et,{to:"/login",className:"border border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white font-medium mt-6 text-center px-4 py-3 rounded-md transition-colors text-base",onClick:()=>l(!1),children:"Sign in"}),(0,lt.jsx)(et,{to:"/signup",className:"bg-primary-500 text-white px-4 py-3 rounded-md hover:bg-primary-600 transition-colors mt-3 text-center text-base",onClick:()=>l(!1),children:"Sign up"})]})]})]})]})]})]})]})})},rb=e=>{let{title:t,className:n="",titleClassName:r="",dotClassName:s=""}=e;return(0,lt.jsx)("div",{className:`flex justify-center items-center mb-6 sm:mb-8 ${n}`,children:(0,lt.jsxs)("div",{className:"flex space-x-4 sm:space-x-8 items-center",children:[(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full ${s}`}),(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full ${s}`}),(0,lt.jsx)("h2",{className:`text-xl sm:text-3xl lg:text-4xl font-light text-gray-600 lg:px-20 ${r}`,children:t}),(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full ${s}`}),(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full ${s}`})]})})},sb=e=>{let{subtitle:t,className:n="",subtitleClassName:r="",dotClassName:s=""}=e;return(0,lt.jsxs)("div",{className:`flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-6 ${n}`,children:[(0,lt.jsxs)("div",{className:"flex gap-2",children:[(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 ${s}`}),(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 ${s}`})]}),(0,lt.jsx)("span",{className:`text-sm sm:text-lg text-gray-600 font-light ${r}`,children:t}),(0,lt.jsxs)("div",{className:"flex gap-2",children:[(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 ${s}`}),(0,lt.jsx)("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 ${s}`})]})]})};class ib{constructor(){this.port=null,this.reader=null,this.isConnected=!1,this.onDataCallback=null}static isSupported(){return"serial"in navigator}async connect(){try{if(!ib.isSupported())throw new Error("Web Serial API is not supported in this browser");return this.port=await navigator.serial.requestPort(),await this.port.open({baudRate:115200}),this.isConnected=!0,this.startReading(),!0}catch(e){return console.error("Failed to connect to serial device:",e),!1}}async disconnect(){try{this.reader&&(await this.reader.cancel(),this.reader=null),this.port&&(await this.port.close(),this.port=null),this.isConnected=!1}catch(e){console.error("Failed to disconnect from serial device:",e)}}async startReading(){if(this.port&&this.port.readable){this.reader=this.port.readable.getReader();try{for(;this.isConnected;){const{value:e,done:t}=await this.reader.read();if(t)break;if(e&&e.length>0)for(const n of e)this.onDataCallback&&this.onDataCallback(n)}}catch(e){console.error("Error reading from serial device:",e)}finally{this.reader&&(this.reader.releaseLock(),this.reader=null)}}}setOnDataCallback(e){this.onDataCallback=e}getConnectionStatus(){return this.isConnected}async sendData(e){try{if(!this.port||!this.port.writable)return!1;const t=this.port.writable.getWriter();return await t.write(e),t.releaseLock(),!0}catch(t){return console.error("Failed to send data to serial device:",t),!1}}}new ib;const ab=(0,e.createContext)(void 0),ob=()=>{const t=(0,e.useContext)(ab);if(void 0===t)throw new Error("useBrailleDevice must be used within a BrailleDeviceProvider");return t},lb=t=>{let{children:r}=t;const[s,i]=(0,e.useState)(null),[a,o]=(0,e.useState)(!1),l=async()=>{s&&(console.log("Disconnecting from Braille device..."),await s.disconnect(),i(null),o(!1),console.log("\u2705 Disconnected from Braille device"))};(0,e.useEffect)(()=>()=>{s&&a&&l()},[]);const c={serialDevice:s,isConnected:a,connectDevice:async()=>{try{console.log("Attempting to connect to Braille device...");const e=new ib;if(!await e.connect())throw new Error("Device connection returned false");i(e),o(!0),console.log("\u2705 Successfully connected to Braille device")}catch(e){console.error("\u274c Failed to connect to device:",e),Promise.resolve().then(n.t.bind(n,64,23)).then(e=>{let{default:t}=e;t.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to connect to Braille device. Make sure it's connected and try again.",showConfirmButton:!1,timer:5e3})})}},disconnectDevice:l,setOnDataCallback:e=>{s&&a&&s.setOnDataCallback(e)}};return(0,lt.jsx)(ab.Provider,{value:c,children:r})},cb=()=>{const{isConnected:t,connectDevice:n,disconnectDevice:r}=ob(),[s,i]=(0,e.useState)(!1);return(0,lt.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[s&&(0,lt.jsxs)("div",{className:"mb-4 bg-white rounded-lg shadow-lg border p-4 min-w-[250px]",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Braille Device"}),(0,lt.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:(0,lt.jsx)("img",{src:"/images/figma/hero-3d-key.png",alt:"",className:"w-12 h-auto"})})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lt.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,lt.jsx)("span",{className:"text-sm font-medium "+(t?"text-green-600":"text-red-600"),children:t?"\u2705 Connected":"\u274c Disconnected"})]}),(0,lt.jsx)("button",{onClick:async()=>{t?await r():await n(),i(!1)},className:"w-full py-2 px-4 rounded-lg text-sm font-semibold transition-colors "+(t?"bg-red-500 text-white hover:bg-red-600":"bg-primary-500 text-white hover:bg-primary-600"),children:t?"Disconnect Device":"Connect Device"})]}),(0,lt.jsx)("button",{onClick:()=>i(!s),className:`w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${t?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-500 hover:bg-gray-600 text-white"} ${s?"border border-[3px] border-black":""}`,children:(0,lt.jsx)("img",{src:"/images/figma/hero-3d-key.png",alt:"",className:"w-8 h-auto"})})]})},ub=()=>{const[t,n]=(0,e.useState)("about");return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsx)("h1",{className:"text-4xl font-light text-gray-600 mb-4",children:"About Braille Learning"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"Learn about our mission and technology"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg mb-8",children:[(0,lt.jsx)("div",{className:"border-b border-gray-200",children:(0,lt.jsx)("nav",{className:"flex space-x-8 px-8",children:[{id:"about",label:"About Us",icon:"\ud83d\udcd6"},{id:"technology",label:"Technology",icon:"\ud83d\udd27"},{id:"accessibility",label:"Accessibility",icon:"\u267f"}].map(e=>(0,lt.jsxs)("button",{onClick:()=>n(e.id),className:"py-4 px-2 border-b-2 font-medium text-sm "+(t===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,lt.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,lt.jsxs)("div",{className:"p-8",children:["about"===t&&(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Our Mission"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed mb-6",children:"We believe that learning Braille should be accessible, interactive, and engaging for everyone. Our platform combines modern web technology with tactile learning methods to create an innovative educational experience."}),(0,lt.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Whether you're a student learning Braille for the first time, an educator looking for teaching resources, or someone who wants to better understand this important communication system, our platform provides the tools and knowledge you need."})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfaf"}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Interactive Learning"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Hands-on exercises and games that make learning Braille fun and engaging."})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd17"}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Hardware Integration"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Connect with Arduino-based tactile devices for authentic Braille input experience."})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc8"}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Progress Tracking"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Monitor your learning journey with detailed progress tracking and achievements."})]})]})]}),"technology"===t&&(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Technology Stack"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Our platform is built using modern web technologies and integrates with hardware devices to provide a comprehensive learning experience."})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,lt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-4",children:"Frontend Technologies"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-blue-700",children:[(0,lt.jsx)("li",{children:"\u2022 React 18 with TypeScript"}),(0,lt.jsx)("li",{children:"\u2022 Tailwind CSS for responsive design"}),(0,lt.jsx)("li",{children:"\u2022 React Router for navigation"}),(0,lt.jsx)("li",{children:"\u2022 Web Serial API for hardware integration"})]})]}),(0,lt.jsxs)("div",{className:"bg-green-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-green-800 mb-4",children:"Backend Services"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-green-700",children:[(0,lt.jsx)("li",{children:"\u2022 Firebase Authentication"}),(0,lt.jsx)("li",{children:"\u2022 Firestore Database"}),(0,lt.jsx)("li",{children:"\u2022 Firebase Cloud Functions"}),(0,lt.jsx)("li",{children:"\u2022 Firebase Hosting"})]})]}),(0,lt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-purple-800 mb-4",children:"Hardware Integration"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-purple-700",children:[(0,lt.jsx)("li",{children:"\u2022 Arduino-based Braille input device"}),(0,lt.jsx)("li",{children:"\u2022 8-bit serial communication"}),(0,lt.jsx)("li",{children:"\u2022 Real-time tactile feedback"}),(0,lt.jsx)("li",{children:"\u2022 Web Serial API compatibility"})]})]}),(0,lt.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-yellow-800 mb-4",children:"External APIs"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-yellow-700",children:[(0,lt.jsx)("li",{children:"\u2022 Free Dictionary API"}),(0,lt.jsx)("li",{children:"\u2022 Text-to-Speech synthesis"}),(0,lt.jsx)("li",{children:"\u2022 Audio pronunciation support"}),(0,lt.jsx)("li",{children:"\u2022 Definition and phonetic data"})]})]})]}),(0,lt.jsxs)("div",{className:"bg-gray-100 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Braille System Implementation"}),(0,lt.jsx)("p",{className:"text-gray-700 mb-4",children:"Our system implements the standard 6-dot Braille system for English alphabet (A-Z) and numbers (0-9):"}),(0,lt.jsxs)("ul",{className:"space-y-1 text-gray-700",children:[(0,lt.jsx)("li",{children:"\u2022 Grade 1 Braille character mapping"}),(0,lt.jsx)("li",{children:"\u2022 8-bit input parsing for hardware devices"}),(0,lt.jsx)("li",{children:"\u2022 Unicode Braille pattern generation"}),(0,lt.jsx)("li",{children:"\u2022 Real-time character recognition"})]})]})]}),"accessibility"===t&&(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Accessibility Features"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Accessibility is at the core of our design. We've implemented comprehensive features to ensure our platform is usable by everyone, regardless of their abilities."})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-4",children:"\ud83d\udd0a Audio Support"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-blue-700",children:[(0,lt.jsx)("li",{children:"\u2022 Screen reader compatibility"}),(0,lt.jsx)("li",{children:"\u2022 Text-to-speech for all content"}),(0,lt.jsx)("li",{children:"\u2022 Audio pronunciation guides"}),(0,lt.jsx)("li",{children:"\u2022 Sound feedback for interactions"})]})]}),(0,lt.jsxs)("div",{className:"bg-green-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-green-800 mb-4",children:"\u2328\ufe0f Keyboard Navigation"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-green-700",children:[(0,lt.jsx)("li",{children:"\u2022 Full keyboard navigation support"}),(0,lt.jsx)("li",{children:"\u2022 Intuitive tab order"}),(0,lt.jsx)("li",{children:"\u2022 Keyboard shortcuts for efficiency"}),(0,lt.jsx)("li",{children:"\u2022 Focus indicators for all elements"})]})]})]}),(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-purple-800 mb-4",children:"\ud83d\udc41\ufe0f Visual Design"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-purple-700",children:[(0,lt.jsx)("li",{children:"\u2022 High contrast color schemes"}),(0,lt.jsx)("li",{children:"\u2022 Scalable font sizes"}),(0,lt.jsx)("li",{children:"\u2022 Clear visual hierarchy"}),(0,lt.jsx)("li",{children:"\u2022 Consistent design patterns"})]})]}),(0,lt.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-yellow-800 mb-4",children:"\ud83e\udd1d Universal Design"}),(0,lt.jsxs)("ul",{className:"space-y-2 text-yellow-700",children:[(0,lt.jsx)("li",{children:"\u2022 WCAG 2.1 AA compliance"}),(0,lt.jsx)("li",{children:"\u2022 Semantic HTML structure"}),(0,lt.jsx)("li",{children:"\u2022 ARIA labels and descriptions"}),(0,lt.jsx)("li",{children:"\u2022 Mobile-responsive design"})]})]})]})]}),(0,lt.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-indigo-800 mb-4",children:"\ud83d\udd27 Hardware Accessibility"}),(0,lt.jsx)("p",{className:"text-indigo-700 mb-4",children:"Our Arduino-based input device is designed with accessibility in mind:"}),(0,lt.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-indigo-700",children:[(0,lt.jsx)("li",{children:"\u2022 Tactile button layout matching Braille cell"}),(0,lt.jsx)("li",{children:"\u2022 Adjustable sensitivity settings"}),(0,lt.jsx)("li",{children:"\u2022 Ergonomic design for comfortable use"}),(0,lt.jsx)("li",{children:"\u2022 Visual and audio confirmation feedback"})]})]})]})]})]}),(0,lt.jsxs)("div",{className:"bg-primary-500 rounded-lg shadow-lg p-8 text-center text-white",children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Learning?"}),(0,lt.jsx)("p",{className:"text-xl mb-6",children:"Join thousands of learners who are mastering Braille with our interactive platform."}),(0,lt.jsxs)("div",{className:"space-x-4",children:[(0,lt.jsx)(et,{to:"/learn",className:"bg-white text-primary-500 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block",children:"Start Learning"}),(0,lt.jsx)(et,{to:"/contact",className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors inline-block border border-white",children:"Contact Us"})]})]})]})})},db=()=>{const[t,n]=(0,e.useState)({email:"",password:""}),[r,s]=(0,e.useState)(!1),[i,a]=(0,e.useState)(""),o=ee(),{signIn:l}=tb(),c=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r})),a("")};return(0,lt.jsx)("div",{className:"bg-white flex flex-col",children:(0,lt.jsx)("div",{className:"flex-1 flex items-center justify-center px-0 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-20",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto flex flex-col items-center justify-center w-full gap-6 sm:gap-8 lg:gap-12",children:[(0,lt.jsx)("div",{className:"flex justify-center items-center mb-4 sm:mb-6 lg:mb-8",children:(0,lt.jsxs)("div",{className:"flex space-x-3 sm:space-x-4 lg:space-x-8 items-center",children:[(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"}),(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"}),(0,lt.jsx)("h2",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-light text-gray-600 px-4 sm:px-8 lg:px-12 xl:px-20",children:"Login"}),(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"}),(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"})]})}),(0,lt.jsx)("div",{className:"w-full max-w-sm sm:max-w-sm md:max-w-md lg:max-w-lg",children:(0,lt.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-lg border border-gray-200 p-6 sm:p-8 lg:p-10",children:[(0,lt.jsx)("div",{className:"flex justify-center mb-6 sm:mb-8",children:(0,lt.jsx)("img",{src:"/images/figma/logo.png",alt:"Logo",className:"w-32 h-28 sm:w-36 sm:h-32 md:w-40 md:h-36 lg:w-44 lg:h-40 object-contain"})}),(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0);const{email:n,password:r}=t;try{await l(n,r),a(null),o("/")}catch(i){a("Invalid email or password. Please try again.")}finally{s(!1)}},className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[i&&(0,lt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4",children:(0,lt.jsxs)("div",{className:"flex",children:[(0,lt.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,lt.jsx)("p",{className:"text-red-700 text-xs sm:text-sm",children:i})]})}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium text-gray-800 mb-1 sm:mb-2",children:"email"}),(0,lt.jsx)("input",{type:"text",id:"email",name:"email",value:t.email,onChange:c,required:!0,className:"w-full p-2 sm:p-3 border border-gray-300 rounded text-sm sm:text-base focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"email"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"password",className:"block text-xs sm:text-sm font-medium text-gray-800 mb-1 sm:mb-2",children:"password"}),(0,lt.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:c,required:!0,className:"w-full p-2 sm:p-3 border border-gray-300 rounded text-sm sm:text-base focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"password"})]}),(0,lt.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 sm:py-3 rounded-lg text-lg sm:text-xl font-light hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:r?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,lt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,lt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,lt.jsx)("span",{className:"text-sm sm:text-base",children:"Signing In..."})]}):"Login"}),(0,lt.jsx)(et,{to:"/signup",className:"w-full inline-block text-center border border-blue-600 text-blue-600 py-2 sm:py-3 rounded-lg text-lg sm:text-xl font-light hover:bg-blue-50 transition-colors",children:"Sign up"}),(0,lt.jsxs)("div",{className:"text-center space-y-1 sm:space-y-2",children:[(0,lt.jsxs)(et,{to:"/forgot-email",className:"block text-gray-600 text-xs sm:text-sm hover:text-blue-600 transition-colors",children:["Find your ",(0,lt.jsx)("span",{className:"font-bold",children:"email"})]}),(0,lt.jsxs)(et,{to:"/forgot-password",className:"block text-gray-600 text-xs sm:text-sm hover:text-blue-600 transition-colors",children:["Forgot your ",(0,lt.jsx)("span",{className:"font-bold",children:"password?"})]})]})]})]})})]})})})},hb=()=>{const[t,n]=(0,e.useState)({username:"",password:"",confirmPassword:"",name:"",dateOfBirth:"",agreeToTerms:!1}),[r,s]=(0,e.useState)(!1),[i,a]=(0,e.useState)(""),[o,l]=(0,e.useState)({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),c=ee(),{signUp:u}=tb(),d=e=>{const{name:t,value:r,type:s}=e.target,i="checkbox"===s?e.target.checked:r;n(e=>({...e,[t]:i})),a(""),"password"===t&&h(r)},h=e=>{l({length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/\d/.test(e),special:/[!@#$%^&*(),.?":{}|<>]/.test(e)})},m=()=>Object.values(o).filter(Boolean).length;return(0,lt.jsx)("div",{className:"bg-white flex flex-col",children:(0,lt.jsx)("div",{className:"flex-1 flex items-center justify-center px-0 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-20",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto flex flex-col items-center justify-center w-full gap-6 sm:gap-8 lg:gap-12",children:[(0,lt.jsxs)("div",{className:"flex space-x-3 sm:space-x-4 lg:space-x-8 items-center",children:[(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"}),(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"}),(0,lt.jsx)("h2",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-light text-gray-600 px-4 sm:px-8 lg:px-12 xl:px-20",children:"Sign Up"}),(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"}),(0,lt.jsx)("div",{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full"})]}),(0,lt.jsxs)("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg xl:max-w-xl bg-white rounded-xl sm:rounded-2xl shadow-lg sm:shadow-xl lg:shadow-2xl p-6 sm:p-8 lg:p-10 xl:p-12",children:[(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t.username&&t.name?t.username?m()<3?(a("Please choose a stronger password."),0):t.password!==t.confirmPassword?(a("Passwords do not match."),0):t.agreeToTerms||(a("Please agree to the Terms of Service and Privacy Policy."),0):(a("Please enter your email address."),0):(a("Please enter your username and name."),0))try{s(!0),a("");const{username:e,password:n}=t;console.log("\ud68c\uc6d0\uac00\uc785 \uc2dc\ub3c4:",e,n);const r=await u(e,n);a(""),console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5:",r),await mv(oy(Jv,"users",r.uid),{email:r.email,name:t.name,dateOfBirth:t.dateOfBirth,createdAt:yv()}),await Ci(Xv,e,n),console.log("\uc790\ub3d9 \ub85c\uadf8\uc778 \uc644\ub8cc"),c("/")}catch(n){console.error(n),console.log(n.code,n.message),a(n.message)}finally{s(!1)}},className:"space-y-4 sm:space-y-6",children:[i&&(0,lt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4",children:(0,lt.jsxs)("div",{className:"flex",children:[(0,lt.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,lt.jsx)("p",{className:"text-red-700 text-xs sm:text-sm",children:i})]})}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"username",className:"block text-sm sm:text-base font-semibold text-gray-700 mb-2",children:"username (email)"}),(0,lt.jsx)("input",{type:"email",id:"username",name:"username",value:t.username,onChange:d,required:!0,className:"w-full p-2 sm:p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"john.doe@example.com"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"password",className:"block text-sm sm:text-base font-semibold text-gray-700 mb-2",children:"password"}),(0,lt.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:d,required:!0,className:"w-full p-2 sm:p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"password"}),t.password&&(0,lt.jsxs)("div",{className:"mt-2",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 sm:h-2",children:(0,lt.jsx)("div",{className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${(()=>{const e=m();return e<=2?"bg-red-500":e<=3?"bg-yellow-500":e<=4?"bg-blue-500":"bg-green-500"})()}`,style:{width:m()/5*100+"%"}})}),(0,lt.jsx)("span",{className:"text-xs text-gray-500",children:m()<=2?"Weak":m()<=3?"Fair":m()<=4?"Good":"Strong"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-1 sm:gap-2 mt-2 text-xs",children:[(0,lt.jsxs)("div",{className:"flex items-center "+(o.length?"text-green-600":"text-gray-400"),children:[(0,lt.jsx)("span",{className:"mr-1",children:o.length?"\u2713":"\u25cb"}),"8+ characters"]}),(0,lt.jsxs)("div",{className:"flex items-center "+(o.uppercase?"text-green-600":"text-gray-400"),children:[(0,lt.jsx)("span",{className:"mr-1",children:o.uppercase?"\u2713":"\u25cb"}),"Uppercase"]}),(0,lt.jsxs)("div",{className:"flex items-center "+(o.lowercase?"text-green-600":"text-gray-400"),children:[(0,lt.jsx)("span",{className:"mr-1",children:o.lowercase?"\u2713":"\u25cb"}),"Lowercase"]}),(0,lt.jsxs)("div",{className:"flex items-center "+(o.number?"text-green-600":"text-gray-400"),children:[(0,lt.jsx)("span",{className:"mr-1",children:o.number?"\u2713":"\u25cb"}),"Number"]})]})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm sm:text-base font-semibold text-gray-700 mb-2",children:"Confirm Password"}),(0,lt.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:d,required:!0,className:"w-full p-2 sm:p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"Confirm Password"}),t.confirmPassword&&t.password!==t.confirmPassword&&(0,lt.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:"Passwords do not match"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"name",className:"block text-sm sm:text-base font-semibold text-gray-700 mb-2",children:"Name"}),(0,lt.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:d,required:!0,className:"w-full p-2 sm:p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"Name"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm sm:text-base font-semibold text-gray-700 mb-2",children:"Date of Birth"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:t.dateOfBirth,onChange:d,className:"w-full p-2 sm:p-3 border rounded transition-colors text-sm sm:text-base pr-10",placeholder:"Date of Birth"}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,lt.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),(0,lt.jsx)("div",{children:(0,lt.jsxs)("label",{className:"flex items-start",children:[(0,lt.jsx)("input",{type:"checkbox",name:"agreeToTerms",checked:t.agreeToTerms,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),(0,lt.jsxs)("span",{className:"ml-2 text-xs sm:text-sm text-gray-600",children:["I agree to the"," ",(0,lt.jsx)(et,{to:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",(0,lt.jsx)(et,{to:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]})}),(0,lt.jsx)("button",{type:"submit",disabled:r||!t.agreeToTerms,className:"w-full bg-blue-600 text-white py-2 sm:py-3 rounded-lg font-light hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center text-base sm:text-lg lg:text-xl",children:r?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,lt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,lt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Sign Up"})]}),(0,lt.jsx)("div",{className:"mt-4 sm:mt-6",children:(0,lt.jsx)(et,{to:"/login",className:"w-full bg-white text-blue-600 py-2 sm:py-3 rounded-lg font-light border border-blue-600 hover:bg-blue-50 transition-colors flex items-center justify-center text-base sm:text-lg lg:text-xl",children:"Back"})}),(0,lt.jsx)("div",{className:"text-center mt-4 sm:mt-6",children:(0,lt.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:["Already have an account?"," ",(0,lt.jsx)(et,{to:"/login",className:"text-blue-600 hover:text-blue-500 font-semibold transition-colors",children:"Sign in"})]})})]})]})})})},mb=()=>{const e={};for(let n=0;n<26;n++){e[String.fromCharCode(65+n)]=0}const t={};for(let n=0;n<=9;n++)t[n.toString()]=0;return{letters:e,numbers:t,words:{},phrases:{},updatedAt:yv()}},pb=async e=>{try{const t=oy(Jv,"users",e.uid,"learningProgress","data"),n=await uv(t);if(n.exists())return n.data();{const e=mb();return await mv(t,e),e}}catch(t){return console.error("Error getting learning progress:",t),mb()}},fb=async(e,t)=>{console.log("\ud83d\udd25 updateNumberProgress called with:",{userId:e.uid,email:e.email,number:t}),console.log("\ud83d\uddc2\ufe0f Firebase Console URL:",`https://console.firebase.google.com/project/braille-app-19a76/firestore/data/~2Fusers~2F${e.uid}~2FlearningProgress~2Fdata`);try{const n=oy(Jv,"users",e.uid,"learningProgress","data");console.log("\ud83d\udccd Firestore reference path:",`users/${e.uid}/learningProgress/data`);const r=await uv(n);if(console.log("\ud83d\udcc4 Document exists:",r.exists()),r.exists()){console.log("\ud83d\udd04 Updating existing document...");const e=r.data();console.log("\ud83d\udcca Current progress:",e),await pv(n,{[`numbers.${t}`]:1,updatedAt:yv()}),console.log("\u2705 Document updated successfully")}else{console.log("\ud83c\udd95 Creating new document...");const e=mb();e.numbers[t]=1,console.log("\ud83d\udcdd Initial progress to save:",e),await mv(n,e),console.log("\u2705 New document created successfully")}console.log(`\ud83c\udfaf Number ${t} progress updated successfully`),console.log("\ud83d\udd0d Verifying save by reading back data...");const s=await uv(n);if(s.exists()){const e=s.data();console.log("\u2705 Verification successful! Current data:",{number:t,status:e.numbers[t],fullNumbersData:e.numbers,updatedAt:e.updatedAt})}else console.log("\u26a0\ufe0f Verification failed - document not found after save")}catch(n){throw console.error("\ud83d\udca5 Error updating number progress:",n),console.error("Error details:",{code:n.code,message:n.message,stack:n.stack}),n}},gb=async(e,t,n)=>{console.log("\ud83d\udd25 updateWordProgress called with:",{userId:e.uid,email:e.email,category:t,word:n}),console.log("\ud83d\uddc2\ufe0f Firebase Console URL:",`https://console.firebase.google.com/project/braille-app-19a76/firestore/data/~2Fusers~2F${e.uid}~2FlearningProgress~2Fdata`);try{const s=oy(Jv,"users",e.uid,"learningProgress","data");console.log("\ud83d\udccd Firestore reference path:",`users/${e.uid}/learningProgress/data`);const i=await uv(s);if(console.log("\ud83d\udcc4 Document exists:",i.exists()),i.exists()){console.log("\ud83d\udd04 Updating existing document...");const e=i.data();console.log("\ud83d\udcca Current progress:",e),await pv(s,{[`words.${t}.${n}`]:1,updatedAt:yv()}),console.log("\u2705 Document updated successfully")}else{console.log("\ud83c\udd95 Creating new document...");const e=mb();e.words[t]||(e.words[t]={}),e.words[t][n]=1,console.log("\ud83d\udcdd Initial progress to save:",e),await mv(s,e),console.log("\u2705 New document created successfully")}console.log(`\ud83c\udfaf Word "${n}" in category "${t}" progress updated successfully`),console.log("\ud83d\udd0d Verifying save by reading back data...");const a=await uv(s);if(a.exists()){var r;const e=a.data();console.log("\u2705 Verification successful! Current data:",{category:t,word:n,status:null===(r=e.words[t])||void 0===r?void 0:r[n],fullWordsData:e.words,updatedAt:e.updatedAt})}else console.log("\u26a0\ufe0f Verification failed - document not found after save")}catch(s){throw console.error("\ud83d\udca5 Error updating word progress:",s),console.error("Error details:",{code:s.code,message:s.message,stack:s.stack}),s}},yb=async(e,t,n)=>{console.log("\ud83d\udd25 updatePhraseProgress called with:",{userId:e.uid,email:e.email,category:t,phrase:n}),console.log("\ud83d\uddc2\ufe0f Firebase Console URL:",`https://console.firebase.google.com/project/braille-app-19a76/firestore/data/~2Fusers~2F${e.uid}~2FlearningProgress~2Fdata`);try{const s=oy(Jv,"users",e.uid,"learningProgress","data");console.log("\ud83d\udccd Firestore reference path:",`users/${e.uid}/learningProgress/data`);const i=await uv(s);if(console.log("\ud83d\udcc4 Document exists:",i.exists()),i.exists()){console.log("\ud83d\udd04 Updating existing document...");const e=i.data();console.log("\ud83d\udcca Current progress:",e),await pv(s,{[`phrases.${t}.${n}`]:1,updatedAt:yv()}),console.log("\u2705 Document updated successfully")}else{console.log("\ud83c\udd95 Creating new document...");const e=mb();e.phrases[t]||(e.phrases[t]={}),e.phrases[t][n]=1,console.log("\ud83d\udcdd Initial progress to save:",e),await mv(s,e),console.log("\u2705 New document created successfully")}console.log(`\ud83c\udfaf Phrase "${n}" in category "${t}" progress updated successfully`),console.log("\ud83d\udd0d Verifying save by reading back data...");const a=await uv(s);if(a.exists()){var r;const e=a.data();console.log("\u2705 Verification successful! Current data:",{category:t,phrase:n,status:null===(r=e.phrases[t])||void 0===r?void 0:r[n],fullPhrasesData:e.phrases,updatedAt:e.updatedAt})}else console.log("\u26a0\ufe0f Verification failed - document not found after save")}catch(s){throw console.error("\ud83d\udca5 Error updating phrase progress:",s),console.error("Error details:",{code:s.code,message:s.message,stack:s.stack}),s}},vb=async e=>{try{const t=await pb(e),n={completed:Object.values(t.letters).filter(e=>1===e).length,total:Object.keys(t.letters).length},r={completed:Object.values(t.numbers).filter(e=>1===e).length,total:Object.keys(t.numbers).length},s={completed:Object.values(t.words).reduce((e,t)=>e+Object.values(t).filter(e=>1===e).length,0),total:Object.values(t.words).reduce((e,t)=>e+Object.keys(t).length,0)},i={completed:Object.values(t.phrases).reduce((e,t)=>e+Object.values(t).filter(e=>1===e).length,0),total:Object.values(t.phrases).reduce((e,t)=>e+Object.keys(t).length,0)};return{letters:n,numbers:r,words:s,phrases:i,overall:{completed:n.completed+r.completed+s.completed+i.completed,total:n.total+r.total+s.total+i.total}}}catch(t){return console.error("Error getting learning stats:",t),null}},bb=new Map,xb=async(e,t)=>{if(!e||!e.email)throw console.error("\u274c User not authenticated - cannot save game history"),new Error("User not authenticated");const n=`${e.uid}-${t.type}-${t.score}-${t.cpm}`,r=Date.now(),s=bb.get(n);if(s&&r-s<5e3)console.log("\u26a0\ufe0f Duplicate save attempt detected - skipping save");else{bb.set(n,r),setTimeout(()=>{bb.delete(n)},3e5);try{console.log("\ud83d\udcbe Saving game history to Firestore:",{username:e.email,...t});const n={username:e.email,type:t.type,cpm:t.cpm,combo:t.combo,score:t.score,accuracy:t.accuracy,createdAt:new Date},r=await function(e,t){const n=bc(e.firestore,dy),r=oy(e),s=sv(e.converter,t);return fv(n,[Ey(Cy(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Lh.exists(!1))]).then(()=>r)}(ay(Jv,"users",e.uid,"gameHistory"),n);console.log("\u2705 Game history saved successfully with ID:",r.id)}catch(i){throw console.error("\u274c Failed to save game history:",i),i}}},wb=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(!e||!e.email)return console.error("\u274c User not authenticated - cannot fetch game history"),[];try{console.log("\ud83d\udcca Fetching game history for user:",e.email,"gameType:",t);const r=Gy(ay(Jv,"users",e.uid,"gameHistory"),Xy("createdAt","desc")),s=await hv(r),i=[];s.forEach(e=>{const t=e.data();i.push({id:e.id,...t})});let a=i;t&&(a=i.filter(e=>e.type===t));const o=a.slice(0,n);return console.log(`\u2705 Fetched ${o.length} game history entries (total: ${i.length}, filtered: ${a.length})`),o}catch(r){return console.error("\u274c Failed to fetch game history:",r),[]}},kb=async(e,t)=>{if(!e||!e.email)return console.error("\u274c User not authenticated - cannot fetch best records"),{highestCPM:0,highestCombo:0,highestScore:0,bestAccuracy:0};try{console.log("\ud83c\udfc6 Fetching best records for user:",e.email,"gameType:",t);const n=Gy(ay(Jv,"users",e.uid,"gameHistory"),Xy("createdAt","desc")),r=await hv(n);let s=0,i=0,a=0,o=0;r.forEach(e=>{const n=e.data();t&&n.type!==t||(s=Math.max(s,n.cpm),i=Math.max(i,n.combo),a=Math.max(a,n.score),o=Math.max(o,n.accuracy))});const l={highestCPM:s,highestCombo:i,highestScore:a,bestAccuracy:o};return console.log("\ud83c\udfc6 Best records fetched:",l),l}catch(n){return console.error("\u274c Failed to fetch best records:",n),{highestCPM:0,highestCombo:0,highestScore:0,bestAccuracy:0}}},Sb=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{console.log("\ud83c\udfc6 Fetching global ranking...");const n=ay(Jv,"users"),r=await hv(n),s=[];for(const e of r.docs){const n=e.id,r=e.data();try{const e=Gy(ay(Jv,"users",n,"gameHistory"),Xy("score","desc"),Zy(1)),t=await hv(e);if(!t.empty){const e=t.docs[0].data();s.push({id:n,username:e.username,name:r.name||e.username.split("@")[0],birth:r.dateOfBirth||"2024",score:e.score,cpm:e.cpm,accuracy:e.accuracy,createdAt:e.createdAt})}}catch(t){console.warn(`Failed to fetch game history for user ${n}:`,t)}}const i=s.sort((e,t)=>t.score-e.score).slice(0,e);return console.log("\u2705 Global ranking fetched:",i.length,"users"),i}catch(t){return console.error("\u274c Failed to fetch global ranking:",t),[]}},Nb=()=>{const{user:t}=tb(),n=ee(),[r,s]=(0,e.useState)("learning"),[i,a]=(0,e.useState)(null),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)({}),[d,h]=(0,e.useState)(null),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)([]),[y,v]=(0,e.useState)([]),[b,x]=(0,e.useState)(!0),w=(0,e.useCallback)(async()=>{if(t)try{x(!0);const[e,n,r,s,i,o]=await Promise.all([vb(t),pb(t),kb(t),wb(t,"GAME",5),wb(t,"SPRINT",5),Sb(5)]);e&&a(e),l(n.words||{}),u(n.phrases||{}),h(r),p(s),g(i),v(o),console.log("\ud83c\udfae Game data loaded:",{bestRecords:r,typingHistoryCount:s.length,sprintHistoryCount:i.length,globalRankingCount:o.length,globalRanking:o})}catch(e){console.error("Failed to load user stats:",e)}finally{x(!1)}},[t]);if((0,e.useEffect)(()=>{t?w():n("/login")},[t,n,w]),!t)return null;if(b)return(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,lt.jsx)("div",{className:"text-xl text-gray-600",children:"Loading your learning progress..."})});return(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 ",children:(0,lt.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-8 w-full max-w-full",children:[(0,lt.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,lt.jsx)(rb,{title:"My page",className:"mb-3 sm:mb-4"}),(0,lt.jsx)("div",{className:"flex justify-center overflow-x-auto",children:(0,lt.jsxs)("div",{className:"inline-flex rounded-lg border border-blue-600 overflow-hidden min-w-0",children:[(0,lt.jsx)("button",{onClick:()=>s("learning"),className:"px-3 sm:px-6 py-2 sm:py-3 text-sm sm:text-lg font-light transition-colors whitespace-nowrap "+("learning"===r?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-blue-50"),children:"Learning Stage"}),(0,lt.jsx)("button",{onClick:()=>s("game"),className:"px-3 sm:px-6 py-2 sm:py-3 text-sm sm:text-lg font-light transition-colors border-l border-blue-600 whitespace-nowrap "+("game"===r?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-blue-50"),children:"Game History"}),(0,lt.jsx)("button",{onClick:()=>s("badges"),className:"px-3 sm:px-6 py-2 sm:py-3 text-sm sm:text-lg font-light transition-colors border-l border-blue-600 whitespace-nowrap "+("badges"===r?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-blue-50"),children:"Badges & Achievements"})]})})]}),(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto w-full ",children:["learning"===r&&(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lt.jsx)("h3",{className:"text-2xl font-light text-gray-800",children:"Letters"}),(0,lt.jsxs)("span",{className:"text-2xl font-light text-gray-800",children:[(null===i||void 0===i?void 0:i.letters.completed)||0,"/",(null===i||void 0===i?void 0:i.letters.total)||26]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lt.jsx)("h3",{className:"text-2xl font-light text-gray-800",children:"Numbers"}),(0,lt.jsxs)("span",{className:"text-2xl font-light text-gray-800",children:[(null===i||void 0===i?void 0:i.numbers.completed)||0,"/",(null===i||void 0===i?void 0:i.numbers.total)||10]})]})})]}),(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-4",children:(0,lt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lt.jsx)("h3",{className:"text-2xl font-light text-gray-800",children:"Words"}),(0,lt.jsxs)("span",{className:"text-2xl font-light text-gray-800",children:[(null===i||void 0===i?void 0:i.words.completed)||0,"/",(null===i||void 0===i?void 0:i.words.total)||200]})]})}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:Object.entries(o).map(e=>{let[t,n]=e;const r=Object.values(n).filter(e=>1===e).length,s=Object.keys(n).length;return(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-4",children:[(0,lt.jsx)("h4",{className:"text-sm font-light text-gray-800 text-center mb-2 leading-tight",children:t}),(0,lt.jsxs)("p",{className:"text-sm font-light text-gray-800 text-center",children:[r,"/",s]})]},t)})})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-4",children:(0,lt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lt.jsx)("h3",{className:"text-2xl font-light text-gray-800",children:"Phrases"}),(0,lt.jsxs)("span",{className:"text-2xl font-light text-gray-800",children:[(null===i||void 0===i?void 0:i.phrases.completed)||0,"/",(null===i||void 0===i?void 0:i.phrases.total)||50]})]})}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:Object.entries(c).map(e=>{let[t,n]=e;const r=Object.values(n).filter(e=>1===e).length,s=Object.keys(n).length;return(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-4",children:[(0,lt.jsx)("h4",{className:"text-sm font-light text-gray-800 text-center mb-2 leading-tight",children:t}),(0,lt.jsxs)("p",{className:"text-sm font-light text-gray-800 text-center",children:[r,"/",s]})]},t)})})]})]}),"game"===r&&(()=>{let e=y.map((e,t)=>({rank:t+1,name:e.name||e.username.split("@")[0],birth:e.birth||"2024",score:e.score,cpm:e.cpm,accuracy:Math.round(e.accuracy)}));if(d&&d.highestScore>0){if(!e.find(e=>{var n;return e.name===((null===t||void 0===t||null===(n=t.email)||void 0===n?void 0:n.split("@")[0])||"You")})){var n;const r={rank:"Me",name:(null===t||void 0===t||null===(n=t.email)||void 0===n?void 0:n.split("@")[0])||"You",birth:"2024",score:d.highestScore,cpm:d.highestCPM,accuracy:Math.round(d.bestAccuracy)},s=[...e,r];s.sort((e,t)=>t.score-e.score);const i=s.findIndex(e=>e.name===r.name);r.rank=i+1,i>=5&&(r.rank="Me",e.push(r))}}const r=e.slice(0,5).map((e,t)=>({name:["Challenger","Master","Gold","Silver","Bronze"][t]||"Bronze",image:["/images/figma/my/rank/challenger.png","/images/figma/my/rank/master.png","/images/figma/my/rank/gold.png","/images/figma/my/rank/silver.png","/images/figma/my/rank/bronze.png"][t]||"/images/figma/my/rank/bronze.png",user:`${t+1} ${e.name}`}));return(0,lt.jsxs)("div",{className:"w-full max-w-full ",children:[(0,lt.jsx)("div",{className:"flex justify-center mb-8",children:(0,lt.jsx)("div",{className:"relative",children:(0,lt.jsx)("img",{src:"/images/figma/my/rank/ranking.png",alt:"Profile",className:"w-48 sm:w-64 md:w-80 h-auto object-contain rounded-lg"})})}),(0,lt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 sm:gap-6 mb-8",id:"rank-cards",children:r.map((e,t)=>(0,lt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-4 text-center hover:shadow-xl transition-shadow",children:[(0,lt.jsx)("div",{className:"flex justify-center mb-4",children:(0,lt.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-contain"})}),(0,lt.jsx)("h4",{className:"text-sm sm:text-base font-bold text-blue-600 mb-2",children:e.name}),(0,lt.jsx)("p",{className:"text-xs sm:text-sm font-bold text-gray-800",children:e.user})]},t))}),(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",id:"rank-list",children:(0,lt.jsx)("div",{className:"overflow-x-auto",children:(0,lt.jsxs)("table",{className:"w-full min-w-full",children:[(0,lt.jsx)("thead",{className:"bg-gray-50",children:(0,lt.jsxs)("tr",{children:[(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Rank"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Name"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Birth"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Score"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"CPM"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Accuracy"})]})}),(0,lt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e,t)=>(0,lt.jsxs)("tr",{className:`\n                      ${t%2===0?"bg-white":"bg-gray-50"}\n                      ${"Me"===e.rank?"bg-blue-50 border-l-4 border-blue-500":""}\n                      hover:bg-gray-100 transition-colors\n                    `,children:[(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm "+("Me"===e.rank?"font-bold text-blue-600":"text-gray-800"),children:e.rank}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm "+("Me"===e.rank?"font-bold text-blue-600":"text-gray-800"),children:e.name}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm "+("Me"===e.rank?"font-bold text-blue-600":"text-gray-800"),children:e.birth}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm "+("Me"===e.rank?"font-bold text-blue-600":"text-gray-800"),children:e.score.toLocaleString()}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm "+("Me"===e.rank?"font-bold text-blue-600":"text-gray-800"),children:e.cpm}),(0,lt.jsxs)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm "+("Me"===e.rank?"font-bold text-blue-600":"text-gray-800"),children:[e.accuracy,"%"]})]},t))})]})})}),(0,lt.jsxs)("div",{className:"my-20",children:[(0,lt.jsx)(rb,{title:"View scores",className:"mb-8"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto mt-20 mb-40",children:[(0,lt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Highest CPM"}),(0,lt.jsx)("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:(null===d||void 0===d?void 0:d.highestCPM)||0}),(0,lt.jsx)("div",{className:"text-sm text-gray-600",children:"CPM"}),(0,lt.jsxs)("div",{className:"mt-3 text-sm text-gray-500",children:["Accuracy ",(0,lt.jsxs)("span",{className:"font-medium text-gray-700",children:[null!==d&&void 0!==d&&d.bestAccuracy?Math.round(d.bestAccuracy):0,"%"]})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Max Combo"}),(0,lt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,lt.jsx)("div",{className:"text-4xl font-bold text-orange-500",children:(null===d||void 0===d?void 0:d.highestCombo)||0}),(0,lt.jsx)("span",{className:"text-orange-500 text-xl",children:"\ud83d\udd25"})]}),(0,lt.jsx)("div",{className:"text-sm text-gray-600",children:"Combo"})]})})]})]}),(0,lt.jsxs)("div",{className:"my-20",children:[(0,lt.jsx)(rb,{title:"Past Play",className:"mb-10"}),(0,lt.jsx)("p",{className:"text-gray-700 text-2xl text-center my-20",children:"Typing Game"}),(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,lt.jsx)("div",{className:"overflow-x-auto",children:(0,lt.jsxs)("table",{className:"w-full min-w-full",children:[(0,lt.jsx)("thead",{className:"bg-gray-50",children:(0,lt.jsxs)("tr",{children:[(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"No"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Score"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"CPM"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Combo"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Accuracy"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Date"})]})}),(0,lt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.length>0?m.map((e,t)=>{var n,r,s;return(0,lt.jsxs)("tr",{className:(t%2===0?"bg-white":"bg-gray-50")+" hover:bg-gray-100 transition-colors",children:[(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:t+1}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.score.toLocaleString()}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.cpm}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.combo}),(0,lt.jsxs)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:[Math.round(e.accuracy),"%"]}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.createdAt instanceof Date?e.createdAt.toLocaleString():(null===(n=e.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r||null===(s=r.call(n))||void 0===s?void 0:s.toLocaleString())||new Date(e.createdAt).toLocaleString()})]},e.id)}):(0,lt.jsx)("tr",{children:(0,lt.jsx)("td",{colSpan:6,className:"px-3 py-8 text-center text-gray-500",children:"No Typing Game records yet."})})})]})})}),(0,lt.jsx)("p",{className:"text-gray-700 text-2xl text-center my-20",children:"Typing Sprint"}),(0,lt.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,lt.jsx)("div",{className:"overflow-x-auto",children:(0,lt.jsxs)("table",{className:"w-full min-w-full",children:[(0,lt.jsx)("thead",{className:"bg-gray-50",children:(0,lt.jsxs)("tr",{children:[(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"No"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Score"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"CPM"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Combo"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Accuracy"}),(0,lt.jsx)("th",{className:"px-3 py-3 text-left text-xs sm:text-sm font-bold text-gray-800 uppercase tracking-wider",children:"Date"})]})}),(0,lt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length>0?f.map((e,t)=>{var n,r,s;return(0,lt.jsxs)("tr",{className:(t%2===0?"bg-white":"bg-gray-50")+" hover:bg-gray-100 transition-colors",children:[(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:t+1}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.score.toLocaleString()}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.cpm}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.combo}),(0,lt.jsxs)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:[Math.round(e.accuracy),"%"]}),(0,lt.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-800",children:e.createdAt instanceof Date?e.createdAt.toLocaleString():(null===(n=e.createdAt)||void 0===n||null===(r=n.toDate)||void 0===r||null===(s=r.call(n))||void 0===s?void 0:s.toLocaleString())||new Date(e.createdAt).toLocaleString()})]},e.id)}):(0,lt.jsx)("tr",{children:(0,lt.jsx)("td",{colSpan:6,className:"px-3 py-8 text-center text-gray-500",children:"No Sprint game history found"})})})]})})})]})]})})(),"badges"===r&&(()=>{const e=[{title:"Start",badges:[{id:"s1",name:"Learn Start",active:!0,description:"Complete your first learning session"},{id:"s2",name:"All Master Badge",active:!1,description:"Master all learning categories"},{id:"s3",name:"All Legend Badge",active:!1,description:"Become a legend in all areas"}]},{title:"Combo Master",badges:[{id:"combo1",name:"Achieve 2 combos",active:!0,description:"Get 2 consecutive correct answers"},{id:"combo2",name:"Achieve 5 combos",active:!0,description:"Get 5 consecutive correct answers"},{id:"combo3",name:"Achieve 10 combos",active:!1,description:"Get 10 consecutive correct answers"}]},{title:"Pro Gamer",badges:[{id:"game1",name:"Play 1 game",active:!0,description:"Complete your first game"},{id:"game2",name:"Play 10 games",active:!1,description:"Complete 10 games"},{id:"game3",name:"Play 50 games",active:!1,description:"Complete 50 games"}]},{title:"Honor Student",badges:[{id:"learn1",name:"Reach 30% learning progress",active:!0,description:"Complete 30% of all learning content"},{id:"learn2",name:"Reach 60% learning progress",active:!1,description:"Complete 60% of all learning content"},{id:"learn3",name:"Reach 100% learning progress",active:!1,description:"Complete all learning content"}]},{title:"Fast Typist",badges:[{id:"fast1",name:"Reach 20 CPM",active:!0,description:"Achieve 20 characters per minute"},{id:"fast2",name:"Reach 40 CPM",active:!1,description:"Achieve 40 characters per minute"},{id:"fast3",name:"Reach 100 CPM",active:!1,description:"Achieve 100 characters per minute"}]}];return(0,lt.jsx)("div",{className:"w-full max-w-full ",children:(0,lt.jsxs)("div",{className:"bg-[#05071c] rounded-xl shadow-lg border border-gray-800 p-6 sm:p-8",children:[(0,lt.jsx)("div",{className:"my-8 pb-6",children:(0,lt.jsxs)("div",{className:"text-center space-y-2",children:[(0,lt.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Achievement Progress"}),(0,lt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.reduce((e,t)=>e+t.badges.filter(e=>e.active).length,0)}),(0,lt.jsx)("div",{className:"text-sm text-gray-300",children:"Earned"})]}),(0,lt.jsx)("div",{className:"text-gray-500",children:"/"}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-gray-500",children:e.reduce((e,t)=>e+t.badges.length,0)}),(0,lt.jsx)("div",{className:"text-sm text-gray-300",children:"Total"})]})]}),(0,lt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-4",children:(0,lt.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:e.reduce((e,t)=>e+t.badges.filter(e=>e.active).length,0)/e.reduce((e,t)=>e+t.badges.length,0)*100+"%"}})})]})}),(0,lt.jsx)("div",{className:"",children:e.map((e,t)=>(0,lt.jsxs)("div",{className:"space-y-4 my-20",children:[(0,lt.jsx)("div",{className:"text-center mb-6",children:(0,lt.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:e.title})}),(0,lt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:e.badges.map((e,t)=>(0,lt.jsxs)("div",{className:`\n            relative bg-[#05071c] rounded-xl shadow-md border border-gray-700 p-4 sm:p-6 text-center\n            transition-transform hover:scale-105 hover:shadow-lg\n            ${e.active?"ring-2 ring-blue-500 ring-opacity-50":""}\n                `,children:[(0,lt.jsx)("div",{className:"flex justify-center mb-4",children:(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("img",{src:`/images/figma/my/badge/${e.id}${e.active?"":"_g"}.png`,alt:e.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-contain"}),e.active&&(0,lt.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,lt.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lt.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),!e.active&&(0,lt.jsx)("div",{className:"absolute inset-0 bg-gray-800 bg-opacity-50 rounded-lg"})]})}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("h4",{className:"text-base sm:text-lg font-bold "+(e.active?"text-white":"text-gray-500"),children:e.name}),(0,lt.jsx)("p",{className:"text-xs sm:text-sm "+(e.active?"text-gray-300":"text-gray-500"),children:e.description})]}),(0,lt.jsx)("div",{className:"mt-4",children:(0,lt.jsx)("span",{className:`\n              inline-flex items-center px-2 py-1 rounded-full text-xs font-medium\n              ${e.active?"bg-green-900 text-green-300":"bg-gray-800 text-gray-400"}\n            `,children:e.active?"\u2713 Earned":"Locked"})})]},t))})]},t))})]})})})()]})]})})},Cb=()=>{const[t,n]=(0,e.useState)({name:"",email:"",subject:"",message:"",type:"general"}),[r,s]=(0,e.useState)(!1),[i,a]=(0,e.useState)(!1),o=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsx)("h1",{className:"text-4xl font-light text-gray-600 mb-4",children:"Contact Us"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"We'd love to hear from you"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Send us a Message"}),i?(0,lt.jsxs)("div",{className:"text-center py-12",children:[(0,lt.jsx)("div",{className:"text-6xl mb-4",children:"\u2705"}),(0,lt.jsx)("h3",{className:"text-2xl font-bold text-green-600 mb-4",children:"Message Sent!"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your message. We'll get back to you within 24 hours."}),(0,lt.jsx)("button",{onClick:()=>a(!1),className:"bg-primary-500 text-white px-6 py-3 rounded-lg hover:bg-primary-600 transition-colors",children:"Send Another Message"})]}):(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0),await new Promise(e=>setTimeout(e,1e3)),a(!0),s(!1),n({name:"",email:"",subject:"",message:"",type:"general"})},className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name *"}),(0,lt.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:o,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your full name"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),(0,lt.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:o,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"your.email@example.com"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"type",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message Type"}),(0,lt.jsxs)("select",{id:"type",name:"type",value:t.type,onChange:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,lt.jsx)("option",{value:"general",children:"General Inquiry"}),(0,lt.jsx)("option",{value:"support",children:"Technical Support"}),(0,lt.jsx)("option",{value:"feedback",children:"Feedback"}),(0,lt.jsx)("option",{value:"partnership",children:"Partnership"}),(0,lt.jsx)("option",{value:"accessibility",children:"Accessibility Issue"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),(0,lt.jsx)("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:o,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Brief description of your message"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),(0,lt.jsx)("textarea",{id:"message",name:"message",value:t.message,onChange:o,required:!0,rows:6,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-vertical",placeholder:"Please provide details about your inquiry..."})]}),(0,lt.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-primary-500 text-white py-3 rounded-lg font-semibold hover:bg-primary-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:r?"Sending...":"Send Message"})]})]}),(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Get in Touch"}),(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,lt.jsx)("div",{className:"bg-primary-100 p-3 rounded-lg",children:(0,lt.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Email"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"support@braillelearning.com"}),(0,lt.jsx)("p",{className:"text-sm text-gray-500",children:"We respond within 24 hours"})]})]}),(0,lt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,lt.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,lt.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Phone"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),(0,lt.jsx)("p",{className:"text-sm text-gray-500",children:"Mon-Fri, 9am-5pm EST"})]})]}),(0,lt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,lt.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,lt.jsxs)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Address"}),(0,lt.jsxs)("p",{className:"text-gray-600",children:["123 Education Street",(0,lt.jsx)("br",{}),"Learning City, LC 12345",(0,lt.jsx)("br",{}),"United States"]})]})]})]})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Support Resources"}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsx)("a",{href:"/help",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("span",{className:"text-2xl",children:"\ud83d\udcda"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Help Center"}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Find answers to common questions"})]})]})}),(0,lt.jsx)("a",{href:"/tutorials",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("span",{className:"text-2xl",children:"\ud83c\udfa5"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Video Tutorials"}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Step-by-step learning guides"})]})]})}),(0,lt.jsx)("a",{href:"/community",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("span",{className:"text-2xl",children:"\ud83d\udc65"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Community Forum"}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Connect with other learners"})]})]})}),(0,lt.jsx)("a",{href:"/hardware-guide",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("span",{className:"text-2xl",children:"\ud83d\udd27"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-800",children:"Hardware Setup"}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Arduino device configuration"})]})]})})]})]}),(0,lt.jsxs)("div",{className:"bg-primary-50 rounded-lg p-8 border border-primary-200",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-primary-800 mb-6",children:"Frequently Asked Questions"}),(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsxs)("details",{className:"group",children:[(0,lt.jsx)("summary",{className:"font-semibold text-primary-700 cursor-pointer hover:text-primary-800",children:"How do I connect my Arduino device?"}),(0,lt.jsx)("p",{className:"mt-2 text-primary-600 pl-4",children:"Follow our hardware setup guide to connect your Arduino-based Braille input device via USB and configure the Web Serial API connection."})]}),(0,lt.jsxs)("details",{className:"group",children:[(0,lt.jsx)("summary",{className:"font-semibold text-primary-700 cursor-pointer hover:text-primary-800",children:"Is the platform free to use?"}),(0,lt.jsx)("p",{className:"mt-2 text-primary-600 pl-4",children:"Yes! Our basic learning features are completely free. Premium features with advanced tracking and personalized learning paths are available with a subscription."})]}),(0,lt.jsxs)("details",{className:"group",children:[(0,lt.jsx)("summary",{className:"font-semibold text-primary-700 cursor-pointer hover:text-primary-800",children:"What browsers support the Web Serial API?"}),(0,lt.jsx)("p",{className:"mt-2 text-primary-600 pl-4",children:"Chrome 89+, Edge 89+, and Opera 75+ support the Web Serial API. Firefox support is experimental and may require enabling flags."})]})]})]})]})]})]})})},Eb=()=>{const e=ee();return(0,lt.jsx)("div",{className:"min-h-screen bg-white flex flex-col",children:(0,lt.jsx)("main",{className:"flex-1 flex flex-col items-center py-24",children:(0,lt.jsxs)("div",{className:"w-full max-w-6xl px-4",children:[(0,lt.jsxs)("div",{className:"text-center mb-16",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mr-8",children:[(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"}),(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"})]}),(0,lt.jsx)("h1",{className:"text-5xl font-light text-gray-600 mx-6",children:"Game"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-8",children:[(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"}),(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"})]})]}),(0,lt.jsx)("p",{className:"text-lg text-black font-light max-w-3xl mx-auto",children:'Different languages around the world have their own mappings for the alphabet to braille dots. Here are the "dot combinations" for English Braille.'})]}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-8",children:[(0,lt.jsx)("div",{onClick:()=>{e("/games/typing-game")},className:"bg-white border border-gray-300 rounded-lg p-8 w-96 h-24 flex items-center justify-center cursor-pointer hover:shadow-lg transition-shadow duration-300 group",style:{boxShadow:"5px 5px 5px rgba(0, 0, 0, 0.25)"},children:(0,lt.jsx)("h2",{className:"text-3xl font-light text-gray-600 group-hover:text-blue-600 transition-colors duration-300",children:"Typing Game"})}),(0,lt.jsx)("div",{onClick:()=>{e("/games/typing-sprint")},className:"bg-white border border-gray-300 rounded-lg p-8 w-96 h-24 flex items-center justify-center cursor-pointer hover:shadow-lg transition-shadow duration-300 group",style:{boxShadow:"5px 5px 5px rgba(0, 0, 0, 0.25)"},children:(0,lt.jsx)("h2",{className:"text-3xl font-light text-gray-600 group-hover:text-blue-600 transition-colors duration-300",children:"Typing Sprint"})})]})]})})})};function Tb(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function jb(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function _b(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Ab(e,t,n,r){if("function"===typeof t){const[s,i]=_b(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=_b(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function Ib(e,t,n){const r=e.getProps();return Ab(r,t,void 0!==n?n:r.custom,e)}function Pb(e,t){return e?.[t]??e?.default??e}const Rb=e=>e,Db={},Lb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ob={value:null,addProjectionMetrics:null};function Mb(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Lb.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(c),t&&Ob.value&&Ob.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:m,postRender:p}=a,f=()=>{const i=Db.useManualTiming?s.timestamp:performance.now();n=!1,Db.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),m.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(f))},g=Lb.reduce((t,i)=>{const o=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(f)),o.schedule(t,i,a)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<Lb.length;t++)a[Lb[t]].cancel(e)},state:s,steps:a}}const{schedule:Fb,cancel:Vb,state:Bb,steps:Ub}=Mb("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Rb,!0),$b=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zb=(()=>new Set($b))(),qb=new Set(["width","height","top","left","right","bottom",...$b]);function Hb(e,t){-1===e.indexOf(t)&&e.push(t)}function Wb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Gb{constructor(){this.subscriptions=[]}add(e){return Hb(this.subscriptions,e),()=>Wb(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Kb(e,t){return t?e*(1e3/t):0}let Qb;function Yb(){Qb=void 0}const Xb={now:()=>(void 0===Qb&&Xb.set(Bb.isProcessing||Db.useManualTiming?Bb.timestamp:performance.now()),Qb),set:e=>{Qb=e,queueMicrotask(Yb)}},Jb={current:void 0};class Zb{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Xb.now();if(t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&(t.events.change?.notify(t.current),t.dependents))for(const s of t.dependents)s.dirty();n&&t.events.renderRequest?.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Xb.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Gb);const n=this.events[e].add(t);return"change"===e?()=>{n(),Fb.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Jb.current&&Jb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xb.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Kb(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ex(e,t){return new Zb(e,t)}const tx=e=>Array.isArray(e);function nx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ex(n))}function rx(e){return tx(e)?e[e.length-1]||0:e}const sx=e=>Boolean(e&&e.getVelocity);function ix(e,t){const n=e.getValue("willChange");if(r=n,Boolean(sx(r)&&r.add))return n.add(t);if(!n&&Db.WillChange){const n=new Db.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const ax=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ox="data-"+ax("framerAppearId");function lx(e){return e.props[ox]}const cx=(e,t)=>n=>t(e(n)),ux=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(cx)},dx=(e,t,n)=>n>t?t:n<e?e:n,hx=e=>1e3*e,mx=e=>e/1e3,px={layout:0,mainThread:0,waapi:0};const fx=e=>t=>"string"===typeof t&&t.startsWith(e),gx=fx("--"),yx=fx("var(--"),vx=e=>!!yx(e)&&bx.test(e.split("/*")[0].trim()),bx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xx={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},wx={...xx,transform:e=>dx(0,1,e)},kx={...xx,default:1},Sx=e=>Math.round(1e5*e)/1e5,Nx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Cx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ex=(e,t)=>n=>Boolean("string"===typeof n&&Cx.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Tx=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,a,o]=r.match(Nx);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},jx={...xx,transform:e=>Math.round((e=>dx(0,255,e))(e))},_x={test:Ex("rgb","red"),parse:Tx("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+jx.transform(t)+", "+jx.transform(n)+", "+jx.transform(r)+", "+Sx(wx.transform(s))+")"}};const Ax={test:Ex("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:_x.transform},Ix=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Px=Ix("deg"),Rx=Ix("%"),Dx=Ix("px"),Lx=Ix("vh"),Ox=Ix("vw"),Mx=(()=>({...Rx,parse:e=>Rx.parse(e)/100,transform:e=>Rx.transform(100*e)}))(),Fx={test:Ex("hsl","hue"),parse:Tx("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+Rx.transform(Sx(n))+", "+Rx.transform(Sx(r))+", "+Sx(wx.transform(s))+")"}},Vx={test:e=>_x.test(e)||Ax.test(e)||Fx.test(e),parse:e=>_x.test(e)?_x.parse(e):Fx.test(e)?Fx.parse(e):Ax.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?_x.transform(e):Fx.transform(e),getAnimatableNone:e=>{const t=Vx.parse(e);return t.alpha=0,Vx.transform(t)}},Bx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ux="number",$x="color",zx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qx(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(zx,e=>(Vx.test(e)?(r.color.push(i),s.push($x),n.push(Vx.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Ux),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:a,indexes:r,types:s}}function Hx(e){return qx(e).values}function Wx(e){const{split:t,types:n}=qx(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Ux?Sx(e[i]):t===$x?Vx.transform(e[i]):e[i]}return s}}const Gx=e=>"number"===typeof e?0:Vx.test(e)?Vx.getAnimatableNone(e):e;const Kx={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(Nx)?.length||0)+(e.match(Bx)?.length||0)>0},parse:Hx,createTransformer:Wx,getAnimatableNone:function(e){const t=Hx(e);return Wx(e)(t.map(Gx))}};function Qx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Yx(e,t){return n=>n>0?t:e}const Xx=(e,t,n)=>e+(t-e)*n,Jx=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Zx=[Ax,_x,Fx];function ew(e){const t=(n=e,Zx.find(e=>e.test(n)));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===Fx&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=Qx(s,e,t+1/3),a=Qx(s,e,t),o=Qx(s,e,t-1/3)}else i=a=o=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(r)),r}const tw=(e,t)=>{const n=ew(e),r=ew(t);if(!n||!r)return Yx(e,t);const s={...n};return e=>(s.red=Jx(n.red,r.red,e),s.green=Jx(n.green,r.green,e),s.blue=Jx(n.blue,r.blue,e),s.alpha=Xx(n.alpha,r.alpha,e),_x.transform(s))},nw=new Set(["none","hidden"]);function rw(e,t){return n=>Xx(e,t,n)}function sw(e){return"number"===typeof e?rw:"string"===typeof e?vx(e)?Yx:Vx.test(e)?tw:ow:Array.isArray(e)?iw:"object"===typeof e?Vx.test(e)?tw:aw:Yx}function iw(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>sw(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function aw(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=sw(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const ow=(e,t)=>{const n=Kx.createTransformer(t),r=qx(e),s=qx(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?nw.has(e)&&!s.values.length||nw.has(t)&&!r.values.length?function(e,t){return nw.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):ux(iw(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],o=e.values[a]??0;n[s]=o,r[i]++}return n}(r,s),s.values),n):Yx(e,t)};function lw(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Xx(e,t,n);return sw(e)(e,t)}const cw=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Fb.update(t,e)},stop:()=>Vb(t),now:()=>Bb.isProcessing?Bb.timestamp:Xb.now()}},uw=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(1e4*e(i/(s-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},dw=2e4;function hw(e){let t=0;let n=e.next(t);for(;!n.done&&t<dw;)t+=50,n=e.next(t);return t>=dw?1/0:t}function mw(e,t,n){const r=Math.max(t-5,0);return Kb(n-e(r),t-r)}const pw={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fw=.001;function gw(e){let t,n,{duration:r=pw.duration,bounce:s=pw.bounce,velocity:i=pw.velocity,mass:a=pw.mass}=e;hx(pw.maxDuration);let o=1-s;o=dx(pw.minDamping,pw.maxDamping,o),r=dx(pw.minDuration,pw.maxDuration,mx(r)),o<1?(t=e=>{const t=e*o,n=t*r,s=t-i,a=vw(e,o),l=Math.exp(-n);return fw-s/a*l},n=e=>{const n=e*o*r,s=n*i+i,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=vw(Math.pow(e,2),o);return(-t(e)+fw>0?-1:1)*((s-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<yw;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=hx(r),isNaN(l))return{stiffness:pw.stiffness,damping:pw.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const yw=12;function vw(e,t){return e*Math.sqrt(1-t*t)}const bw=["duration","bounce"],xw=["stiffness","damping","mass"];function ww(e,t){return t.some(t=>void 0!==e[t])}function kw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pw.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pw.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:pw.velocity,stiffness:pw.stiffness,damping:pw.damping,mass:pw.mass,isResolvedFromDuration:!1,...e};if(!ww(e,xw)&&ww(e,bw))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*dx(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pw.mass,stiffness:s,damping:i}}else{const n=gw(e);t={...t,...n,mass:pw.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-mx(n.velocity||0)}),p=h||0,f=c/(2*Math.sqrt(l*u)),g=a-i,y=mx(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?pw.restSpeed.granular:pw.restSpeed.default),s||(s=v?pw.restDelta.granular:pw.restDelta.default),f<1){const e=vw(y,f);b=t=>{const n=Math.exp(-f*y*t);return a-n*((p+f*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(f*f-1);b=t=>{const n=Math.exp(-f*y*t),r=Math.min(e*t,300);return a-n*((p+f*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:m&&d||null,next:e=>{const t=b(e);if(m)o.done=e>=d;else{let n=0===e?p:0;f<1&&(n=0===e?hx(p):mw(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=s;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(hw(x),dw),t=uw(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function Sw(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],m={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const g=h+f,y=void 0===o?g:o(g);y!==g&&(f=y-h);const v=e=>-f*Math.exp(-e/s),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);m.done=Math.abs(t)<=u,m.value=m.done?y:n};let w,k;const S=e=>{var t;(t=m.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=kw({keyframes:[m.value,p(m.value)],velocity:mw(b,e,m.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&x(e),m)}}}kw.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),r=Math.min(hw(n),dw);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:mx(r)}}(e,100,kw);return e.ease=t.ease,e.duration=hx(t.duration),e.type="keyframes",e};const Nw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Cw(e,t,n,r){if(e===t&&n===r)return Rb;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=Nw(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Nw(s(e),t,r)}const Ew=Cw(.42,0,1,1),Tw=Cw(0,0,.58,1),jw=Cw(.42,0,.58,1),_w=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Aw=e=>t=>1-e(1-t),Iw=Cw(.33,1.53,.69,.99),Pw=Aw(Iw),Rw=_w(Pw),Dw=e=>(e*=2)<1?.5*Pw(e):.5*(2-Math.pow(2,-10*(e-1))),Lw=e=>1-Math.sin(Math.acos(e)),Ow=Aw(Lw),Mw=_w(Lw),Fw=e=>Array.isArray(e)&&"number"===typeof e[0],Vw={linear:Rb,easeIn:Ew,easeInOut:jw,easeOut:Tw,circIn:Lw,circInOut:Mw,circOut:Ow,backIn:Pw,backInOut:Rw,backOut:Iw,anticipate:Dw},Bw=e=>{if(Fw(e)){e.length;const[t,n,r,s]=e;return Cw(t,n,r,s)}return"string"===typeof e?Vw[e]:e},Uw=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function $w(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||Db.mix||lw,i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Rb:t;n=ux(e,n)}r.push(n)}return r}(t,r,s),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=Uw(e[r],e[r+1],n);return o[r](s)};return n?t=>c(dx(e[0],e[i-1],t)):c}function zw(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Uw(0,t,r);e.push(Xx(n,1,s))}}(t,e.length-1),t}function qw(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Bw):Bw(s),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:zw(n),t),l=$w(o,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||jw).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const Hw=e=>null!==e;function Ww(e,t,n){let{repeat:r,repeatType:s="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(Hw),o=i<0||r&&"loop"!==s&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}const Gw={decay:Sw,inertia:Sw,tween:qw,keyframes:qw,spring:kw};function Kw(e){"string"===typeof e.type&&(e.type=Gw[e.type])}class Qw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Yw=e=>e/100;class Xw extends Qw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Xb.now()&&this.tick(Xb.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},px.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Kw(e);const{type:t=qw,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:a}=e;const o=t||qw;o!==qw&&"number"!==typeof a[0]&&(this.mixKeyframes=ux(Yw,lw(a[0],a[1])),a=[0,100]);const l=o({...e,keyframes:a});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=hw(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/a)):"mirror"===d&&(b=i)),v=dx(0,1,n)*a}const x=y?{done:!1,value:c[0]}:b.next(v);s&&(x.value=s(x.value));let{done:w}=x;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&m!==Sw&&(x.value=Ww(c,this.options,f,this.speed)),p&&p(x.value),k&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return mx(this.calculatedDuration)}get time(){return mx(this.currentTime)}set time(e){e=hx(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xb.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=mx(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=cw,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xb.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,px.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const Jw=e=>180*e/Math.PI,Zw=e=>{const t=Jw(Math.atan2(e[1],e[0]));return tk(t)},ek={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Zw,rotateZ:Zw,skewX:e=>Jw(Math.atan(e[1])),skewY:e=>Jw(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tk=e=>((e%=360)<0&&(e+=360),e),nk=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rk=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nk,scaleY:rk,scale:e=>(nk(e)+rk(e))/2,rotateX:e=>tk(Jw(Math.atan2(e[6],e[5]))),rotateY:e=>tk(Jw(Math.atan2(-e[2],e[0]))),rotateZ:Zw,rotate:Zw,skewX:e=>Jw(Math.atan(e[4])),skewY:e=>Jw(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ik(e){return e.includes("scale")?1:0}function ak(e,t){if(!e||"none"===e)return ik(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=sk,s=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ek,s=t}if(!s)return ik(t);const i=r[t],a=s[1].split(",").map(ok);return"function"===typeof i?i(a):a[i]}function ok(e){return parseFloat(e.trim())}const lk=e=>e===xx||e===Dx,ck=new Set(["x","y","z"]),uk=$b.filter(e=>!ck.has(e));const dk={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return ak(n,"x")},y:(e,t)=>{let{transform:n}=t;return ak(n,"y")}};dk.translateX=dk.x,dk.translateY=dk.y;const hk=new Set;let mk=!1,pk=!1,fk=!1;function gk(){if(pk){const e=Array.from(hk).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return uk.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{let[n,r]=t;e.getValue(n)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}pk=!1,mk=!1,hk.forEach(e=>e.complete(fk)),hk.clear()}function yk(){hk.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pk=!0)})}class vk{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(hk.add(this),mk||(mk=!0,Fb.read(yk),Fb.resolveKeyframes(gk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=r?.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hk.delete(this)}cancel(){"scheduled"===this.state&&(hk.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function bk(e){let t;return()=>(void 0===t&&(t=e()),t)}const xk=bk(()=>void 0!==window.ScrollTimeline),wk={};function kk(e,t){const n=bk(e);return()=>wk[t]??n()}const Sk=kk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(sj){return!1}return!0},"linearEasing"),Nk=e=>{let[t,n,r,s]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${s})`},Ck={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nk([0,.65,.55,1]),circOut:Nk([.55,0,1,.45]),backIn:Nk([.31,.01,.66,-.59]),backOut:Nk([.33,1.53,.69,.99])};function Ek(e,t){return e?"function"===typeof e?Sk()?uw(e,t):"ease-out":Fw(e)?Nk(e):Array.isArray(e)?e.map(e=>Ek(e,t)||Ck.easeOut):Ck[e]:void 0}function Tk(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=Ek(o,s);Array.isArray(d)&&(u.easing=d),Ob.value&&px.waapi++;const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);const m=e.animate(u,h);return Ob.value&&m.finished.finally(()=>{px.waapi--}),m}function jk(e){return"function"===typeof e&&"applyToOptions"in e}class _k extends Qw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t,...n}=e;return jk(t)&&Sk()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}(e);this.animation=Tk(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Ww(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(sj){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return mx(Number(e))}get time(){return mx(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=hx(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&xk()?(this.animation.timeline=t,Rb):n(this)}}const Ak={anticipate:Dw,backInOut:Rw,circInOut:Mw};function Ik(e){"string"===typeof e.ease&&e.ease in Ak&&(e.ease=Ak[e.ease])}class Pk extends _k{constructor(e){Ik(e),Kw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new Xw({...i,autoplay:!1}),o=hx(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const Rk=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Kx.test(e)&&"0"!==e||e.startsWith("url(")));function Dk(e){return"object"===typeof e&&null!==e}function Lk(e){return Dk(e)&&"offsetHeight"in e}const Ok=new Set(["opacity","clipPath","filter","transform"]),Mk=bk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Fk extends Qw{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...d}=e;super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xb.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:c,element:u,...d},m=u?.KeyframeResolver||vk;this.keyframeResolver=new m(o,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Xb.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=Rk(s,t),o=Rk(i,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||jk(n))&&r)}(e,s,i,a)||(!Db.instantAnimations&&o||c?.(Ww(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!Lk(t?.owner?.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Mk()&&n&&Ok.has(n)&&("transform"!==n||!l)&&!o&&!r&&"mirror"!==s&&0!==i&&"inertia"!==a}(u)?new Pk({...u,element:u.motionValue.owner.current}):new Xw(u);d.finished.then(()=>this.notifyFinished()).catch(Rb),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),fk=!0,yk(),gk(),fk=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Vk=e=>null!==e;const Bk={type:"spring",stiffness:500,damping:25,restSpeed:10},Uk={type:"keyframes",duration:.8},$k={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zk=(e,t)=>{let{keyframes:n}=t;return n.length>2?Uk:zb.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Bk:$k};const qk=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const o=Pb(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=hx(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(o)||Object.assign(u,zk(e,u)),u.duration&&(u.duration=hx(u.duration)),u.repeatDelay&&(u.repeatDelay=hx(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(Db.instantAnimations||Db.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(Vk),a=r&&"loop"!==s&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(u.keyframes,o);if(void 0!==e)return void Fb.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new Xw(u):new Fk(u)}};function Hk(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Wk(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),r=o[u];if(void 0===r||c&&Hk(c,u))continue;const s={delay:n,...Pb(i||{},u)},a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!s.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const t=lx(e);if(t){const e=window.MotionHandoffAnimation(t,u,Fb);null!==e&&(s.startTime=e,d=!0)}}ix(e,u),t.start(qk(u,t,r,e.shouldReduceMotion&&qb.has(u)?{type:!1}:s,e,d));const h=t.animation;h&&l.push(h)}return a&&Promise.all(l).then(()=>{Fb.update(()=>{a&&function(e,t){const n=Ib(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i)nx(e,a,rx(i[a]))}(e,a)})}),l}function Gk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Ib(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Wk(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const o=[],l=e.variantChildren.size,c=(l-1)*s,u="function"===typeof r,d=u?e=>r(e,l):1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s}:function(){return c-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s};return Array.from(e.variantChildren).sort(Kk).forEach((e,s)=>{e.notify("AnimationStart",t),o.push(Gk(e,t,{...a,delay:n+(u?0:r)+d(s)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,r,i,a,o,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[i,a]:[a,i];return e().then(()=>t())}return Promise.all([i(),a(n.delay)])}function Kk(e,t){return e.sortNodePosition(t)}function Qk(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Yk(e){return"string"===typeof e||Array.isArray(e)}const Xk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jk=["initial",...Xk],Zk=Jk.length;function eS(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&eS(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Zk;n++){const r=Jk[n],s=e.props[r];(Yk(s)||!1===s)&&(t[r]=s)}return t}const tS=[...Xk].reverse(),nS=Xk.length;function rS(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>Gk(e,t,r));n=Promise.all(s)}else if("string"===typeof t)n=Gk(e,t,r);else{const s="function"===typeof t?Ib(e,t,r.custom):t;n=Promise.all(Wk(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function sS(e){let t=rS(e),n=oS(),r=!0;const s=t=>(n,r)=>{const s=Ib(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function i(i){const{props:a}=e,o=eS(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<nS;t++){const h=tS[t],m=n[h],p=void 0!==a[h]?a[h]:o[h],f=Yk(p),g=h===i?m.isActive:null;!1===g&&(d=t);let y=p===o[h]&&p!==a[h]&&f;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),m.protectedKeys={...u},!m.isActive&&null===g||!p&&!m.prevProp||jb(p)||"boolean"===typeof p)continue;const v=iS(m.prevProp,p);let b=v||h===i&&m.isActive&&!y&&f||t>d&&f,x=!1;const w=Array.isArray(p)?p:[p];let k=w.reduce(s(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=m,N={...S,...k},C=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=k[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=tx(t)&&tx(n)?!Qk(t,n):t!==n,r?void 0!==t&&null!==t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=k,m.isActive&&(u={...u,...k}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=Ib(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=oS(),r=!0}}}function iS(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Qk(t,e)}function aS(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oS(){return{animate:aS(!0),whileInView:aS(),whileHover:aS(),whileTap:aS(),whileDrag:aS(),whileFocus:aS(),exit:aS()}}class lS{constructor(e){this.isMounted=!1,this.node=e}update(){}}let cS=0;const uS={animation:{Feature:class extends lS{constructor(e){super(e),e.animationState||(e.animationState=sS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends lS{constructor(){super(...arguments),this.id=cS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},dS={x:!1,y:!1};function hS(){return dS.x||dS.y}function mS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const pS=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function fS(e){return{point:{x:e.pageX,y:e.pageY}}}function gS(e,t,n,r){return mS(e,t,(e=>t=>pS(t)&&e(t,fS(t)))(n),r)}function yS(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function vS(e){return e.max-e.min}function bS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Xx(t.min,t.max,e.origin),e.scale=vS(n)/vS(t),e.translate=Xx(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function xS(e,t,n,r){bS(e.x,t.x,n.x,r?r.originX:void 0),bS(e.y,t.y,n.y,r?r.originY:void 0)}function wS(e,t,n){e.min=n.min+t.min,e.max=e.min+vS(t)}function kS(e,t,n){e.min=t.min-n.min,e.max=e.min+vS(t)}function SS(e,t,n){kS(e.x,t.x,n.x),kS(e.y,t.y,n.y)}const NS=()=>({x:{min:0,max:0},y:{min:0,max:0}});function CS(e){return[e("x"),e("y")]}function ES(e){return void 0===e||1===e}function TS(e){let{scale:t,scaleX:n,scaleY:r}=e;return!ES(t)||!ES(n)||!ES(r)}function jS(e){return TS(e)||_S(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _S(e){return AS(e.x)||AS(e.y)}function AS(e){return e&&"0%"!==e}function IS(e,t,n){return n+t*(e-n)}function PS(e,t,n,r,s){return void 0!==s&&(e=IS(e,s,r)),IS(e,n,r)+t}function RS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=PS(e.min,t,n,r,s),e.max=PS(e.max,t,n,r,s)}function DS(e,t){let{x:n,y:r}=t;RS(e.x,n.translate,n.scale,n.originPoint),RS(e.y,r.translate,r.scale,r.originPoint)}const LS=.999999999999,OS=1.0000000000001;function MS(e,t){e.min=e.min+t,e.max=e.max+t}function FS(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;RS(e,t,n,Xx(e.min,e.max,s),r)}function VS(e,t){FS(e.x,t.x,t.scaleX,t.scale,t.originX),FS(e.y,t.y,t.scaleY,t.scale,t.originY)}function BS(e,t){return yS(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const US=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function $S(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const zS=(e,t)=>Math.abs(e-t);class qS{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=GS(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=zS(e.x,t.x),r=zS(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Bb;this.history.push({...r,timestamp:s});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=HS(t,this.transformPagePoint),Fb.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=GS("pointercancel"===e.type?this.lastMoveEventInfo:HS(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!pS(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const a=HS(fS(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=Bb;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,GS(a,this.history)),this.removeListeners=ux(gS(this.contextWindow,"pointermove",this.handlePointerMove),gS(this.contextWindow,"pointerup",this.handlePointerUp),gS(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vb(this.updatePoint)}}function HS(e,t){return t?{point:t(e.point)}:e}function WS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function GS(e,t){let{point:n}=e;return{point:n,delta:WS(n,QS(t)),offset:WS(n,KS(t)),velocity:YS(t,.1)}}function KS(e){return e[0]}function QS(e){return e[e.length-1]}function YS(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=QS(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>hx(t)));)n--;if(!r)return{x:0,y:0};const i=mx(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function XS(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function JS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const ZS=.35;function eN(e,t,n){return{min:tN(e,t),max:tN(e,n)}}function tN(e,t){return"number"===typeof e?e:e[t]||0}const nN=new WeakMap;class rN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new qS(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fS(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?dS[i]?null:(dS[i]=!0,()=>{dS[i]=!1}):dS.x||dS.y?null:(dS.x=dS.y=!0,()=>{dS.x=dS.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),CS(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Rx.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=vS(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&Fb.postRender(()=>s(e,t)),ix(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>CS(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:US(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Fb.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!sN(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Xx(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Xx(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&$S(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:XS(e.x,r,i),y:XS(e.y,n,s)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZS;return!1===e?e=0:!0===e&&(e=ZS),{x:eN(e,"left","right"),y:eN(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&CS(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!$S(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=BS(e,n),{scroll:s}=t;return s&&(MS(r.x,s.offset.x),MS(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:JS(e.x,t.x),y:JS(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=yS(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=CS(a=>{if(!sN(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ix(this.visualElement,e),n.start(qk(e,n,0,t,this.visualElement,!1))}stopAnimation(){CS(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){CS(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){CS(t=>{const{drag:n}=this.getProps();if(!sN(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Xx(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!$S(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};CS(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=vS(e),s=vS(t);return s>r?n=Uw(t.min,t.max-r,e.min):r>s&&(n=Uw(e.min,e.max-s,t.min)),dx(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),CS(t=>{if(!sN(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Xx(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;nN.set(this.visualElement,this);const e=gS(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();$S(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Fb.read(t);const s=mS(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(CS(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=ZS,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function sN(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const iN=e=>(t,n)=>{e&&Fb.postRender(()=>e(t,n))};const{schedule:aN,cancel:oN}=Mb(queueMicrotask,!1),lN=(0,e.createContext)(null);function cN(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,e.useContext)(lN);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=n,a=(0,e.useId)();(0,e.useEffect)(()=>{if(t)return i(a)},[t]);const o=(0,e.useCallback)(()=>t&&s&&s(a),[a,s,t]);return!r&&s?[!1,o]:[!0]}const uN=(0,e.createContext)({}),dN=(0,e.createContext)({}),hN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pN={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Dx.test(e))return e;e=parseFloat(e)}return`${mN(e,t.target.x)}% ${mN(e,t.target.y)}%`}},fN={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=Kx.parse(e);if(i.length>5)return s;const a=Kx.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=Xx(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),a(i)}},gN={};let yN=!1;class vN extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)gN[t]=e[t],gx(t)&&(gN[t].isCSSVariable=!0)}(xN),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),yN&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),hN.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,yN=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Fb.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bN(t){const[n,r]=cN(),s=(0,e.useContext)(uN);return(0,lt.jsx)(vN,{...t,layoutGroup:s,switchLayoutGroup:(0,e.useContext)(dN),isPresent:n,safeToRemove:r})}const xN={borderRadius:{...pN,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pN,borderTopRightRadius:pN,borderBottomLeftRadius:pN,borderBottomRightRadius:pN,boxShadow:fN};function wN(e){return Dk(e)&&"ownerSVGElement"in e}const kN=(e,t)=>e.depth-t.depth;class SN{constructor(){this.children=[],this.isDirty=!1}add(e){Hb(this.children,e),this.isDirty=!0}remove(e){Wb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kN),this.isDirty=!1,this.children.forEach(e)}}function NN(e,t){const n=Xb.now(),r=s=>{let{timestamp:i}=s;const a=i-n;a>=t&&(Vb(r),e(a-t))};return Fb.setup(r,!0),()=>Vb(r)}function CN(e){return sx(e)?e.get():e}const EN=["TopLeft","TopRight","BottomLeft","BottomRight"],TN=EN.length,jN=e=>"string"===typeof e?parseFloat(e):e,_N=e=>"number"===typeof e||Dx.test(e);function AN(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const IN=RN(0,.5,Ow),PN=RN(.5,.95,Rb);function RN(e,t,n){return r=>r<e?0:r>t?1:n(Uw(e,t,r))}function DN(e,t){e.min=t.min,e.max=t.max}function LN(e,t){DN(e.x,t.x),DN(e.y,t.y)}function ON(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function MN(e,t,n,r,s){return e=IS(e-=t,1/n,r),void 0!==s&&(e=IS(e,1/s,r)),e}function FN(e,t,n,r,s){let[i,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Rx.test(t)&&(t=parseFloat(t),t=Xx(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Xx(i.min,i.max,r);e===i&&(o-=t),e.min=MN(e.min,t,n,o,s),e.max=MN(e.max,t,n,o,s)}(e,t[i],t[a],t[o],t.scale,r,s)}const VN=["x","scaleX","originX"],BN=["y","scaleY","originY"];function UN(e,t,n,r){FN(e.x,t,VN,n?n.x:void 0,r?r.x:void 0),FN(e.y,t,BN,n?n.y:void 0,r?r.y:void 0)}function $N(e){return 0===e.translate&&1===e.scale}function zN(e){return $N(e.x)&&$N(e.y)}function qN(e,t){return e.min===t.min&&e.max===t.max}function HN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function WN(e,t){return HN(e.x,t.x)&&HN(e.y,t.y)}function GN(e){return vS(e.x)/vS(e.y)}function KN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class QN{constructor(){this.members=[]}add(e){Hb(this.members,e),e.scheduleRender()}remove(e){if(Wb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const YN={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},XN=["","X","Y","Z"];let JN=0;function ZN(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function eC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Fb,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&eC(r)}function tC(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=JN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ob.value&&(YN.nodes=YN.calculatedTargetDeltas=YN.calculatedProjections=0),this.nodes.forEach(sC),this.nodes.forEach(dC),this.nodes.forEach(hC),this.nodes.forEach(iC),Ob.addProjectionMetrics&&Ob.addProjectionMetrics(YN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new SN)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Gb),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=wN(e)&&!(wN(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const s=()=>this.root.updateBlockedByResize=!1;Fb.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=NN(s,250),hN.hasAnimatedSinceResize&&(hN.hasAnimatedSinceResize=!1,this.nodes.forEach(uC)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||vC,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!WN(this.targetLayout,s),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e={...Pb(a,"layout"),onPlay:o,onComplete:l};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||uC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mC),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(oC);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(lC);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cC),this.nodes.forEach(nC),this.nodes.forEach(rC)):this.nodes.forEach(lC),this.clearAllSnapshots();const e=Xb.now();Bb.delta=dx(0,1e3/60,e-Bb.timestamp),Bb.timestamp=e,Bb.isProcessing=!0,Ub.update.process(Bb),Ub.preRender.process(Bb),Ub.render.process(Bb),Bb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aC),this.sharedNodes.forEach(pC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fb.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fb.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||vS(this.snapshot.measuredBox.x)||vS(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!zN(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||jS(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),wC((r=n).x),wC(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SC))){const{scroll:e}=this.root;e&&(MS(t.x,e.offset.x),MS(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(LN(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;r!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&LN(t,e),MS(t.x,s.offset.x),MS(t.y,s.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};LN(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&VS(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),jS(e.latestValues)&&VS(n,e.latestValues)}return jS(this.latestValues)&&VS(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};LN(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!jS(e.latestValues))continue;TS(e.latestValues)&&e.updateSnapshot();const r=NS();LN(r,e.measurePageBox()),UN(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return jS(this.latestValues)&&UN(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=Bb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},SS(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),LN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,a,o;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,a=this.relativeTarget,o=this.relativeParent.target,wS(i.x,a.x,o.x),wS(i.y,a.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):LN(this.target,this.layout.layoutBox),DS(this.target,this.targetDelta)):LN(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},SS(this.relativeTargetOrigin,this.target,e.target),LN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ob.value&&YN.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!TS(this.parent.latestValues)&&!_S(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Bb.timestamp&&(n=!1),n)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;LN(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&VS(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,DS(e,a)),r&&jS(i.latestValues)&&VS(e,i.latestValues))}t.x<OS&&t.x>LS&&(t.x=1),t.y<OS&&t.y>LS&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(ON(this.prevProjectionDelta.x,this.projectionDelta.x),ON(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),xS(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===a&&KN(this.projectionDelta.x,this.prevProjectionDelta.x)&&KN(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),Ob.value&&YN.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(yC));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;fC(i.x,e.x,n),fC(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(SS(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){gC(e.x,t.x,n.x,r),gC(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&(l=this.relativeTarget,h=d,qN(l.x,h.x)&&qN(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),LN(d,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=Xx(0,n.opacity??1,IN(r)),e.opacityExit=Xx(t.opacity??1,0,PN(r))):i&&(e.opacity=Xx(t.opacity??1,n.opacity??1,r));for(let a=0;a<TN;a++){const s=`border${EN[a]}Radius`;let i=AN(t,s),o=AN(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||_N(i)===_N(o)?(e[s]=Math.max(Xx(jN(i),jN(o),r),0),(Rx.test(o)||Rx.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=Xx(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fb.update(()=>{hN.hasAnimatedSinceResize=!0,px.layout++,this.motionValue||(this.motionValue=ex(0)),this.currentAnimation=function(e,t,n){const r=sx(e)?e:ex(e);return r.start(qk("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{px.layout--},onComplete:()=>{px.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&kC(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=vS(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=vS(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}LN(t,n),VS(t,s),xS(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new QN);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ZN("z",e,r,this.animationValues);for(let s=0;s<XN.length;s++)ZN(`rotate${XN[s]}`,e,r,this.animationValues),ZN(`skew${XN[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=CN(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=CN(t?.pointerEvents)||""),void(this.hasProjected&&!jS(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(i=n(s,i)),e.transform=i;const{x:a,y:o}=this.projectionDelta;e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const l in gN){if(void 0===s[l])continue;const{correct:t,applyTo:n,isCSSVariable:a}=gN[l],o="none"===i?s[l]:t(s[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else a?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=r===this?CN(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(oC),this.root.sharedNodes.clear()}}}function nC(e){e.updateLayout()}function rC(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;"size"===s?CS(e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],s=vS(r);r.min=n[e].min,r.max=r.min+s}):kC(s,t.layoutBox,n)&&CS(r=>{const s=i?t.measuredBox[r]:t.layoutBox[r],a=vS(n[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};xS(a,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?xS(o,e.applyTransform(r,!0),t.measuredBox):xS(o,n,t.layoutBox);const l=!zN(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};SS(a,t.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};SS(o,n,i.layoutBox),WN(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function sC(e){Ob.value&&YN.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aC(e){e.clearSnapshot()}function oC(e){e.clearMeasurements()}function lC(e){e.isLayoutDirty=!1}function cC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function uC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dC(e){e.resolveTargetDelta()}function hC(e){e.calcProjection()}function mC(e){e.resetSkewAndRotation()}function pC(e){e.removeLeadSnapshot()}function fC(e,t,n){e.translate=Xx(t.translate,0,n),e.scale=Xx(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gC(e,t,n,r){e.min=Xx(t.min,n.min,r),e.max=Xx(t.max,n.max,r)}function yC(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const vC={duration:.45,ease:[.4,0,.1,1]},bC=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xC=bC("applewebkit/")&&!bC("chrome/")?Math.round:Rb;function wC(e){e.min=xC(e.min),e.max=xC(e.max)}function kC(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=GN(t),s=GN(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function SC(e){return e!==e.root&&e.scroll?.wasRoot}const NC=tC({attachResizeListener:(e,t)=>mS(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),CC={current:void 0},EC=tC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!CC.current){const e=new NC({});e.mount(window),e.setOptions({layoutScroll:!0}),CC.current=e}return CC.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),TC={pan:{Feature:class extends lS{constructor(){super(...arguments),this.removePointerDownListener=Rb}onPointerDown(e){this.session=new qS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:US(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:iN(e),onStart:iN(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Fb.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=gS(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lS{constructor(e){super(e),this.removeGroupControls=Rb,this.removeListeners=Rb,this.controls=new rN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:EC,MeasureLayout:bN}};function jC(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function _C(e){return!("touch"===e.pointerType||hS())}function AC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&Fb.postRender(()=>s(t,fS(t)))}const IC=(e,t)=>!!t&&(e===t||IC(e,t.parentElement)),PC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const RC=new WeakSet;function DC(e){return t=>{"Enter"===t.key&&e(t)}}function LC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function OC(e){return pS(e)&&!hS()}function MC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=jC(e,n),a=e=>{const r=e.currentTarget;if(!OC(e))return;RC.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),RC.has(r)&&RC.delete(r),OC(e)&&"function"===typeof i&&i(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||IC(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),Lk(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=DC(()=>{if(RC.has(n))return;LC(n,"down");const e=DC(()=>{LC(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>LC(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s)),t=e,PC.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function FC(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&Fb.postRender(()=>s(t,fS(t)))}const VC=new WeakMap,BC=new WeakMap,UC=e=>{const t=VC.get(e.target);t&&t(e)},$C=e=>{e.forEach(UC)};function zC(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;BC.has(r)||BC.set(r,{});const s=BC.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver($C,{root:t,...n})),s[i]}(t);return VC.set(e,n),r.observe(e),()=>{VC.delete(e),r.unobserve(e)}}const qC={some:0,all:1};const HC={inView:{Feature:class extends lS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:qC[r]};return zC(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lS{mount(){const{current:e}=this.node;e&&(this.unmount=MC(e,(e,t)=>(FC(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return FC(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends lS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(sj){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ux(mS(this.node.current,"focus",()=>this.onFocus()),mS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends lS{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=jC(e,n),a=e=>{if(!_C(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{_C(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach(e=>{e.addEventListener("pointerenter",a,s)}),i}(e,(e,t)=>(AC(this.node,t,"Start"),e=>AC(this.node,e,"End"))))}unmount(){}}}},WC={layout:{ProjectionNode:EC,MeasureLayout:bN}},GC=(0,e.createContext)({strict:!1}),KC=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),QC=(0,e.createContext)({});function YC(e){return jb(e.animate)||Jk.some(t=>Yk(e[t]))}function XC(e){return Boolean(YC(e)||e.variants)}function JC(t){const{initial:n,animate:r}=function(e,t){if(YC(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Yk(t)?t:void 0,animate:Yk(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(QC));return(0,e.useMemo)(()=>({initial:n,animate:r}),[ZC(n),ZC(r)])}function ZC(e){return Array.isArray(e)?e.join(" "):e}const eE="undefined"!==typeof window,tE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nE={};for(const n in tE)nE[n]={isEnabled:e=>tE[n].some(t=>!!e[t])};const rE=Symbol.for("motionComponentSymbol");function sE(t,n,r){return(0,e.useCallback)(e=>{e&&t.onMount&&t.onMount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):$S(r)&&(r.current=e))},[n])}const iE=eE?e.useLayoutEffect:e.useEffect;function aE(t,n,r,s,i){const{visualElement:a}=(0,e.useContext)(QC),o=(0,e.useContext)(GC),l=(0,e.useContext)(lN),c=(0,e.useContext)(KC).reducedMotion,u=(0,e.useRef)(null);s=s||o.renderer,!u.current&&s&&(u.current=s(t,{visualState:n,parent:a,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const d=u.current,h=(0,e.useContext)(dN);!d||d.projection||!i||"html"!==d.type&&"svg"!==d.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oE(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(a)||o&&$S(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(u.current,r,i,h);const m=(0,e.useRef)(!1);(0,e.useInsertionEffect)(()=>{d&&m.current&&d.update(r,l)});const p=r[ox],f=(0,e.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return iE(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),aN.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),(0,e.useEffect)(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),f.current=!1))}),d}function oE(e){if(e)return!1!==e.options.allowProjection?e.projection:oE(e.parent)}function lE(t){let{preloadedFeatures:n,createVisualElement:r,useRender:s,useVisualState:i,Component:a}=t;function o(t,n){let o;const l={...(0,e.useContext)(KC),...t,layoutId:cE(t)},{isStatic:c}=l,u=JC(t),d=i(t,c);if(!c&&eE){!function(){(0,e.useContext)(GC).strict;0}();const t=function(e){const{drag:t,layout:n}=nE;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=t.MeasureLayout,u.visualElement=aE(a,d,l,r,t.ProjectionNode)}return(0,lt.jsxs)(QC.Provider,{value:u,children:[o&&u.visualElement?(0,lt.jsx)(o,{visualElement:u.visualElement,...l}):null,s(a,t,sE(d,u.visualElement,n),d,c,u.visualElement)]})}n&&function(e){for(const t in e)nE[t]={...nE[t],...e[t]}}(n),o.displayName=`motion.${"string"===typeof a?a:`create(${a.displayName??a.name??""})`}`;const l=(0,e.forwardRef)(o);return l[rE]=a,l}function cE(t){let{layoutId:n}=t;const r=(0,e.useContext)(uN).id;return r&&void 0!==n?r+"-"+n:n}function uE(e,t){let{layout:n,layoutId:r}=t;return zb.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!gN[e]||"opacity"===e)}const dE=(e,t)=>t&&"number"===typeof e?t.transform(e):e,hE={...xx,transform:Math.round},mE={borderWidth:Dx,borderTopWidth:Dx,borderRightWidth:Dx,borderBottomWidth:Dx,borderLeftWidth:Dx,borderRadius:Dx,radius:Dx,borderTopLeftRadius:Dx,borderTopRightRadius:Dx,borderBottomRightRadius:Dx,borderBottomLeftRadius:Dx,width:Dx,maxWidth:Dx,height:Dx,maxHeight:Dx,top:Dx,right:Dx,bottom:Dx,left:Dx,padding:Dx,paddingTop:Dx,paddingRight:Dx,paddingBottom:Dx,paddingLeft:Dx,margin:Dx,marginTop:Dx,marginRight:Dx,marginBottom:Dx,marginLeft:Dx,backgroundPositionX:Dx,backgroundPositionY:Dx,...{rotate:Px,rotateX:Px,rotateY:Px,rotateZ:Px,scale:kx,scaleX:kx,scaleY:kx,scaleZ:kx,skew:Px,skewX:Px,skewY:Px,distance:Dx,translateX:Dx,translateY:Dx,translateZ:Dx,x:Dx,y:Dx,z:Dx,perspective:Dx,transformPerspective:Dx,opacity:wx,originX:Mx,originY:Mx,originZ:Dx},zIndex:hE,fillOpacity:wx,strokeOpacity:wx,numOctaves:hE},pE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fE=$b.length;function gE(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(zb.has(l))a=!0;else if(gx(l))s[l]=e;else{const t=dE(e,mE[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<fE;i++){const a=$b[i],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=dE(o,mE[a]);l||(s=!1,r+=`${pE[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const yE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vE(e,t,n){for(const r in t)sx(t[r])||uE(r,n)||(e[r]=t[r])}function bE(t,n){const r={};return vE(r,t.style||{},t),Object.assign(r,function(t,n){let{transformTemplate:r}=t;return(0,e.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return gE(e,n,r),Object.assign({},e.vars,e.style)},[n])}(t,n)),r}function xE(e,t){const n={},r=bE(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const wE={offset:"stroke-dashoffset",array:"stroke-dasharray"},kE={offset:"strokeDashoffset",array:"strokeDasharray"};function SE(e,t,n,r,s){let{attrX:i,attrY:a,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...d}=t;if(gE(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=s?.transformBox??"fill-box",delete h.transformBox),void 0!==i&&(h.x=i),void 0!==a&&(h.y=a),void 0!==o&&(h.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?wE:kE;e[i.offset]=Dx.transform(-r);const a=Dx.transform(t),o=Dx.transform(n);e[i.array]=`${a} ${o}`}(h,l,c,u,!1)}const NE=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),CE=e=>"string"===typeof e&&"svg"===e.toLowerCase();function EE(t,n,r,s){const i=(0,e.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return SE(e,n,CE(s),t.transformTemplate,t.style),{...e.attrs,style:{...e.style}}},[n]);if(t.style){const e={};vE(e,t.style,t),i.style={...e,...i.style}}return i}const TE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jE(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||TE.has(e)}let _E=e=>!jE(e);try{"function"===typeof(AE=require("@emotion/is-prop-valid").default)&&(_E=e=>e.startsWith("on")?!jE(e):AE(e))}catch{}var AE;const IE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PE(e){return"string"===typeof e&&!e.includes("-")&&!!(IE.indexOf(e)>-1||/[A-Z]/u.test(e))}function RE(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,s,i,a)=>{let{latestValues:o}=i;const l=(PE(n)?EE:xE)(r,o,a,n),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(_E(s)||!0===n&&jE(s)||!t&&!jE(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(r,"string"===typeof n,t),u=n!==e.Fragment?{...c,...l,ref:s}:{},{children:d}=r,h=(0,e.useMemo)(()=>sx(d)?d.get():d,[d]);return(0,e.createElement)(n,{...u,children:h})}}function DE(t){const n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}const LE=t=>(n,r)=>{const s=(0,e.useContext)(QC),i=(0,e.useContext)(lN),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i}=e;return{latestValues:OE(t,n,r,s),renderState:i()}}(t,n,s,i);return r?a():DE(a)};function OE(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=CN(i[h]);let{initial:a,animate:o}=e;const l=YC(e),c=XC(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!jb(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Ab(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}function ME(e,t,n){const{style:r}=e,s={};for(const i in r)(sx(r[i])||t.style&&sx(t.style[i])||uE(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(s[i]=r[i]);return s}const FE={useVisualState:LE({scrapeMotionValuesFromProps:ME,createRenderState:yE})};function VE(e,t,n){const r=ME(e,t,n);for(const s in e)if(sx(e[s])||sx(t[s])){r[-1!==$b.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const BE={useVisualState:LE({scrapeMotionValuesFromProps:VE,createRenderState:NE})};function UE(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return lE({...PE(n)?BE:FE,preloadedFeatures:e,useRender:RE(r),createVisualElement:t,Component:n})}}const $E=e=>t=>t.test(e),zE=[xx,Dx,Rx,Px,Ox,Lx,{test:e=>"auto"===e,parse:e=>e}],qE=e=>zE.find($E(e)),HE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),WE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,s]=function(e){const t=WE.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return HE(e)?parseFloat(e):e}return vx(s)?GE(s,t,n+1):s}const KE=e=>/^0[^.\s]+$/u.test(e);function QE(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||KE(e))}const YE=new Set(["brightness","contrast","saturate","opacity"]);function XE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Nx)||[];if(!r)return e;const s=n.replace(r,"");let i=YE.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const JE=/\b([a-z-]*)\(.*?\)/gu,ZE={...Kx,getAnimatableNone:e=>{const t=e.match(JE);return t?t.map(XE).join(" "):e}},eT={...mE,color:Vx,backgroundColor:Vx,outlineColor:Vx,fill:Vx,stroke:Vx,borderColor:Vx,borderTopColor:Vx,borderRightColor:Vx,borderBottomColor:Vx,borderLeftColor:Vx,filter:ZE,WebkitFilter:ZE},tT=e=>eT[e];function nT(e,t){let n=tT(e);return n!==ZE&&(n=Kx),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rT=new Set(["auto","none","0"]);class sT extends vk{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),vx(n))){const r=GE(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!qb.has(n)||2!==e.length)return;const[r,s]=e,i=qE(r),a=qE(s);if(i!==a)if(lk(i)&&lk(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else dk[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||QE(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!rT.has(t)&&qx(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=nT(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dk[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=dk[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const iT=[...zE,Vx,Kx],aT={current:null},oT={current:!1};const lT=new WeakMap;const cT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uT{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Xb.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Fb.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=YC(n),this.isVariantNode=XC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const e=d[h];void 0!==l[h]&&sx(e)&&e.set(l[h],!1)}}mount(e){this.current=e,lT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),oT.current||function(){if(oT.current=!0,eE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>aT.current=e.matches;e.addEventListener("change",t),t()}else aT.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||aT.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vb(this.notifyUpdate),Vb(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=zb.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Fb.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in nE){const t=nE[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<cT.length;n++){const t=cT[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(sx(s))e.addValue(r,s);else if(sx(i))e.addValue(r,ex(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,ex(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ex(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==n&&null!==n&&("string"===typeof n&&(HE(n)||KE(n))?n=parseFloat(n):(r=n,!iT.find($E(r))&&Kx.test(t)&&(n=nT(e,t))),this.setBaseTarget(e,sx(n)?n.get():n)),sx(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const r=Ab(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||sx(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Gb),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class dT extends uT{constructor(){super(...arguments),this.KeyframeResolver=sT}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sx(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function hT(e,t,n,r){let{style:s,vars:i}=t;const a=e.style;let o;for(o in s)a[o]=s[o];for(o in r?.applyProjectionStyles(a,n),i)a.setProperty(o,i[o])}class mT extends dT{constructor(){super(...arguments),this.type="html",this.renderInstance=hT}readValueFromInstance(e,t){if(zb.has(t))return this.projection?.isProjecting?ik(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ak(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),s=(gx(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return BS(e,n)}build(e,t,n){gE(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ME(e,t,n)}}const pT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class fT extends dT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=NS}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(zb.has(t)){const e=tT(t);return e&&e.default||0}return t=pT.has(t)?t:ax(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return VE(e,t,n)}build(e,t,n){SE(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){hT(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(pT.has(s)?s:ax(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=CE(e.tagName),super.mount(e)}}const gT=(t,n)=>PE(t)?new fT(n):new mT(n,{allowProjection:t!==e.Fragment}),yT=Tb(UE({...uS,...HC,...TC,...WC},gT));class vT extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Lk(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bT(t){let{children:n,isPresent:r,anchorX:s,root:i}=t;const a=(0,e.useId)(),o=(0,e.useRef)(null),l=(0,e.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,e.useContext)(KC);return(0,e.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(r||!o.current||!e||!t)return;const h="left"===s?`left: ${u}`:`right: ${d}`;o.current.dataset.motionPopId=a;const m=document.createElement("style");c&&(m.nonce=c);const p=i??document.head;return p.appendChild(m),m.sheet&&m.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            top: ${n}px !important;\n          }\n        `),()=>{p.removeChild(m),p.contains(m)&&p.removeChild(m)}},[r]),(0,lt.jsx)(vT,{isPresent:r,childRef:o,sizeRef:l,children:e.cloneElement(n,{ref:o})})}const xT=t=>{let{children:n,initial:r,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c,root:u}=t;const d=DE(wT),h=(0,e.useId)();let m=!0,p=(0,e.useMemo)(()=>(m=!1,{id:h,initial:r,isPresent:s,custom:a,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;i&&i()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[s,d,i]);return o&&m&&(p={...p}),(0,e.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[s]),e.useEffect(()=>{!s&&!d.size&&i&&i()},[s]),"popLayout"===l&&(n=(0,lt.jsx)(bT,{isPresent:s,anchorX:c,root:u,children:n})),(0,lt.jsx)(lN.Provider,{value:p,children:n})};function wT(){return new Map}const kT=e=>e.key||"";function ST(t){const n=[];return e.Children.forEach(t,t=>{(0,e.isValidElement)(t)&&n.push(t)}),n}const NT=t=>{let{children:n,custom:r,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u}=t;const[d,h]=cN(l),m=(0,e.useMemo)(()=>ST(n),[n]),p=l&&!d?[]:m.map(kT),f=(0,e.useRef)(!0),g=(0,e.useRef)(m),y=DE(()=>new Map),[v,b]=(0,e.useState)(m),[x,w]=(0,e.useState)(m);iE(()=>{f.current=!1,g.current=m;for(let e=0;e<x.length;e++){const t=kT(x[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[x,p.length,p.join("-")]);const k=[];if(m!==v){let e=[...m];for(let t=0;t<x.length;t++){const n=x[t],r=kT(n);p.includes(r)||(e.splice(t,0,n),k.push(n))}return"wait"===o&&k.length&&(e=k),w(ST(e)),b(m),null}const{forceRender:S}=(0,e.useContext)(uN);return(0,lt.jsx)(lt.Fragment,{children:x.map(e=>{const t=kT(e),n=!(l&&!d)&&(m===x||p.includes(t));return(0,lt.jsx)(xT,{isPresent:n,initial:!(f.current&&!s)&&void 0,custom:r,presenceAffectsLayout:a,mode:o,root:u,onExitComplete:n?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(S?.(),w(g.current),l&&h?.(),i&&i())},anchorX:c,children:e},t)})})};var CT=n(64),ET=n.n(CT);const TT={A:[1],B:[1,2],C:[1,4],D:[1,4,5],E:[1,5],F:[1,2,4],G:[1,2,4,5],H:[1,2,5],I:[2,4],J:[2,4,5],K:[1,3],L:[1,2,3],M:[1,3,4],N:[1,3,4,5],O:[1,3,5],P:[1,2,3,4],Q:[1,2,3,4,5],R:[1,2,3,5],S:[2,3,4],T:[2,3,4,5],U:[1,3,6],V:[1,2,3,6],W:[2,4,5,6],X:[1,3,4,6],Y:[1,3,4,5,6],Z:[1,3,5,6]},jT={0:[2,4,5],1:[1],2:[1,2],3:[1,4],4:[1,4,5],5:[1,5],6:[1,2,4],7:[1,2,4,5],8:[1,2,5],9:[2,4]},_T=128,AT=64,IT=96;function PT(e){const t=[];return console.log(`\uc785\ub825 \ubc1b\uc740 \uac12: ${e} (\uc2ed\uc9c4\uc218), 0b${e.toString(2).padStart(8,"0")} (\uc774\uc9c4\uc218)`),e===_T?(console.log("\uba85\ub839\uc5b4: BACKSPACE \uac10\uc9c0"),[-1]):e===AT?(console.log("\uba85\ub839\uc5b4: ENTER \uac10\uc9c0"),[-2]):e===IT?(console.log("\ud2b9\ubcc4 \uba85\ub839\uc5b4: INPUT_1 \uac10\uc9c0 (\uc810 1)"),[1]):(0===(192&e)?(console.log("\uc810\uc790 \uc785\ub825 \ud328\ud134 \uac10\uc9c0 (0b00??????)"),32&e&&t.push(1),16&e&&t.push(2),8&e&&t.push(3),4&e&&t.push(4),2&e&&t.push(5),1&e&&t.push(6),console.log(`\ucd94\ucd9c\ub41c \uc810\uc790 \uc810: [${t.join(", ")}]`)):console.log("\uc54c \uc218 \uc5c6\ub294 \uc785\ub825 \ud328\ud134"),t)}function RT(e){for(const[t,n]of Object.entries(TT))if(LT(e,n))return t;for(const[t,n]of Object.entries(jT))if(LT(e,n))return t;return null}function DT(e){const t=e.toUpperCase();return TT[t]?TT[t]:jT[e]?jT[e]:null}function LT(e,t){if(e.length!==t.length)return!1;const n=[...e].sort((e,t)=>e-t),r=[...t].sort((e,t)=>e-t);return n.every((e,t)=>e===r[t])}function OT(e){let t="\u2800";return e.forEach(n=>{if(n>=1&&n<=6){Math.pow(2,n-1);t=String.fromCharCode(10240+e.reduce((e,t)=>e+Math.pow(2,t-1),0))}}),t}const MT=()=>{const t=ee(),{user:n}=tb(),{isConnected:r,setOnDataCallback:s}=ob(),[i,a]=(0,e.useState)({round:1,score:0,combo:0,maxCombo:0,cpm:0,startTime:null,charactersTyped:0,correctAnswers:0}),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)([]),[b,x]=(0,e.useState)([]),[w,k]=(0,e.useState)([]),S=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),..."0123456789".split("")],N={A:"\u2801",B:"\u2803",C:"\u2809",D:"\u2819",E:"\u2811",F:"\u280b",G:"\u281b",H:"\u2813",I:"\u280a",J:"\u281a",K:"\u2805",L:"\u2807",M:"\u280d",N:"\u281d",O:"\u2815",P:"\u280f",Q:"\u281f",R:"\u2817",S:"\u280e",T:"\u281e",U:"\u2825",V:"\u2827",W:"\u283a",X:"\u282d",Y:"\u283d",Z:"\u2835",1:"\u2801",2:"\u2803",3:"\u2809",4:"\u2819",5:"\u2811",6:"\u280b",7:"\u281b",8:"\u2813",9:"\u280a",0:"\u281a"},C=(0,e.useCallback)(()=>{const e=S[Math.floor(Math.random()*S.length)];l(e)},[S]),E=(0,e.useCallback)(()=>{const e=[];for(let t=0;t<3;t++){const t=S[Math.floor(Math.random()*S.length)];e.push(t)}k(e)},[S]),T=(0,e.useCallback)(()=>{x(e=>[o,...e].slice(0,3)),w.length>0?(l(w[0]),k(e=>[...e.slice(1),S[Math.floor(Math.random()*S.length)]])):(C(),E())},[o,w,S,C,E]),j=e=>({0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"}[e]||e),_=(0,e.useCallback)(()=>{if(!i.startTime)return 0;const e=(Date.now()-i.startTime)/6e4;return e>0?Math.round(i.charactersTyped/e):0},[i.startTime,i.charactersTyped]),A=()=>{a({round:1,score:0,combo:0,maxCombo:0,cpm:0,startTime:Date.now(),charactersTyped:0,correctAnswers:0}),u(!0),h(!1),x([]),C(),E()},I=()=>{A()},P=async e=>{if(n)try{const t=e.charactersTyped>0?e.correctAnswers/e.charactersTyped*100:0;await xb(n,{type:"GAME",cpm:e.cpm,combo:e.maxCombo,score:e.score,accuracy:Math.round(100*t)/100}),console.log("\u2705 Game history saved successfully!")}catch(t){console.error("\u274c Failed to save game history:",t)}else console.log("\u26a0\ufe0f User not logged in - skipping game history save")};(0,e.useEffect)(()=>{if(!r||!c||d)return;s(e=>{const n=PT(e);if(n.includes(-1))console.log("Backspace received");else if(n.includes(-2))console.log("Space received");else if(n.length>0){v(n);const e=RT(n);if(e){let n=e.toUpperCase();if(/\d/.test(o)){const e={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"0"};e[n]&&(n=e[n])}if(n===o)if(i.round>=10){const e=i.combo+1,n=Math.max(i.maxCombo,e),r={...i,score:i.score+10,combo:e,maxCombo:n,charactersTyped:i.charactersTyped+1,correctAnswers:i.correctAnswers+1,cpm:_()};if(a(r),"speechSynthesis"in window){const e=j(o),t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=.8,t.lang="en-US",speechSynthesis.speak(t)}u(!1),h(!0),P(r),setTimeout(()=>{ET().fire({title:"Game Complete!",html:`\n                    <div style="text-align: left;">\n                      <p><strong>Final Score:</strong> ${r.score}</p>\n                      <p><strong>Max Combo:</strong> ${r.maxCombo}</p>\n                      <p><strong>CPM:</strong> ${_()}</p>\n                      <p><strong>Accuracy:</strong> ${Math.round(r.correctAnswers/r.charactersTyped*100)}%</p>\n                    </div>\n                  `,icon:"success",confirmButtonText:"Play Again",showCancelButton:!0,cancelButtonText:"Back to Menu"}).then(e=>{e.isConfirmed?I():t("/games")})},500)}else{const e=i.combo+1,t=Math.max(i.maxCombo,e),n={...i,round:i.round+1,score:i.score+10,combo:e,maxCombo:t,charactersTyped:i.charactersTyped+1,correctAnswers:i.correctAnswers+1,cpm:_()};if(a(n),"speechSynthesis"in window){const e=j(o),t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=.8,t.lang="en-US",speechSynthesis.speak(t)}ET().fire({title:"Correct!",text:`+10 points! Combo: ${n.combo}`,icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"top-end"}),n.combo>1&&n.combo%3===0&&(p(!0),setTimeout(()=>p(!1),3e3)),T()}else if(i.round>=10){const e={...i,combo:0,charactersTyped:i.charactersTyped+1,cpm:_()};a(e),u(!1),h(!0),P(e),setTimeout(()=>{ET().fire({title:"Game Complete!",html:`\n                    <div style="text-align: left;">\n                      <p><strong>Final Score:</strong> ${e.score}</p>\n                      <p><strong>Max Combo:</strong> ${e.maxCombo}</p>\n                      <p><strong>CPM:</strong> ${_()}</p>\n                      <p><strong>Accuracy:</strong> ${Math.round(e.correctAnswers/e.charactersTyped*100)}%</p>\n                    </div>\n                  `,icon:"success",confirmButtonText:"Play Again",showCancelButton:!0,cancelButtonText:"Back to Menu"}).then(e=>{e.isConfirmed?I():t("/games")})},500)}else{const e={...i,round:i.round+1,combo:0,charactersTyped:i.charactersTyped+1,cpm:_()};a(e),ET().fire({title:"Wrong!",text:"Combo broken!",icon:"error",timer:800,showConfirmButton:!1,toast:!0,position:"top-end"}),T()}}setTimeout(()=>{v([])},1e3)}})},[r,c,d,o,i,_,C]);const R=(0,e.useCallback)(e=>{if(!c||d)return;if(e.key.toUpperCase()===o)if(i.round>=10){const e=i.combo+1,n=Math.max(i.maxCombo,e),r={...i,score:i.score+10,combo:e,maxCombo:n,charactersTyped:i.charactersTyped+1,correctAnswers:i.correctAnswers+1,cpm:_()};if(a(r),"speechSynthesis"in window){const e=j(o),t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=.8,t.lang="en-US",speechSynthesis.speak(t)}u(!1),h(!0),P(r),setTimeout(()=>{ET().fire({title:"Game Complete!",html:`\n              <div style="text-align: left;">\n                <p><strong>Final Score:</strong> ${r.score}</p>\n                <p><strong>Max Combo:</strong> ${r.maxCombo}</p>\n                <p><strong>CPM:</strong> ${_()}</p>\n                <p><strong>Accuracy:</strong> ${Math.round(r.correctAnswers/r.charactersTyped*100)}%</p>\n              </div>\n            `,icon:"success",confirmButtonText:"Play Again",showCancelButton:!0,cancelButtonText:"Back to Menu"}).then(e=>{e.isConfirmed?I():t("/games")})},500)}else{const e=i.combo+1,t=Math.max(i.maxCombo,e),n={...i,round:i.round+1,score:i.score+10,combo:e,maxCombo:t,charactersTyped:i.charactersTyped+1,correctAnswers:i.correctAnswers+1,cpm:_()};if(a(n),"speechSynthesis"in window){const e=j(o),t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=.8,t.lang="en-US",speechSynthesis.speak(t)}ET().fire({title:"Correct!",text:`+10 points! Combo: ${n.combo}`,icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"top-end"}),n.combo>1&&n.combo%3===0&&(p(!0),setTimeout(()=>p(!1),3e3)),T()}else if(i.round>=10){const e={...i,combo:0,charactersTyped:i.charactersTyped+1,cpm:_()};a(e),u(!1),h(!0),P(e),setTimeout(()=>{ET().fire({title:"Game Complete!",html:`\n              <div style="text-align: left;">\n                <p><strong>Final Score:</strong> ${e.score}</p>\n                <p><strong>Max Combo:</strong> ${e.maxCombo}</p>\n                <p><strong>CPM:</strong> ${_()}</p>\n                <p><strong>Accuracy:</strong> ${Math.round(e.correctAnswers/e.charactersTyped*100)}%</p>\n              </div>\n            `,icon:"success",confirmButtonText:"Play Again",showCancelButton:!0,cancelButtonText:"Back to Menu"}).then(e=>{e.isConfirmed?I():t("/games")})},500)}else{const e={...i,round:i.round+1,combo:0,charactersTyped:i.charactersTyped+1,cpm:_()};a(e),ET().fire({title:"Wrong!",text:"Combo broken!",icon:"error",timer:800,showConfirmButton:!1,toast:!0,position:"top-end"}),T()}},[c,d,o,i,_,C]);return(0,e.useEffect)(()=>{if(c&&i.startTime){const e=setInterval(()=>{a(e=>({...e,cpm:_()}))},1e3);return()=>clearInterval(e)}},[c,i.startTime,_]),(0,e.useEffect)(()=>(window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)),[R]),(0,e.useEffect)(()=>{o||(C(),E())},[o,C,E]),(0,lt.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,lt.jsx)("button",{onClick:()=>{g(!f)},className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg shadow-lg transition-colors",title:"Toggle Braille Reference",children:(0,lt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,lt.jsx)("main",{className:"flex-1 flex flex-col items-center py-16",children:(0,lt.jsxs)("div",{className:"w-full max-w-6xl px-4",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mr-8",children:[(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"}),(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"})]}),(0,lt.jsx)("h1",{className:"text-5xl font-light text-gray-600 mx-6",children:"Typing Game"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-8",children:[(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"}),(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"})]})]}),(0,lt.jsx)("p",{className:"text-lg text-black font-light",children:"Quick! Type random Braille letters or numbers \u2013 Game Start!"})]}),(0,lt.jsxs)("div",{className:"flex justify-between items-center mb-8 px-24",children:[(0,lt.jsx)("div",{className:"text-center",children:(0,lt.jsxs)("p",{className:"text-2xl text-black",children:["ROUND : ",i.round," of 10"]})}),(0,lt.jsx)("div",{className:"text-center",children:(0,lt.jsxs)("p",{className:"text-2xl text-blue-600",children:["score : ",i.score]})})]}),(0,lt.jsxs)("div",{className:"flex justify-center items-center mb-8 space-x-8",children:[(0,lt.jsx)("div",{className:"flex items-center",children:(0,lt.jsxs)("div",{className:"w-28 h-28 bg-orange-400 rounded-full flex items-center justify-center shadow-lg relative",children:[(0,lt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-orange-300 to-orange-500"}),(0,lt.jsxs)("span",{className:"text-white text-sm font-bold text-center relative z-10",children:[i.combo,(0,lt.jsx)("br",{}),"Combo"]})]})}),(0,lt.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,lt.jsx)("div",{className:"bg-blue-600 rounded-2xl px-8 py-1 absolute top-[-15px]",children:(0,lt.jsx)("span",{className:"text-white text-sm",children:"CPM"})}),(0,lt.jsx)("div",{className:"bg-white border border-blue-600 rounded-2xl px-20 py-4 shadow-lg mb-2",children:(0,lt.jsx)("span",{className:"text-3xl text-blue-600 font-normal text-center",children:i.cpm})}),(0,lt.jsx)("span",{className:"text-gray-600 text-sm mt-1",children:"Characters Per Minute"})]}),(0,lt.jsx)("div",{className:"w-28 h-28 rounded-full"})]}),(0,lt.jsx)("div",{className:"flex justify-center items-center mb-12",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,lt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"History"}),(0,lt.jsx)("div",{className:"flex space-x-2",children:Array.from({length:3},(e,t)=>{const n=b[2-t];return(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-gray-300 flex items-center justify-center bg-gray-100",style:{opacity:n?.5+.2*t:.3},children:(0,lt.jsx)("span",{className:"text-2xl font-light text-gray-500",children:n||"-"})},`history-${t}`)})})]}),(0,lt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,lt.jsx)("p",{className:"text-sm text-blue-600 font-semibold mb-2",children:"Current"}),(0,lt.jsxs)(yT.div,{className:"w-24 h-28 rounded-2xl border-2 border-blue-600 flex flex-col items-center justify-center shadow-xl bg-white",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:[(0,lt.jsx)("span",{className:"text-3xl font-bold text-blue-600 mb-2",children:o}),(0,lt.jsx)("span",{className:"text-4xl text-blue-600",children:N[o]||"\u283f"})]})]}),(0,lt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Next"}),(0,lt.jsxs)("div",{className:"flex space-x-2",children:[w.slice(0,3).map((e,t)=>(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-gray-300 flex items-center justify-center bg-blue-100",style:{opacity:.9-.2*t},children:(0,lt.jsx)("span",{className:"text-2xl font-light text-gray-600",children:e})},`next-${e}-${t}`)),Array.from({length:Math.max(0,3-w.length)},(e,t)=>(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-gray-300 flex items-center justify-center bg-blue-100 opacity-30",children:(0,lt.jsx)("span",{className:"text-2xl font-light text-gray-400",children:"-"})},`next-empty-${t}`))]})]})]})}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-4 mb-8",children:[Array.from({length:3},(e,t)=>{const n=b[2-t];return(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-black flex items-center justify-center shadow-lg bg-green-200",style:{opacity:n?.5+.2*t:.3},children:(0,lt.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:n?N[n]||"\u283f":"\u2800"})},`braille-history-${t}`)}),(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border-2 border-blue-600 flex items-center justify-center shadow-lg bg-white",children:(0,lt.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:N[o]||"\u283f"})}),w.slice(0,3).map((e,t)=>(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-black flex items-center justify-center shadow-lg bg-gray-300",style:{opacity:.9-.2*t},children:(0,lt.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:N[e]||"\u283f"})},`braille-next-${e}-${t}`)),Array.from({length:Math.max(0,3-w.length)},(e,t)=>(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-black flex items-center justify-center shadow-lg bg-gray-300 opacity-30",children:(0,lt.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:"\u2800"})},`braille-next-empty-${t}`))]}),y.length>0&&(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex justify-center mb-8",children:(0,lt.jsxs)("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4",children:[(0,lt.jsx)("p",{className:"text-blue-800 text-center mb-2",children:"Braille Input:"}),(0,lt.jsx)("div",{className:"text-4xl text-blue-600 text-center",children:OT(y)}),(0,lt.jsxs)("p",{className:"text-sm text-blue-600 text-center mt-1",children:["Dots: ",y.join(", ")]})]})}),(0,lt.jsx)(NT,{children:m&&(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center mb-6",children:(0,lt.jsxs)("p",{className:"text-gray-600 text-sm",children:["\ud83d\udd25 Combo Bonus!",(0,lt.jsx)("br",{}),"Type the next character within 3 seconds"]})})}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-8",children:[!c&&!d&&(0,lt.jsx)("button",{onClick:A,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Start Game"}),c&&(0,lt.jsx)("button",{onClick:()=>{u(!1),h(!0)},className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Stop"}),d&&(0,lt.jsxs)("div",{className:"flex space-x-4",children:[(0,lt.jsx)("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Retry"}),(0,lt.jsx)("button",{onClick:()=>t("/games"),className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Back to Menu"})]})]}),f&&(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-16 bg-white rounded-lg shadow-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Braille Reference"}),(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-4 text-center",children:"Alphabet"}),(0,lt.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 lg:grid-cols-13 gap-2",children:Array.from({length:26},(e,t)=>{const n=String.fromCharCode(65+t),r=DT(n),s=r?OT(r):"\u2800";return(0,lt.jsxs)(yT.div,{whileHover:{scale:1.05},className:"flex flex-col items-center p-2 bg-gray-50 hover:bg-blue-50 border border-gray-200 rounded-lg transition-colors",children:[(0,lt.jsx)("div",{className:"text-3xl text-blue-600 mb-1",children:s}),(0,lt.jsx)("div",{className:"text-sm font-semibold text-gray-700",children:n})]},n)})})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-4 text-center",children:"Numbers"}),(0,lt.jsx)("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-4 max-w-4xl mx-auto",children:Object.entries(jT).map(e=>{let[t,n]=e;const r=OT(n);return(0,lt.jsxs)(yT.div,{whileHover:{scale:1.05},className:"flex flex-col items-center p-3 bg-gray-50 hover:bg-blue-50 border border-gray-200 rounded-lg transition-colors",children:[(0,lt.jsx)("div",{className:"text-4xl text-blue-600 mb-2",children:r}),(0,lt.jsx)("div",{className:"text-lg font-bold text-gray-700",children:t})]},t)})})]})]})]})})]})},FT=()=>{const t=ee(),{user:n}=tb(),{isConnected:r,setOnDataCallback:s}=ob(),i=60,[a,o]=(0,e.useState)({score:0,combo:0,maxCombo:0,cpm:0,accuracy:100,startTime:null,charactersTyped:0,correctAnswers:0,timeRemaining:i}),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),[g,y]=(0,e.useState)(!1),[v,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)([]),[k,S]=(0,e.useState)([]),[N,C]=(0,e.useState)([]),[E,T]=(0,e.useState)(!1),j=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),..."0123456789".split("")],_=(0,e.useCallback)(()=>{const e=j[Math.floor(Math.random()*j.length)];c(e)},[j]),A=(0,e.useCallback)(()=>{const e=[];for(let t=0;t<3;t++){const t=j[Math.floor(Math.random()*j.length)];e.push(t)}C(e)},[j]),I=(0,e.useCallback)(()=>{S(e=>[l,...e].slice(0,3)),N.length>0?(c(N[0]),C(e=>[...e.slice(1),j[Math.floor(Math.random()*j.length)]])):(_(),A())},[l,N,j,_,A]),P=e=>({0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"}[e]||e),R=(0,e.useCallback)(()=>{if(!a.startTime)return 0;const e=(Date.now()-a.startTime)/6e4;return e>0?Math.round(a.charactersTyped/e):0},[a.startTime,a.charactersTyped]),D=(0,e.useCallback)(()=>0===a.charactersTyped?100:Math.round(a.correctAnswers/a.charactersTyped*100),[a.correctAnswers,a.charactersTyped]),L=()=>{o({score:0,combo:0,maxCombo:0,cpm:0,accuracy:100,startTime:Date.now(),charactersTyped:0,correctAnswers:0,timeRemaining:i}),d(!0),m(!1),T(!1),S([]),_(),A();const e=setInterval(()=>{o(t=>{const n=t.timeRemaining-1;if(n<=0){d(!1),m(!0),clearInterval(e);const n=t.startTime?Math.round(t.charactersTyped/((Date.now()-t.startTime)/6e4)):0,r=t.charactersTyped>0?Math.round(t.correctAnswers/t.charactersTyped*100):100,s={...t,cpm:n,accuracy:r};M(s),setTimeout(()=>{ET().fire({title:"Time's Up!",html:`\n                <div style="text-align: left;">\n                  <p><strong>Final Score:</strong> ${t.score}</p>\n                  <p><strong>Max Combo:</strong> ${t.maxCombo}</p>\n                  <p><strong>CPM:</strong> ${n}</p>\n                  <p><strong>Accuracy:</strong> ${r}%</p>\n                </div>\n              `,icon:"info",confirmButtonText:"Play Again",showCancelButton:!0,cancelButtonText:"Back to Menu",allowOutsideClick:!1,allowEscapeKey:!1}).then(e=>{e.isConfirmed?O():e.isDismissed||(e.dismiss,ET().DismissReason.cancel)}).catch(e=>{console.error("SweetAlert2 error:",e)})},500)}return{...t,timeRemaining:n}})},1e3);f(e)},O=()=>{p&&clearInterval(p),T(!1),m(!1),L()},M=async e=>{if(console.log(`\ud83d\udd0d saveGameResult called - historyAlreadySaved: ${E}`),n)if(E)console.log("\u26a0\ufe0f Game history already saved - skipping duplicate save");else{console.log("\ud83d\ude80 Setting historyAlreadySaved to true"),T(!0);try{console.log("\ud83d\udcbe Saving Sprint game history...");const t=e.startTime?Math.round(e.charactersTyped/((Date.now()-e.startTime)/6e4)):0,r=e.charactersTyped>0?e.correctAnswers/e.charactersTyped*100:0,s={type:"SPRINT",cpm:t,combo:e.maxCombo,score:e.score,accuracy:Math.round(100*r)/100};console.log("\ud83d\udcca Game data to save:",s),await xb(n,s),console.log("\u2705 Sprint game history saved successfully!")}catch(t){console.error("\u274c Failed to save sprint game history:",t),console.log("\ud83d\udd04 Resetting historyAlreadySaved to false due to error"),T(!1)}}else console.log("\u26a0\ufe0f User not logged in - skipping game history save")};(0,e.useEffect)(()=>{if(!r||!u||h||a.timeRemaining<=0)return;s(e=>{const t=PT(e);if(t.includes(-1))console.log("Backspace received");else if(t.includes(-2))console.log("Space received");else if(t.length>0){w(t);const e=RT(t);if(e){let t=e.toUpperCase();if(/\d/.test(l)){const e={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"0"};e[t]&&(t=e[t])}if(t===l){const e=a.combo+1,t=Math.max(a.maxCombo,e),n={...a,score:a.score+10,combo:e,maxCombo:t,charactersTyped:a.charactersTyped+1,correctAnswers:a.correctAnswers+1,cpm:R(),accuracy:D()};if(o(n),ET().fire({title:"Correct!",text:`+10 points! Combo: ${n.combo}`,icon:"success",timer:500,showConfirmButton:!1,toast:!0,position:"top-end"}),"speechSynthesis"in window){const e=P(l),t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=.8,t.lang="en-US",speechSynthesis.speak(t)}n.combo>1&&n.combo%5===0&&(y(!0),setTimeout(()=>y(!1),2e3)),I()}else{const e={...a,combo:0,charactersTyped:a.charactersTyped+1,cpm:R(),accuracy:D()};o(e),ET().fire({title:"Wrong!",text:"Combo broken!",icon:"error",timer:500,showConfirmButton:!1,toast:!0,position:"top-end"}),I()}}setTimeout(()=>{w([])},1e3)}})},[r,u,h,a,l,R,D,_]);const F=(0,e.useCallback)(e=>{if(!u||h||a.timeRemaining<=0)return;if(e.key.toUpperCase()===l){const e=a.combo+1,t=Math.max(a.maxCombo,e),n={...a,score:a.score+10,combo:e,maxCombo:t,charactersTyped:a.charactersTyped+1,correctAnswers:a.correctAnswers+1,cpm:R(),accuracy:D()};if(o(n),ET().fire({title:"Correct!",text:`+10 points! Combo: ${n.combo}`,icon:"success",timer:500,showConfirmButton:!1,toast:!0,position:"top-end"}),"speechSynthesis"in window){const e=P(l),t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=.8,t.lang="en-US",speechSynthesis.speak(t)}n.combo>1&&n.combo%5===0&&(y(!0),setTimeout(()=>y(!1),2e3)),I()}else{const e=a.charactersTyped+1,t=Math.round(a.correctAnswers/e*100),n={...a,combo:0,charactersTyped:e,cpm:R(),accuracy:t};o(n),ET().fire({title:"Wrong!",text:"Combo broken!",icon:"error",timer:500,showConfirmButton:!1,toast:!0,position:"top-end"}),I()}},[u,h,l,a,R,D,_]);(0,e.useEffect)(()=>{if(u&&a.startTime){const e=setInterval(()=>{o(e=>({...e,cpm:R(),accuracy:D()}))},1e3);return()=>clearInterval(e)}},[u,a.startTime,R,D]),(0,e.useEffect)(()=>(window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)),[F]),(0,e.useEffect)(()=>{l||(_(),A())},[l,_,A]),(0,e.useEffect)(()=>()=>{p&&clearInterval(p)},[p]);const V=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return(0,lt.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,lt.jsx)("button",{onClick:()=>{b(!v)},className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg shadow-lg transition-colors",title:"Toggle Braille Reference",children:(0,lt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,lt.jsx)("main",{className:"flex-1 flex flex-col items-center py-16",children:(0,lt.jsxs)("div",{className:"w-full max-w-6xl px-4",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mr-8",children:[(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"}),(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"})]}),(0,lt.jsx)("h1",{className:"text-5xl font-light text-gray-600 mx-6",children:"Typing Sprint"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-8",children:[(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"}),(0,lt.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-300 to-purple-700"})]})]}),(0,lt.jsxs)("p",{className:"text-lg text-black font-light",children:["Type as many characters as possible in ",i," seconds!"]})]}),(0,lt.jsxs)("div",{className:"flex justify-between items-center mb-8 px-24",children:[(0,lt.jsx)("div",{className:"text-center",children:(0,lt.jsxs)("p",{className:"text-3xl text-red-600 font-bold",children:["TIME : ",V(a.timeRemaining)]})}),(0,lt.jsx)("div",{className:"text-center",children:(0,lt.jsxs)("p",{className:"text-2xl text-blue-600",children:["score : ",a.score]})})]}),(0,lt.jsxs)("div",{className:"flex justify-center items-center mb-8 space-x-8",children:[(0,lt.jsx)("div",{className:"flex items-center",children:(0,lt.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center mr-4 shadow-lg",children:(0,lt.jsxs)("span",{className:"text-white text-sm font-bold text-center",children:[a.combo,(0,lt.jsx)("br",{}),"Combo"]})})}),(0,lt.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,lt.jsx)("div",{className:"bg-red-600 rounded-2xl px-8 py-1 absolute top-[-15px] z-10",children:(0,lt.jsx)("span",{className:"text-white text-sm font-medium",children:"TIME"})}),(0,lt.jsx)("div",{className:"bg-white border-2 border-red-600 rounded-2xl px-12 py-4 shadow-lg",children:(0,lt.jsx)("span",{className:"text-3xl text-red-600 font-bold",children:V(a.timeRemaining)})})]}),(0,lt.jsx)("div",{className:"w-28 h-28 rounded-full"})]}),(0,lt.jsxs)("div",{className:"w-full mt-2 mb-10 px-24",children:[(0,lt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden relative",children:(0,lt.jsx)(yT.div,{className:"h-full bg-gradient-to-r from-red-500 to-red-600",initial:{width:"0%"},animate:{width:(i-a.timeRemaining)/i*100+"%"},transition:{duration:.5,ease:"linear"}})}),(0,lt.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,lt.jsx)("span",{className:"text-sm text-gray-600",children:"00:00"}),(0,lt.jsx)("span",{className:"text-sm text-gray-600",children:V(i)})]})]}),(0,lt.jsxs)("div",{className:"flex justify-center items-center mb-8 space-x-8",children:[(0,lt.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,lt.jsx)("div",{className:"bg-blue-600 rounded-2xl px-8 py-1 absolute top-[-15px]",children:(0,lt.jsx)("span",{className:"text-white text-sm",children:"CPM"})}),(0,lt.jsx)("div",{className:"bg-white border border-blue-600 rounded-2xl px-[60px] py-4 shadow-lg mb-2",children:(0,lt.jsx)("span",{className:"text-3xl text-blue-600 font-normal text-center",children:a.cpm})}),(0,lt.jsx)("span",{className:"text-gray-600 text-sm mt-1",children:"Characters Per Minute"})]}),(0,lt.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,lt.jsx)("div",{className:"bg-blue-600 rounded-2xl px-4 py-1 absolute top-[-15px]",children:(0,lt.jsx)("span",{className:"text-white text-sm",children:"Accuracy(%)"})}),(0,lt.jsx)("div",{className:"bg-white border border-blue-600 rounded-2xl px-[50px] py-4 shadow-lg mb-2",children:(0,lt.jsx)("span",{className:"text-3xl text-blue-600 font-normal text-center",children:a.accuracy})}),(0,lt.jsx)("span",{className:"text-gray-600 text-sm mt-1",children:"Accuracy"})]})]}),(0,lt.jsx)("div",{className:"flex justify-center items-center mb-12",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,lt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"History"}),(0,lt.jsx)("div",{className:"flex space-x-2",children:Array.from({length:3},(e,t)=>{const n=k[2-t];return(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-gray-300 flex items-center justify-center bg-gray-100",style:{opacity:n?.5+.2*t:.3},children:(0,lt.jsx)("span",{className:"text-2xl font-light text-gray-500",children:n||"-"})},`history-${t}`)})})]}),(0,lt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,lt.jsx)("p",{className:"text-sm text-blue-600 font-semibold mb-2",children:"Current"}),(0,lt.jsxs)(yT.div,{className:"w-24 h-28 rounded-2xl border-2 border-blue-600 flex flex-col items-center justify-center shadow-xl bg-white",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:[(0,lt.jsx)("span",{className:"text-3xl font-bold text-blue-600 mb-2",children:l}),(0,lt.jsx)("span",{className:"text-4xl text-blue-600",children:{A:"\u2801",B:"\u2803",C:"\u2809",D:"\u2819",E:"\u2811",F:"\u280b",G:"\u281b",H:"\u2813",I:"\u280a",J:"\u281a",K:"\u2805",L:"\u2807",M:"\u280d",N:"\u281d",O:"\u2815",P:"\u280f",Q:"\u281f",R:"\u2817",S:"\u280e",T:"\u281e",U:"\u2825",V:"\u2827",W:"\u283a",X:"\u282d",Y:"\u283d",Z:"\u2835",1:"\u2801",2:"\u2803",3:"\u2809",4:"\u2819",5:"\u2811",6:"\u280b",7:"\u281b",8:"\u2813",9:"\u280a",0:"\u281a"}[l]||"\u283f"})]})]}),(0,lt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Next"}),(0,lt.jsxs)("div",{className:"flex space-x-2",children:[N.slice(0,3).map((e,t)=>(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-gray-300 flex items-center justify-center bg-blue-100",style:{opacity:.9-.2*t},children:(0,lt.jsx)("span",{className:"text-2xl font-light text-gray-600",children:e})},`next-${e}-${t}`)),Array.from({length:Math.max(0,3-N.length)},(e,t)=>(0,lt.jsx)("div",{className:"w-16 h-20 rounded-2xl border border-gray-300 flex items-center justify-center bg-blue-100 opacity-30",children:(0,lt.jsx)("span",{className:"text-2xl font-light text-gray-400",children:"-"})},`next-empty-${t}`))]})]})]})}),x.length>0&&(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex justify-center mb-8",children:(0,lt.jsxs)("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4",children:[(0,lt.jsx)("p",{className:"text-blue-800 text-center mb-2",children:"Braille Input:"}),(0,lt.jsx)("div",{className:"text-4xl text-blue-600 text-center",children:OT(x)}),(0,lt.jsxs)("p",{className:"text-sm text-blue-600 text-center mt-1",children:["Dots: ",x.join(", ")]})]})}),(0,lt.jsx)(NT,{children:g&&(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center mb-6",children:(0,lt.jsxs)("p",{className:"text-orange-600 text-lg font-bold",children:["\ud83d\udd25 COMBO BONUS! +",a.combo," Points!"]})})}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-8",children:[!u&&!h&&(0,lt.jsx)("button",{onClick:L,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Start Sprint"}),u&&(0,lt.jsx)("button",{onClick:()=>{u&&(d(!1),m(!0),p&&(clearInterval(p),f(null)),console.log("\ud83d\uded1 Game manually stopped - history not saved"))},className:"border-2 border-red-600 text-red-600 hover:bg-red-600 hover:text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Stop Sprint"}),h&&(0,lt.jsxs)("div",{className:"flex space-x-4",children:[(0,lt.jsx)("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Retry Sprint"}),(0,lt.jsx)("button",{onClick:()=>t("/games"),className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-xl transition-colors duration-300",children:"Back to Menu"})]})]}),!u&&!h&&(0,lt.jsx)("div",{className:"text-center mt-8",children:(0,lt.jsxs)("p",{className:"text-gray-600 text-lg",children:["Press the corresponding keyboard key for each displayed character.",(0,lt.jsx)("br",{}),"Keep your combo going for bonus points!",(0,lt.jsx)("br",{}),(0,lt.jsx)("strong",{children:"Goal:"})," Type as fast and accurately as possible in ",i," seconds."]})}),v&&(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-16 bg-white rounded-lg shadow-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Braille Reference"}),(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-4 text-center",children:"Alphabet"}),(0,lt.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 lg:grid-cols-13 gap-2",children:Array.from({length:26},(e,t)=>{const n=String.fromCharCode(65+t),r=DT(n),s=r?OT(r):"\u2800";return(0,lt.jsxs)(yT.div,{whileHover:{scale:1.05},className:"flex flex-col items-center p-2 bg-gray-50 hover:bg-blue-50 border border-gray-200 rounded-lg transition-colors",children:[(0,lt.jsx)("div",{className:"text-3xl text-blue-600 mb-1",children:s}),(0,lt.jsx)("div",{className:"text-sm font-semibold text-gray-700",children:n})]},n)})})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-4 text-center",children:"Numbers"}),(0,lt.jsx)("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-4 max-w-4xl mx-auto",children:Object.entries(jT).map(e=>{let[t,n]=e;const r=OT(n);return(0,lt.jsxs)(yT.div,{whileHover:{scale:1.05},className:"flex flex-col items-center p-3 bg-gray-50 hover:bg-blue-50 border border-gray-200 rounded-lg transition-colors",children:[(0,lt.jsx)("div",{className:"text-4xl text-blue-600 mb-2",children:r}),(0,lt.jsx)("div",{className:"text-lg font-bold text-gray-700",children:t})]},t)})})]})]})]})})]})},VT=()=>{const e={initial:{opacity:0,y:120},animate:{opacity:1,y:0},transition:{duration:1.5}},t={initial:{opacity:0,x:-120},animate:{opacity:1,x:0},transition:{duration:1}},n={initial:{opacity:0,x:120},animate:{opacity:1,x:0},transition:{duration:1}},r={initial:{},animate:{transition:{staggerChildren:.3,delayChildren:.2}}};return(0,lt.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,lt.jsx)("section",{className:"relative flex items-center justify-center bg-white py-12 lg:py-40",children:(0,lt.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[(0,lt.jsxs)(yT.div,{className:"flex-1 text-center lg:text-left",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:r,children:[(0,lt.jsx)(yT.p,{className:"text-lg sm:text-xl text-gray-700 mb-4",variants:e,children:"Explore Braille through Learn, Quiz, and Game modes!"}),(0,lt.jsxs)(yT.h1,{className:"text-4xl sm:text-5xl lg:text-7xl font-bold text-black mb-6",style:{fontFamily:"Irish Grover"},variants:e,children:[(0,lt.jsx)("span",{className:"text-[#2575FF]",children:"Braille"}),(0,lt.jsx)("span",{className:"text-black",children:"Play"})]}),(0,lt.jsx)(yT.h2,{className:"text-xl sm:text-2xl lg:text-4xl font-light text-black mb-8",variants:e,children:"Learn Braille Your Way \u2014 Lessons, Quizzes, and Games!"}),(0,lt.jsx)(yT.div,{variants:e,children:(0,lt.jsxs)(et,{to:"/learn",className:"inline-flex items-center bg-white text-blue-600 border-2 border-blue-600 px-6 sm:px-8 py-3 sm:py-4 rounded-xl text-lg sm:text-xl font-light hover:bg-blue-50 transition-colors",children:["Learn",(0,lt.jsx)("svg",{className:"ml-2 h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),(0,lt.jsx)(yT.div,{className:"flex-1 flex justify-center",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:n,children:(0,lt.jsx)("img",{src:"/images/figma/hero-3d-key.png",alt:"3D Braille Key Device",className:"h-auto object-contain"})})]})})}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 px-4 bg-gray-50",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,lt.jsx)(yT.div,{className:"text-center mb-12 sm:mb-16",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:e,children:(0,lt.jsx)(rb,{title:"Feature Preview"})}),(0,lt.jsxs)(yT.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 px-4 sm:px-8 lg:px-24",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.2},variants:r,children:[(0,lt.jsx)(yT.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",variants:e,whileHover:{y:-5,transition:{duration:.6}},children:(0,lt.jsxs)(et,{to:"/learn",children:[(0,lt.jsx)("div",{className:"h-40 sm:h-48",children:(0,lt.jsx)("img",{src:"/images/figma/learn-braille-card.png",alt:"Learn Braille",className:"w-full h-full object-cover"})}),(0,lt.jsx)("div",{className:"p-4 sm:p-6",children:(0,lt.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-800 mb-3 sm:mb-4 text-center",children:"Learn Braille"})})]})}),(0,lt.jsx)(yT.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",variants:e,whileHover:{y:-5,transition:{duration:.6}},children:(0,lt.jsxs)(et,{to:"/quiz",children:[(0,lt.jsx)("div",{className:"h-40 sm:h-48",children:(0,lt.jsx)("img",{src:"/images/figma/quiz-zone-card.png",alt:"Quiz Zone",className:"w-full h-full object-cover"})}),(0,lt.jsx)("div",{className:"p-4 sm:p-6",children:(0,lt.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-800 mb-3 sm:mb-4 text-center",children:"Quiz Zone"})})]})}),(0,lt.jsx)(yT.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow md:col-span-2 lg:col-span-1",variants:e,whileHover:{y:-5,transition:{duration:.6}},children:(0,lt.jsxs)(et,{to:"/games",children:[(0,lt.jsx)("div",{className:"h-40 sm:h-48",children:(0,lt.jsx)("img",{src:"/images/figma/games-card.png",alt:"Games",className:"w-full h-full object-cover"})}),(0,lt.jsx)("div",{className:"p-4 sm:p-6",children:(0,lt.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-800 mb-3 sm:mb-4 text-center",children:"Games"})})]})})]})]})}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[(0,lt.jsxs)(yT.div,{className:"flex-1 text-center lg:text-left",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:t,children:[(0,lt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-black mb-4 sm:mb-6",children:"Why Braille Learning Matters"}),(0,lt.jsx)("p",{className:"text-lg sm:text-xl lg:text-2xl font-light text-black mb-6 sm:mb-8",children:'"Learn to read the world with your fingertips."'}),(0,lt.jsxs)("div",{className:"text-base sm:text-lg text-black leading-relaxed space-y-3 sm:space-y-4",children:[(0,lt.jsx)("p",{children:"Explains the information access gap for people with visual impairments"}),(0,lt.jsx)("p",{children:"Connects Braille literacy to independence and empowerment"}),(0,lt.jsx)("p",{children:"Includes a short story or testimonial from a real user"})]})]}),(0,lt.jsx)(yT.div,{className:"flex-1",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:n,children:(0,lt.jsx)("img",{src:"/images/figma/braille-why-matters-image.png",alt:"Why Braille Learning Matters",className:"w-full h-auto object-cover rounded-lg shadow-lg"})})]})})}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[(0,lt.jsx)(yT.div,{className:"flex-1 order-2 lg:order-1",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:t,children:(0,lt.jsx)("img",{src:"/images/figma/how-to-use-app-image.png",alt:"How to Use the App",className:"w-full h-auto object-cover rounded-lg shadow-lg"})}),(0,lt.jsxs)(yT.div,{className:"flex-1 text-center lg:text-left order-1 lg:order-2",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:n,children:[(0,lt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-black mb-4 sm:mb-6",children:"How to Use the App"}),(0,lt.jsx)("p",{className:"text-lg sm:text-xl lg:text-2xl font-light text-black mb-6 sm:mb-8",children:'"Learn Braille easily with our app \u2014 just follow the steps!"'}),(0,lt.jsxs)("div",{className:"text-base sm:text-lg text-black leading-relaxed space-y-3 sm:space-y-4",children:[(0,lt.jsx)("p",{children:"Start learning \u2014 choose letters, numbers"}),(0,lt.jsx)("p",{children:"Play games and take quizzes to test your skills."}),(0,lt.jsx)("p",{children:"Earn cool badges and see how far you've come!"})]})]})]})})}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[(0,lt.jsxs)(yT.div,{className:"flex-1 text-center lg:text-left",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:t,children:[(0,lt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-black mb-4 sm:mb-6",children:"Accessibility Features"}),(0,lt.jsx)("p",{className:"text-lg sm:text-xl lg:text-2xl font-light text-black mb-6 sm:mb-8",children:'"Designed for Everyone"'}),(0,lt.jsxs)("div",{className:"text-base sm:text-lg text-black leading-relaxed space-y-3 sm:space-y-4",children:[(0,lt.jsxs)("p",{children:[(0,lt.jsx)("strong",{children:"Screen Reader Support:"})," Automatically reads text aloud"]}),(0,lt.jsxs)("p",{children:[(0,lt.jsx)("strong",{children:"Audio Guide:"})," Voice instructions for learning content"]}),(0,lt.jsxs)("p",{children:[(0,lt.jsx)("strong",{children:"High Contrast & Large Text:"})," Visual enhancements for low vision users"]})]})]}),(0,lt.jsx)(yT.div,{className:"flex-1",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:n,children:(0,lt.jsx)("img",{src:"/images/figma/accessibility-features-image.png",alt:"Accessibility Features",className:"w-full h-auto object-cover rounded-lg shadow-lg"})})]})})}),(0,lt.jsxs)(yT.section,{className:"py-16 sm:py-20 lg:py-24 bg-gradient-to-br from-blue-600 via-blue-700 to-purple-800 relative overflow-hidden",initial:"initial",whileInView:"animate",viewport:{once:!1,amount:.3},variants:e,children:[(0,lt.jsxs)("div",{className:"absolute inset-0",children:[(0,lt.jsx)("div",{className:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full"}),(0,lt.jsx)("div",{className:"absolute top-32 right-20 w-16 h-16 bg-blue-300/20 rounded-full"}),(0,lt.jsx)("div",{className:"absolute bottom-20 left-32 w-12 h-12 bg-purple-300/20 rounded-full"}),(0,lt.jsx)("div",{className:"absolute bottom-10 right-10 w-24 h-24 bg-white/5 rounded-full"})]}),(0,lt.jsxs)("div",{className:"max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8 relative z-10",children:[(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!1},children:[(0,lt.jsx)("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6 sm:mb-8",children:"Start Your Braille Journey Today!"}),(0,lt.jsx)("p",{className:"text-xl sm:text-2xl text-blue-100 mb-8 sm:mb-10 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of learners who have mastered Braille with our interactive platform. Experience accessible learning designed for everyone."})]}),(0,lt.jsxs)(yT.div,{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!1},children:[(0,lt.jsxs)(et,{to:"/signup",className:"group w-full sm:w-auto bg-white text-blue-600 px-8 sm:px-10 py-4 rounded-xl text-lg font-semibold hover:bg-blue-50 transition-all duration-300 transform hover:scale-105 shadow-lg text-center inline-flex items-center justify-center",children:["Get Started Free",(0,lt.jsx)("svg",{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),(0,lt.jsxs)(et,{to:"/learn/practice",className:"group w-full sm:w-auto border-2 border-white text-white px-8 sm:px-10 py-4 rounded-xl text-lg font-semibold hover:bg-white hover:text-blue-600 transition-all duration-300 transform hover:scale-105 text-center inline-flex items-center justify-center",children:[(0,lt.jsx)("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Try Practice"]})]}),(0,lt.jsxs)(yT.div,{className:"mt-12 sm:mt-16",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.6},viewport:{once:!1},children:[(0,lt.jsx)("p",{className:"text-blue-200 text-sm sm:text-base mb-6",children:"Trusted by learners worldwide"}),(0,lt.jsxs)("div",{className:"flex justify-center items-center space-x-8 text-blue-200",children:[(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-white",children:"1000+"}),(0,lt.jsx)("div",{className:"text-sm",children:"Active Learners"})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-white",children:"95%"}),(0,lt.jsx)("div",{className:"text-sm",children:"Success Rate"})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-white",children:"24/7"}),(0,lt.jsx)("div",{className:"text-sm",children:"Support"})]})]})]})]})]})]})},BT=()=>{const t=ee(),{user:n}=tb(),[r,s]=(0,e.useState)([]),[i,a]=(0,e.useState)(0),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(new Set),{isConnected:m,setOnDataCallback:p}=ob(),[f,g]=(0,e.useState)([]),[y,v]=(0,e.useState)(!1),b=Object.keys(TT);(0,e.useEffect)(()=>{w(),n&&x()},[n]);const x=async()=>{if(n){console.log("\ud83d\udcca Loading user progress for:",n.email);try{const e=await pb(n);console.log("\ud83d\udcc8 Progress loaded:",e);const t=new Set;Object.entries(e.letters).forEach(e=>{let[n,r]=e;1===r&&(t.add(n),console.log(`\u2705 Letter ${n} is already completed`))}),h(t),console.log("\ud83c\udfaf Total completed letters:",t.size)}catch(e){console.error("\u274c Failed to load user progress:",e)}}else console.log("\ud83d\udd10 No user logged in - skipping progress load")},w=()=>{const e=[...b].sort(()=>Math.random()-.5);s(e.slice(0,10)),a(0),l([]),u(!1)},k=(0,e.useCallback)(async e=>{if(0===r.length||0===e.length)return;const s=r[i],o=DT(s);if(console.log("\ud83d\udd0d Checking answer:",{targetLetter:s,inputDots:e,targetDots:o,user:n?n.email:"not logged in",alreadyCompleted:d.has(s)}),o&&JSON.stringify(e.sort())===JSON.stringify(o.sort())){console.log("\u2705 Correct answer!");try{"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const e=new SpeechSynthesisUtterance(s);e.rate=.8,e.pitch=1,e.volume=1,e.lang="en-US",e.onstart=()=>{console.log(`\ud83d\udd0a TTS started: ${s}`)},e.onend=()=>{console.log(`\u2705 TTS finished: ${s}`)},e.onerror=e=>{console.error("\u274c TTS error:",e)},console.log(`\ud83c\udfb5 Attempting to speak: "${s}"`),console.log("Available voices:",speechSynthesis.getVoices().length),speechSynthesis.speak(e)},100)):console.error("\u274c speechSynthesis not supported in this browser")}catch(c){console.error("\u274c TTS error:",c)}if(n&&!d.has(s)){console.log("\ud83d\udcbe Attempting to save progress to Firestore...");try{await(async(e,t)=>{console.log("\ud83d\udd25 updateLetterProgress called with:",{userId:e.uid,email:e.email,letter:t}),console.log("\ud83d\uddc2\ufe0f Firebase Console URL:",`https://console.firebase.google.com/project/braille-app-19a76/firestore/data/~2Fusers~2F${e.uid}~2FlearningProgress~2Fdata`);try{const n=oy(Jv,"users",e.uid,"learningProgress","data");console.log("\ud83d\udccd Firestore reference path:",`users/${e.uid}/learningProgress/data`);const r=await uv(n);if(console.log("\ud83d\udcc4 Document exists:",r.exists()),r.exists()){console.log("\ud83d\udd04 Updating existing document...");const e=r.data();console.log("\ud83d\udcca Current progress:",e),await pv(n,{[`letters.${t}`]:1,updatedAt:yv()}),console.log("\u2705 Document updated successfully")}else{console.log("\ud83c\udd95 Creating new document...");const e=mb();e.letters[t]=1,console.log("\ud83d\udcdd Initial progress to save:",e),await mv(n,e),console.log("\u2705 New document created successfully")}console.log(`\ud83c\udfaf Letter ${t} progress updated successfully`),console.log("\ud83d\udd0d Verifying save by reading back data...");const s=await uv(n);if(s.exists()){const e=s.data();console.log("\u2705 Verification successful! Current data:",{letter:t,status:e.letters[t],fullLettersData:e.letters,updatedAt:e.updatedAt})}else console.log("\u26a0\ufe0f Verification failed - document not found after save")}catch(c){throw console.error("\ud83d\udca5 Error updating letter progress:",c),console.error("Error details:",{code:c.code,message:c.message,stack:c.stack}),c}})(n,s),h(e=>new Set([...e,s])),console.log(`\ud83c\udf89 Letter ${s} progress saved to database successfully!`)}catch(c){console.error("\u274c Failed to save letter progress:",c)}}else n?d.has(s)&&console.log(`\u2139\ufe0f Letter ${s} already completed - skipping save`):console.log("\u26a0\ufe0f User not logged in - skipping database save");ET().fire({toast:!0,position:"top-end",icon:"success",title:"Correct!",text:`${s} is correct!`,showConfirmButton:!1,timer:1500,timerProgressBar:!0}),i+1>=r.length?setTimeout(()=>{u(!0),setTimeout(()=>{ET().fire({icon:"success",title:"Completed!",text:"All letters completed!",confirmButtonText:"Practice Again",cancelButtonText:"Back to Learning Menu",showCancelButton:!0,allowOutsideClick:!0}).then(e=>{e.isConfirmed?w():e.isDismissed&&e.dismiss===ET().DismissReason.cancel&&t("/learn")})},1500)},1e3):setTimeout(()=>{a(e=>e+1),l([])},1e3)}},[r,i,n,d]);(0,e.useEffect)(()=>{if(m){const e=e=>{const t=PT(e);t.includes(-1)?N():t.includes(-2)?console.log("Space input received"):t.length>0&&(g(t),l(t),setTimeout(()=>k(t),300),setTimeout(()=>{g([])},500))};p(e)}},[m,k]);const S=e=>{let t;t=o.includes(e)?o.filter(t=>t!==e):[...o,e].sort((e,t)=>e-t),l(t),setTimeout(()=>k(t),100)},N=()=>{l([]),g([])},C=r[i]||"",E=r.length>0?(i+1)/r.length*100:0,T=DT(C),j=T?OT(T):"";return(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,lt.jsxs)("div",{className:"mx-auto",children:[(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto text-center my-8",children:[(0,lt.jsx)(rb,{title:"Alphabet Learning (A\u2013Z)"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"Match the braille pattern for each letter"}),!n&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,lt.jsx)("p",{className:"text-yellow-800 text-sm",children:"\ud83d\udcda Sign in to save your learning progress!"})}),(0,lt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:(0,lt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${E}%`}})}),(0,lt.jsxs)("div",{className:"text-sm text-gray-600",children:["Progress: ",i+1," of ",r.length,n&&d.size>0&&(0,lt.jsxs)("span",{className:"ml-4 text-yellow-600",children:["\u2022 ",d.size,"/26 letters learned overall"]})]})]}),(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-2xl p-8 mb-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsxs)("div",{className:"mb-4",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Current Challenge:"}),(0,lt.jsx)("div",{className:"text-6xl font-bold text-gray-800 mb-4",children:r.map((e,t)=>(0,lt.jsx)("span",{className:"inline-block mx-2 "+(t===i?"text-blue-600 bg-blue-100 px-4 py-2 rounded-lg":t<i?"text-green-500":"text-gray-300"),children:e},t))})]}),(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Target Pattern:"}),(0,lt.jsx)("div",{className:"text-8xl font-mono text-blue-600",children:j})]}),(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Your Input:"}),(0,lt.jsx)("div",{className:"text-6xl font-mono text-green-600",children:o.length>0?OT(o):"\u2800"})]})]}),y&&(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Braille Keyboard"}),(0,lt.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[1,2,3].map(e=>(0,lt.jsx)("button",{onClick:()=>S(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(o.includes(e)?"bg-blue-500 text-white border-blue-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-blue-400"),children:e},e))}),(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[4,5,6].map(e=>(0,lt.jsx)("button",{onClick:()=>S(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(o.includes(e)?"bg-blue-500 text-white border-blue-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-blue-400"),children:e},e))})]})]})]}),(0,lt.jsxs)("button",{onClick:()=>v(!y),className:`fixed left-4 top-1/2 transform -translate-y-1/2 w-16 h-16 rounded-full shadow-2xl transition-all duration-300 z-50 ${y?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"} text-white font-bold text-xs flex flex-col items-center justify-center`,children:[(0,lt.jsx)("div",{className:"text-lg",children:"\u283f"}),(0,lt.jsx)("div",{children:y?"Hide":"Show"})]}),(0,lt.jsxs)("div",{className:"max-w-[968px] mx-auto bg-white rounded-3xl shadow-lg p-6",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Alphabet Reference"}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-6 mb-4 text-xs",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-blue-100 border border-blue-500 rounded"}),(0,lt.jsx)("span",{children:"Current"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-green-100 border border-green-500 rounded"}),(0,lt.jsx)("span",{children:"Session Complete"})]}),n&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-500 rounded"}),(0,lt.jsx)("span",{children:"Learned \u2713"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-gray-50 border border-gray-200 rounded"}),(0,lt.jsx)("span",{children:"Not Started"})]})]}),(0,lt.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:b.map((e,t)=>{const n=DT(e),s=n?OT(n):"",a=r.slice(0,i).includes(e),o=r[i]===e,l=d.has(e);return(0,lt.jsxs)("div",{className:"p-3 rounded-lg text-center transition-all border-2 min-w-[60px] "+(o?"bg-blue-100 border-blue-500 scale-105":a?"bg-green-100 border-green-500":l?"bg-yellow-100 border-yellow-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"),children:[(0,lt.jsxs)("div",{className:"font-bold text-lg text-gray-800",children:[e,l&&(0,lt.jsx)("span",{className:"text-yellow-600 ml-1",children:"\u2713"})]}),(0,lt.jsx)("div",{className:"text-2xl font-mono text-blue-600",children:s})]},e)})})]}),c&&(0,lt.jsxs)("div",{className:"text-center mt-8 space-y-4",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-4",children:"\ud83c\udf89 Congratulations! All letters completed! \ud83c\udf89"}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,lt.jsx)("button",{onClick:w,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg",children:"Practice Again"}),(0,lt.jsx)("button",{onClick:()=>t("/learn"),className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:"Back to Learning Menu"})]})]}),(0,lt.jsx)("div",{className:"my-10 flex justify-center",children:(0,lt.jsx)("button",{onClick:()=>t("/learn/alphabet-mode"),className:"mb-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Modes"})})]})})},UT=()=>{const e=ee();return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,lt.jsxs)("div",{className:"text-center mb-12 py-20",children:[(0,lt.jsx)(rb,{title:"Alphabet Learning (A\u2013Z)"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600 mx-auto w-full max-w-[700px] mt-6",children:'Different languages around the world have their own mappings for the alphabet to braille dots. Here are the "dot combinations" for English Braille.'})]}),(0,lt.jsx)("div",{className:"flex justify-center items-center gap-10 p-10",children:(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl",children:[{id:"Letters",title:"Letters",description:"Practice alphabet letters",path:"/learn/alphabet",icon:"\ud83d\udd24"},{id:"Words",title:"Words",description:"Practice words",path:"/learn/words",icon:"\ud83d\udcdd"},{id:"phrases",title:"Phrases",description:"Practice phrases",path:"/learn/phrases",icon:"\ud83d\udcac"}].map(t=>(0,lt.jsx)("div",{onClick:()=>{return n=t.path,void e(n);var n},className:"group bg-white border border-gray-200 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:scale-105 hover:border-primary-300 relative",style:{width:"180px",height:"180px",boxShadow:"5px 5px 5px 0px rgba(0, 0, 0, 0.25)"},children:(0,lt.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4 p-6",children:[(0,lt.jsx)("div",{className:"text-4xl font-mono text-primary-500 group-hover:text-primary-600 transition-colors",children:t.icon}),(0,lt.jsx)("h3",{className:"text-2xl font-light text-gray-800 text-center group-hover:text-primary-600 transition-colors",children:t.title}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 text-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute bg-white p-3 rounded-lg shadow-lg border mt-8 max-w-xs z-10",children:t.description})]})},t.id))})}),(0,lt.jsx)("div",{className:"flex justify-center mt-8",children:(0,lt.jsxs)("button",{onClick:()=>e("/learn"),className:"bg-gray-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,lt.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lt.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Learn Hub"]})})]})})},$T=()=>(0,lt.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,lt.jsxs)("section",{className:"relative overflow-hidden sm:min-h-screen min-h-[600px] max-h-[700px]",children:[(0,lt.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('/images/figma/Learn-hero-bg.png')"}}),(0,lt.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 sm:pt-40 lg:pt-48 pb-16 sm:pb-24 lg:pb-32",children:(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.8},className:"w-full lg:w-6/12 text-center lg:text-left mx-auto lg:mx-0",children:[(0,lt.jsx)("p",{className:"text-base sm:text-lg text-white mb-4 max-w-2xl mx-auto lg:mx-0",children:"Learn the Alphabet and Numbers with Braille"}),(0,lt.jsx)("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6",style:{fontFamily:"Irish Grover"},children:"Learn Braille"}),(0,lt.jsxs)("p",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl text-white mb-8 max-w-2xl mx-auto font-light lg:mx-0",children:["Ready to learn?",(0,lt.jsx)("br",{}),"3 modes are waiting for you!"]}),(0,lt.jsxs)(et,{to:"/learn/alphabet",className:"inline-flex items-center gap-3 bg-transparent border-2 border-white text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl text-lg sm:text-xl lg:text-2xl font-light hover:bg-white hover:text-gray-900 transition-all duration-300",children:["Learn",(0,lt.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-24 px-4 sm:px-6",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.6,delay:.2},className:"text-center mb-12 sm:mb-16",children:(0,lt.jsx)(rb,{title:"Learning Mode"})}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8 max-w-6xl mx-auto",children:[{id:"alphabet",title:"Alphabet Learning",subtitle:"Example words with pronunciation support",description:"Let's explore Braille letters together! Learn A\u2013Z with example words and pronunciation support!",path:"/learn/alphabet-mode",image:"/images/figma/learn-alphabet.jpg",bgColor:"from-blue-100 to-purple-100"},{id:"numbers",title:"Number Learning",subtitle:"Visual and audio representation of number Braille",description:"Explore Braille numbers from 0 to 9 using visual representations and clear audio pronunciation support!",path:"/learn/numbers",image:"/images/figma/learn-number.png",bgColor:"from-green-100 to-blue-100"},{id:"practice",title:"Practice Mode",subtitle:"Instant feedback and corrections",description:"In Practice Mode, you can enter Braille using a keyboard or tactile device and receive immediate feedback to help you learn and improve.",path:"/learn/practice",image:"/images/figma/learn-practice.jpg",bgColor:"from-purple-100 to-pink-100"}].map((e,t)=>(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.6,delay:.4+.1*t},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group",children:[(0,lt.jsx)("div",{className:"aspect-[3/2] overflow-hidden bg-gray-900",children:(0,lt.jsx)(et,{to:e.path,children:(0,lt.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),(0,lt.jsxs)("div",{className:"flex flex-col p-4 sm:p-6",style:{height:"280px"},children:[(0,lt.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 mb-2",children:e.title}),(0,lt.jsx)("p",{className:"text-sm text-gray-600 mb-4 font-light",children:e.subtitle}),(0,lt.jsx)("p",{className:"text-sm text-gray-900 mb-6 font-light leading-relaxed",children:e.description}),(0,lt.jsx)("div",{className:"mt-auto",children:(0,lt.jsx)(et,{to:e.path,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md text-center font-medium hover:bg-blue-700 transition-colors duration-200 block",children:"Let's Learn"})})]})]},e.id))})]})}),(0,lt.jsxs)("div",{className:"space-y-0",children:[(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-24 bg-gradient-to-r from-blue-50 to-purple-50",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,lt.jsxs)(yT.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!1,amount:.3},transition:{duration:.6},className:"order-2 lg:order-1",children:[(0,lt.jsx)(sb,{subtitle:"Example words with pronunciation support"}),(0,lt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-light text-gray-900 mb-4 sm:mb-6",children:"Alphabet Learning (A\u2013Z)"}),(0,lt.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-gray-900 font-light leading-relaxed mb-6 sm:mb-8",children:"Let's explore Braille letters together! Learn A\u2013Z with example words and pronunciation support!"}),(0,lt.jsx)(et,{to:"/learn/alphabet",className:"w-full sm:w-auto text-center inline-block bg-blue-600 text-white text-base sm:text-lg lg:text-xl py-3 sm:py-4 px-8 sm:px-12 rounded-md font-medium hover:bg-blue-700 transition-colors duration-200",children:"Alphabet Learning"})]}),(0,lt.jsx)(yT.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!1,amount:.3},transition:{duration:.6},className:"order-1 lg:order-2 aspect-square bg-gray-900 rounded-lg overflow-hidden",style:{maxWidth:500},children:(0,lt.jsx)("img",{src:"/images/figma/learn-alphabet.jpg",alt:"Alphabet Learning",className:"w-full h-full object-cover"})})]})})}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-24 bg-gradient-to-r from-green-50 to-blue-50",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,lt.jsx)(yT.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!1,amount:.3},transition:{duration:.6},className:"aspect-square bg-gray-900 rounded-lg overflow-hidden",style:{maxWidth:500},children:(0,lt.jsx)("img",{src:"/images/figma/learn-number.png",alt:"Number Learning",className:"w-full h-full object-contain"})}),(0,lt.jsxs)(yT.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!1,amount:.3},transition:{duration:.6},children:[(0,lt.jsx)(sb,{subtitle:"Visual and audio representation of number Braille"}),(0,lt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-light text-gray-900 mb-4 sm:mb-6",children:"Number Learning (0\u20139)"}),(0,lt.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-gray-900 font-light leading-relaxed mb-6 sm:mb-8",children:"Explore Braille numbers from 0 to 9 using visual representations and clear audio pronunciation support!"}),(0,lt.jsx)(et,{to:"/learn/numbers",className:"w-full sm:w-auto text-center inline-block bg-blue-600 text-white text-base sm:text-lg lg:text-xl py-3 sm:py-4 px-8 sm:px-12 rounded-md font-medium hover:bg-blue-700 transition-colors duration-200",children:"Number Learning"})]})]})})}),(0,lt.jsx)("section",{className:"py-12 sm:py-16 lg:py-24 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,lt.jsxs)(yT.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!1,amount:.3},transition:{duration:.6},className:"order-2 lg:order-1",children:[(0,lt.jsx)(sb,{subtitle:"Instant feedback and corrections"}),(0,lt.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-light text-gray-900 mb-4 sm:mb-6",children:"Practice Mode"}),(0,lt.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-gray-900 font-light leading-relaxed mb-6 sm:mb-8",children:"In Practice Mode, you can enter Braille using a keyboard or tactile device and receive immediate feedback to help you learn and improve."}),(0,lt.jsx)(et,{to:"/learn/practice",className:"w-full sm:w-auto text-center inline-block bg-blue-600 text-white text-base sm:text-lg lg:text-xl py-3 sm:py-4 px-8 sm:px-12 rounded-md font-medium hover:bg-blue-700 transition-colors duration-200",children:"Practice Mode"})]}),(0,lt.jsx)(yT.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!1,amount:.3},transition:{duration:.6},className:"order-1 lg:order-2 aspect-square bg-gray-900 rounded-lg overflow-hidden",style:{maxWidth:500},children:(0,lt.jsx)("img",{src:"/images/figma/learn-practice.jpg",alt:"Practice Mode",className:"w-full h-full object-cover"})})]})})})]})]}),zT=()=>{const t=ee(),{user:n}=tb(),[r,s]=(0,e.useState)([]),[i,a]=(0,e.useState)(0),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(new Set),{isConnected:m,setOnDataCallback:p}=ob(),[f,g]=(0,e.useState)([]),[y,v]=(0,e.useState)(!1),b=Object.keys(jT);(0,e.useEffect)(()=>{w(),n&&x()},[n]);const x=async()=>{if(n){console.log("\ud83d\udcca Loading user progress for:",n.email);try{const e=await pb(n);console.log("\ud83d\udcc8 Progress loaded:",e);const t=new Set;Object.entries(e.numbers).forEach(e=>{let[n,r]=e;1===r&&(t.add(n),console.log(`\u2705 Number ${n} is already completed`))}),h(t),console.log("\ud83c\udfaf Total completed numbers:",t.size)}catch(e){console.error("\u274c Failed to load user progress:",e)}}else console.log("\ud83d\udd10 No user logged in - skipping progress load")},w=()=>{const e=[...b].sort(()=>Math.random()-.5);s(e.slice(0,10)),a(0),l([]),u(!1)},k=(0,e.useCallback)(async e=>{if(0===r.length||0===e.length)return;const s=r[i],o=DT(s);if(console.log("\ud83d\udd0d Checking answer:",{targetNumber:s,inputDots:e,targetDots:o,user:n?n.email:"not logged in",alreadyCompleted:d.has(s)}),o&&JSON.stringify(e.sort())===JSON.stringify(o.sort())){console.log("\u2705 Correct answer!");const e={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"}[s]||s;try{"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=1,t.lang="en-US",t.onstart=()=>{console.log(`\ud83d\udd0a TTS started: ${e}`)},t.onend=()=>{console.log(`\u2705 TTS finished: ${e}`)},t.onerror=e=>{console.error("\u274c TTS error:",e)},console.log(`\ud83c\udfb5 Attempting to speak: "${e}"`),console.log("Available voices:",speechSynthesis.getVoices().length),speechSynthesis.speak(t)},100)):console.error("\u274c speechSynthesis not supported in this browser")}catch(c){console.error("\u274c TTS error:",c)}if(n&&!d.has(s)){console.log("\ud83d\udcbe Attempting to save progress to Firestore...");try{await fb(n,s),h(e=>new Set([...e,s])),console.log(`\ud83c\udf89 Number ${s} progress saved to database successfully!`)}catch(c){console.error("\u274c Failed to save number progress:",c)}}else n?d.has(s)&&console.log(`\u2139\ufe0f Number ${s} already completed - skipping save`):console.log("\u26a0\ufe0f User not logged in - skipping database save");ET().fire({toast:!0,position:"top-end",icon:"success",title:"Correct!",text:`${s} is correct!`,showConfirmButton:!1,timer:1500,timerProgressBar:!0}),i+1>=r.length?setTimeout(()=>{u(!0),setTimeout(()=>{ET().fire({icon:"success",title:"Completed!",text:"All numbers completed!",confirmButtonText:"Practice Again",cancelButtonText:"Back to Learning Menu",showCancelButton:!0,allowOutsideClick:!0}).then(e=>{e.isConfirmed?w():e.isDismissed&&e.dismiss===ET().DismissReason.cancel&&t("/learn")})},1500)},1e3):setTimeout(()=>{a(e=>e+1),l([])},1e3)}},[r,i,n,d]);(0,e.useEffect)(()=>{if(m){const e=e=>{const t=PT(e);t.includes(-1)?N():t.includes(-2)?console.log("Space input received"):t.length>0&&(g(t),l(t),setTimeout(()=>k(t),300),setTimeout(()=>{g([])},500))};p(e)}},[m,k,p]);const S=e=>{let t;t=o.includes(e)?o.filter(t=>t!==e):[...o,e].sort((e,t)=>e-t),l(t),setTimeout(()=>k(t),100)},N=()=>{l([]),g([])},C=r[i]||"",E=r.length>0?(i+1)/r.length*100:0,T=DT(C),j=T?OT(T):"";return(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,lt.jsxs)("div",{className:"mx-auto",children:[(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto text-center my-8",children:[(0,lt.jsx)(rb,{title:"Number Learning (0\u20139)"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:'Different languages around the world have their own mappings for the numbers to braille dots. Here are the "dot combinations" for English Braille numbers.'}),!n&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,lt.jsx)("p",{className:"text-yellow-800 text-sm",children:"\ud83d\udcda Sign in to save your learning progress!"})}),n&&(0,lt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[(0,lt.jsxs)("p",{className:"text-blue-800 text-sm mb-2",children:["\ud83d\udc1b Debug: Logged in as ",n.email]}),(0,lt.jsx)("button",{onClick:async()=>{console.log("\ud83e\uddea Manual test: Trying to save number 5");try{await fb(n,"5"),console.log("\u2705 Manual test successful!"),alert("Test successful! Check console and Firebase.")}catch(e){console.error("\u274c Manual test failed:",e),alert("Test failed! Check console for details.")}},className:"bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600",children:"Test Firebase Save"})]}),(0,lt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:(0,lt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${E}%`}})}),(0,lt.jsxs)("div",{className:"text-sm text-gray-600",children:["Progress: ",i+1," of ",r.length,n&&d.size>0&&(0,lt.jsxs)("span",{className:"ml-4 text-yellow-600",children:["\u2022 ",d.size,"/10 numbers learned overall"]})]})]}),(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-2xl p-8 mb-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsxs)("div",{className:"mb-4",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Current Challenge:"}),(0,lt.jsx)("div",{className:"text-6xl font-bold text-gray-800 mb-4",children:r.map((e,t)=>(0,lt.jsx)("span",{className:"inline-block mx-2 "+(t===i?"text-blue-600 bg-blue-100 px-4 py-2 rounded-lg":t<i?"text-green-500":"text-gray-300"),children:e},t))})]}),(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Target Pattern:"}),(0,lt.jsx)("div",{className:"text-8xl font-mono text-blue-600",children:j})]}),(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Your Input:"}),(0,lt.jsx)("div",{className:"text-6xl font-mono text-green-600",children:o.length>0?OT(o):"\u2800"})]})]}),y&&(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Braille Keyboard"}),(0,lt.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[1,2,3].map(e=>(0,lt.jsx)("button",{onClick:()=>S(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(o.includes(e)?"bg-blue-500 text-white border-blue-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-blue-400"),children:e},e))}),(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[4,5,6].map(e=>(0,lt.jsx)("button",{onClick:()=>S(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(o.includes(e)?"bg-blue-500 text-white border-blue-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-blue-400"),children:e},e))})]})]})]}),(0,lt.jsxs)("button",{onClick:()=>v(!y),className:`fixed left-4 top-1/2 transform -translate-y-1/2 w-16 h-16 rounded-full shadow-2xl transition-all duration-300 z-50 ${y?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"} text-white font-bold text-xs flex flex-col items-center justify-center`,children:[(0,lt.jsx)("div",{className:"text-lg",children:"\u283f"}),(0,lt.jsx)("div",{children:y?"Hide":"Show"})]}),(0,lt.jsxs)("div",{className:"max-w-[1000px] mx-auto bg-white rounded-3xl shadow-lg p-6",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Number Reference (0-9)"}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-6 mb-4 text-xs",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-blue-100 border border-blue-500 rounded"}),(0,lt.jsx)("span",{children:"Current"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-green-100 border border-green-500 rounded"}),(0,lt.jsx)("span",{children:"Session Complete"})]}),n&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-500 rounded"}),(0,lt.jsx)("span",{children:"Learned \u2713"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("div",{className:"w-4 h-4 bg-gray-50 border border-gray-200 rounded"}),(0,lt.jsx)("span",{children:"Not Started"})]})]}),(0,lt.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:[{num:"1",braille:"\u2801"},{num:"2",braille:"\u2803"},{num:"3",braille:"\u2809"},{num:"4",braille:"\u2819"},{num:"5",braille:"\u2811"},{num:"6",braille:"\u280b"},{num:"7",braille:"\u281b"},{num:"8",braille:"\u2813"},{num:"9",braille:"\u280a"},{num:"0",braille:"\u281a"}].map((e,t)=>{const n=r.slice(0,i).includes(e.num),s=r[i]===e.num,a=d.has(e.num);return(0,lt.jsxs)("div",{className:"p-3 rounded-lg text-center transition-all border-2 min-w-[80px] "+(s?"bg-blue-100 border-blue-500 scale-105":n?"bg-green-100 border-green-500":a?"bg-yellow-100 border-yellow-500":t%2===0?"bg-white border-gray-200 hover:bg-gray-100":"bg-gray-100 border-gray-300 hover:bg-gray-200"),children:[(0,lt.jsx)("div",{className:"text-2xl font-mono text-blue-600 mb-1",children:e.braille}),(0,lt.jsxs)("div",{className:"font-bold text-lg text-gray-800",children:[e.num,a&&(0,lt.jsx)("span",{className:"text-yellow-600 ml-1",children:"\u2713"})]})]},e.num)})})]}),c&&(0,lt.jsxs)("div",{className:"text-center mt-8 space-y-4",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-4",children:"\ud83c\udf89 Congratulations! All numbers completed! \ud83c\udf89"}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,lt.jsx)("button",{onClick:w,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg",children:"Practice Again"}),(0,lt.jsx)("button",{onClick:()=>t("/learn"),className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:"Back to Learning Menu"})]})]}),(0,lt.jsx)("div",{className:"my-10 flex justify-center",children:(0,lt.jsx)("button",{onClick:()=>t("/learn"),className:"mb-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Learning Menu"})})]})})},qT={Greetings:["good morning","good afternoon","good evening","good night","hello there","how are you","nice to meet you","see you later","have a nice day","take care"],"Daily Conversation":["excuse me","thank you","you are welcome","i am sorry","no problem","what time is it","where is the bathroom","can you help me","i need help","how much is this"],"School Life":["what is your name","how old are you","where do you live","what grade are you in","do you like school","what is your favorite subject","can i borrow your pencil","when is the test","homework is hard","lunch time"],"Food & Restaurant":["i am hungry","i am thirsty","what would you like","can i have the menu","i would like to order","the food is delicious","can i have the check","table for two please","i am allergic to nuts","water please"]},HT=()=>{const t=ee(),{user:n}=tb(),[r,s]=(0,e.useState)([]),[i,a]=(0,e.useState)(0),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),[m,p]=(0,e.useState)({}),{isConnected:f,setOnDataCallback:g}=ob(),[y,v]=(0,e.useState)([]),[b,x]=(0,e.useState)(!1),w=Object.keys(qT);(0,e.useEffect)(()=>{n&&k()},[n]),(0,e.useEffect)(()=>{d&&S()},[d]);const k=async()=>{if(n){console.log("\ud83d\udcca Loading user progress for:",n.email);try{const e=await pb(n);console.log("\ud83d\udcc8 Progress loaded:",e);const t={};Object.entries(e.phrases).forEach(e=>{let[n,r]=e;t[n]=new Set,Object.entries(r).forEach(e=>{let[r,s]=e;1===s&&(t[n].add(r),console.log(`\u2705 Phrase "${r}" in ${n} is already completed`))})}),p(t),console.log("\ud83c\udfaf Total completed phrases by category:",Object.entries(t).map(e=>{let[t,n]=e;return`${t}: ${n.size}`}).join(", "))}catch(e){console.error("\u274c Failed to load user progress:",e)}}else console.log("\ud83d\udd10 No user logged in - skipping progress load")},S=()=>{if(!d)return;const e=[...qT[d]].sort(()=>Math.random()-.5);s(e.slice(0,3)),a(0),l(""),u(!1)},N=async e=>{var s;const c=e||o;if(0===r.length||0===c.trim().length)return;const h=r[i];if(console.log("\ud83d\udd0d Checking phrase answer:",{targetPhrase:h,currentInput:c.toLowerCase().trim(),user:n?n.email:"not logged in",selectedCategory:d,alreadyCompleted:null===(s=m[d])||void 0===s?void 0:s.has(h)}),c.toLowerCase().trim()===h.toLowerCase()){var f,g;console.log("\u2705 Correct phrase answer!");try{"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const e=new SpeechSynthesisUtterance(h);e.rate=.8,e.pitch=1,e.volume=1,e.lang="en-US",e.onstart=()=>{console.log(`\ud83d\udd0a TTS started: ${h}`)},e.onend=()=>{console.log(`\u2705 TTS finished: ${h}`)},e.onerror=e=>{console.error("\u274c TTS error:",e)},console.log(`\ud83c\udfb5 Attempting to speak: "${h}"`),console.log("Available voices:",speechSynthesis.getVoices().length),speechSynthesis.speak(e)},100)):console.error("\u274c speechSynthesis not supported in this browser")}catch(y){console.error("\u274c TTS error:",y)}if(!n||null!==(f=m[d])&&void 0!==f&&f.has(h))n?null!==(g=m[d])&&void 0!==g&&g.has(h)&&console.log(`\u2139\ufe0f Phrase "${h}" already completed - skipping save`):console.log("\u26a0\ufe0f User not logged in - skipping database save");else{console.log("\ud83d\udcbe Attempting to save phrase progress to Firestore...");try{await yb(n,d,h),p(e=>({...e,[d]:new Set([...e[d]||[],h])})),console.log(`\ud83c\udf89 Phrase "${h}" in category "${d}" progress saved to database successfully!`)}catch(y){console.error("\u274c Failed to save phrase progress:",y)}}ET().fire({toast:!0,position:"top-end",icon:"success",title:"Correct!",text:`"${h}" is correct!`,showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),i+1>=r.length?setTimeout(()=>{u(!0),setTimeout(()=>{ET().fire({icon:"success",title:"Completed!",text:"All phrases completed!",confirmButtonText:"Practice Again",cancelButtonText:"Back to Learning Menu",showCancelButton:!0,allowOutsideClick:!0}).then(e=>{e.isConfirmed?S():e.isDismissed&&e.dismiss===ET().DismissReason.cancel&&t("/learn")})},1500)},1e3):setTimeout(()=>{a(i+1),l("")},1500)}};(0,e.useEffect)(()=>{if(f){const e=e=>{const t=PT(e);if(t.includes(-1))T();else if(t.includes(-2))E();else if(t.length>0){v(t);const e=RT(t);if(e&&e.match(/[A-Z]/)){const t=o+e.toLowerCase();l(t),setTimeout(()=>{N(t)},300)}setTimeout(()=>{v([])},500)}};g(e)}},[f,o,r,i]);const C=e=>{const t=y.includes(e)?y.filter(t=>t!==e):[...y,e];v(t)},E=()=>{const e=o+" ";l(e),setTimeout(()=>{N(e)},100)},T=()=>{l(e=>e.slice(0,-1)),v([])},j=r[i]||"",_=r.length>0?(i+1)/r.length*100:0;return d?(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-100 p-4",children:(0,lt.jsxs)("div",{className:"mx-auto",children:[(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto text-center my-8",children:[(0,lt.jsx)(rb,{title:`Phrases - ${d}`}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"Type the phrase using braille patterns - phrases are automatically checked when complete"}),!n&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,lt.jsx)("p",{className:"text-yellow-800 text-sm",children:"\ud83d\udcda Sign in to save your learning progress!"})}),(0,lt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:(0,lt.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 h-3 rounded-full transition-all duration-500",style:{width:`${_}%`}})}),(0,lt.jsxs)("div",{className:"text-sm text-gray-600",children:["Progress: ",i+1," of ",r.length,n&&m[d]&&(0,lt.jsxs)("span",{className:"ml-4 text-green-600",children:["\u2022 ",m[d].size,"/",qT[d].length," phrases learned in this category"]})]})]}),(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-lg p-6 mb-6",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Progress"}),(0,lt.jsx)("div",{className:"flex justify-center space-x-2 flex-wrap",children:r.map((e,t)=>{const n=t<i,r=t===i;return(0,lt.jsx)("div",{className:"px-3 py-2 rounded-lg text-sm font-semibold transition-all mb-2 "+(r?"bg-green-100 border-2 border-green-500 text-green-700":n?"bg-teal-100 border-2 border-teal-500 text-teal-700":"bg-gray-100 border-2 border-gray-300 text-gray-500"),children:e},t)})})]}),(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-2xl p-8 mb-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsxs)("div",{className:"mb-4",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Current Phrase:"}),(0,lt.jsx)("div",{className:"text-4xl font-bold text-green-600 mb-4",children:j.toUpperCase()})]}),(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Your Input:"}),(0,lt.jsx)("div",{className:"text-2xl font-mono text-teal-600 min-h-[3rem] border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.toUpperCase()||"Type here..."})]})]}),b&&(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Braille Keyboard"}),(0,lt.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[1,2,3].map(e=>(0,lt.jsx)("button",{onClick:()=>C(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(y.includes(e)?"bg-green-500 text-white border-green-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-green-400"),children:e},e))}),(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[4,5,6].map(e=>(0,lt.jsx)("button",{onClick:()=>C(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(y.includes(e)?"bg-green-500 text-white border-green-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-green-400"),children:e},e))}),(0,lt.jsxs)("div",{className:"flex flex-col space-y-2 ml-8",children:[(0,lt.jsx)("button",{onClick:()=>{if(0===y.length)return;const e=RT(y);if(e&&e.match(/[A-Z]/)){const t=o+e.toLowerCase();l(t),setTimeout(()=>{N(t)},100)}v([])},disabled:0===y.length,className:"flex items-center justify-center px-4 py-2 rounded-lg font-semibold transition-all "+(0===y.length?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:(0,lt.jsx)("span",{className:"material-icons",children:"input"})}),(0,lt.jsx)("button",{onClick:E,className:"flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:(0,lt.jsx)("span",{className:"material-icons",children:"space_bar"})}),(0,lt.jsx)("button",{onClick:T,disabled:0===o.length,className:"flex items-center justify-center px-4 py-2 rounded-lg font-semibold transition-all "+(0===o.length?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"),children:(0,lt.jsx)("span",{className:"material-icons",children:"backspace"})})]})]})]})]}),(0,lt.jsxs)("button",{onClick:()=>x(!b),className:`fixed left-4 top-1/2 transform -translate-y-1/2 w-16 h-16 rounded-full shadow-2xl transition-all duration-300 z-50 ${b?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white font-bold text-xs flex flex-col items-center justify-center`,children:[(0,lt.jsx)("div",{className:"text-lg",children:"\u283f"}),(0,lt.jsx)("div",{children:b?"Hide":"Show"})]}),(0,lt.jsxs)("div",{className:"max-w-[968px] mx-auto bg-white rounded-3xl shadow-lg p-6 mb-6",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Alphabet Reference"}),(0,lt.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:Object.keys(TT).map((e,t)=>{const n=DT(e),r=n?OT(n):"";return(0,lt.jsxs)("div",{className:"p-3 rounded-lg text-center transition-all border-2 min-w-[60px] bg-gray-50 border-gray-200 hover:bg-gray-100",children:[(0,lt.jsx)("div",{className:"font-bold text-lg text-gray-800",children:e}),(0,lt.jsx)("div",{className:"text-2xl font-mono text-green-600",children:r})]},e)})})]}),c&&(0,lt.jsxs)("div",{className:"text-center mt-8 space-y-4",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-4",children:"\ud83c\udf89 Congratulations! All phrases completed! \ud83c\udf89"}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,lt.jsx)("button",{onClick:S,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg",children:"Practice Again"}),(0,lt.jsx)("button",{onClick:()=>t("/learn"),className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:"Back to Learning Menu"})]})]}),(0,lt.jsx)("div",{className:"max-w-3xl mx-auto text-center my-6",children:(0,lt.jsx)("button",{onClick:()=>h(""),className:"mb-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Categories"})})]})}):(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-100 p-4",children:(0,lt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto text-center my-8",children:[(0,lt.jsx)(rb,{title:"Phrases - Choose Category"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"Select a category to start the phrases learning"}),!n&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,lt.jsx)("p",{className:"text-yellow-800 text-sm",children:"\ud83d\udcda Sign in to save your learning progress!"})}),n&&(0,lt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[(0,lt.jsxs)("p",{className:"text-blue-800 text-sm mb-2",children:["\ud83d\udc1b Debug: Logged in as ",n.email]}),(0,lt.jsx)("button",{onClick:async()=>{console.log('\ud83e\uddea Manual test: Trying to save phrase "good morning" in "Greetings"');try{await yb(n,"Greetings","good morning"),console.log("\u2705 Manual test successful!"),alert("Test successful! Check console and Firebase.")}catch(e){console.error("\u274c Manual test failed:",e),alert("Test failed! Check console for details.")}},className:"bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600",children:"Test Firebase Save"})]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(e=>{var t;const r=qT[e].length,s=(null===(t=m[e])||void 0===t?void 0:t.size)||0;return(0,lt.jsxs)("div",{onClick:()=>h(e),className:"bg-white rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition-all transform hover:scale-105",children:[(0,lt.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:e}),(0,lt.jsxs)("p",{className:"text-gray-600",children:[r," phrases available"]}),n&&(0,lt.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:["\u2713 ",s,"/",r," completed"]}),(0,lt.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Click to start learning with ",e.toLowerCase()," phrases"]})]},e)})}),(0,lt.jsx)("div",{className:"my-10 flex justify-center",children:(0,lt.jsx)("button",{onClick:()=>t("/learn/alphabet-mode"),className:"mb-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Modes"})})]})})},WT=()=>{const t=ee(),{isConnected:n,setOnDataCallback:r}=ob(),[s,i]=(0,e.useState)([]),[a,o]=(0,e.useState)("\u2800"),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(""),[h,m]=(0,e.useState)(""),[p,f]=(0,e.useState)(!0);(0,e.useEffect)(()=>{if(n){const e=e=>{const t=PT(e);t.includes(-1)?g():t.length>0&&!t.includes(-1)&&!t.includes(-2)&&(i(t),y(t),c(new Date))};r(e)}},[n]);const g=()=>{i([]),o("\u2800"),d(""),m(""),c(null)},y=e=>{if(0===e.length)return o("\u2800"),d(""),void m("");const t=OT(e);o(t);const n=Object.keys(TT).find(t=>JSON.stringify(TT[t])===JSON.stringify(e));d(n||"");const r=Object.keys(jT).find(t=>JSON.stringify(jT[t])===JSON.stringify(e));if(m(r||""),n||r){const e=n||v(r||"");b(e)}},v=e=>({0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"}[e]||e),b=e=>{try{"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const t=new SpeechSynthesisUtterance(e);t.rate=.8,t.pitch=1,t.volume=1,t.lang="en-US",t.onstart=()=>{console.log(`\ud83d\udd0a TTS started: ${e}`)},t.onend=()=>{console.log(`\u2705 TTS finished: ${e}`)},t.onerror=e=>{console.error("\u274c TTS error:",e)},console.log(`\ud83c\udfb5 Speaking in Practice Mode: "${e}"`),speechSynthesis.speak(t)},100)):console.error("\u274c speechSynthesis not supported in this browser")}catch(t){console.error("\u274c TTS error:",t)}},x=e=>{const t=s.includes(e)?s.filter(t=>t!==e):[...s,e].sort((e,t)=>e-t);i(t),y(t),c(new Date)},w=()=>0===s.length?"":s.join(", ");return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[(0,lt.jsxs)("div",{className:"text-center mb-16",children:[(0,lt.jsx)(rb,{title:"Practice Mode"}),(0,lt.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Practice braille typing and see the letter and number you type instantly!"})]}),(0,lt.jsxs)("div",{className:"flex justify-center items-center gap-12 mb-16",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg border-[3px] border-blue-500 p-8 w-80 h-96 flex flex-col justify-center items-center",children:[(0,lt.jsx)("div",{className:"text-8xl font-bold text-blue-600 mb-4",children:a}),(0,lt.jsx)("div",{className:"text-6xl font-bold text-blue-600 mb-4",children:u||"?"}),(0,lt.jsx)("div",{className:"text-3xl text-gray-600 mb-4",children:w()}),u&&(0,lt.jsxs)("button",{onClick:()=>b(u),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:['\ud83d\udd0a Play "',u,'"']})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg border-[3px] border-blue-500 p-8 w-80 h-96 flex flex-col justify-center items-center",children:[(0,lt.jsx)("div",{className:"text-8xl font-bold text-blue-600 mb-4",children:a}),(0,lt.jsx)("div",{className:"text-6xl font-bold text-blue-600 mb-4",children:h||"?"}),(0,lt.jsx)("div",{className:"text-3xl text-gray-600 mb-4",children:w()}),h&&(0,lt.jsxs)("button",{onClick:()=>b(v(h)),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:['\ud83d\udd0a Play "',v(h),'"']})]}),p&&(0,lt.jsx)("div",{className:"bg-gradient-to-b from-blue-500 to-blue-700 rounded-3xl p-5 w-48 h-96",children:(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-2 h-full place-items-center",children:[(0,lt.jsx)("button",{onClick:()=>x(1),className:"w-16 h-16 rounded-xl border-[3px] transition-all "+(s.includes(1)?"bg-green-200 border-green-400":"bg-white border-green-400 hover:bg-green-50")}),(0,lt.jsx)("button",{onClick:()=>x(4),className:"w-16 h-16 rounded-xl border-[3px] transition-all "+(s.includes(4)?"bg-green-200 border-green-400":"bg-white border-green-400 hover:bg-green-50")}),(0,lt.jsx)("button",{onClick:()=>x(2),className:"w-16 h-16 rounded-xl border-[3px] transition-all "+(s.includes(2)?"bg-green-200 border-green-400":"bg-white border-green-400 hover:bg-green-50")}),(0,lt.jsx)("button",{onClick:()=>x(5),className:"w-16 h-16 rounded-xl border-[3px] transition-all "+(s.includes(5)?"bg-green-200 border-green-400":"bg-white border-green-400 hover:bg-green-50")}),(0,lt.jsx)("button",{onClick:()=>x(3),className:"w-16 h-16 rounded-xl border-[3px] transition-all "+(s.includes(3)?"bg-green-200 border-green-400":"bg-white border-green-400 hover:bg-green-50")}),(0,lt.jsx)("button",{onClick:()=>x(6),className:"w-16 h-16 rounded-xl border-[3px] transition-all "+(s.includes(6)?"bg-green-200 border-green-400":"bg-white border-green-400 hover:bg-green-50")}),(0,lt.jsx)("button",{onClick:g,className:"w-16 h-16 bg-white rounded-xl border-[3px] border-gray-300 hover:bg-gray-50 transition-all flex items-center justify-center text-center",title:"Backspace / Clear",children:(0,lt.jsx)("span",{className:"material-icons",children:"backspace"})}),(0,lt.jsx)("button",{className:"w-16 h-16 bg-white rounded-xl border-[3px] border-gray-300 hover:bg-gray-50 transition-all flex items-center justify-center text-center",title:"Enter",children:(0,lt.jsx)("span",{className:"material-icons",children:"keyboard_return"})})]})})]}),(0,lt.jsxs)("button",{onClick:()=>f(!p),className:`fixed left-4 top-1/2 transform -translate-y-1/2 w-16 h-16 rounded-full shadow-2xl transition-all duration-300 z-50 ${p?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"} text-white font-bold text-xs flex flex-col items-center justify-center`,children:[(0,lt.jsx)("div",{className:"text-lg",children:"\u283f"}),(0,lt.jsx)("div",{children:p?"Hide":"Show"})]}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-8 mb-16",children:[(0,lt.jsx)("div",{className:"bg-gray-100 rounded-full p-8 w-96 h-32 flex items-center justify-center",children:(0,lt.jsx)("span",{className:"text-8xl font-mono text-blue-600",children:a})}),(0,lt.jsx)("div",{className:"bg-gray-100 rounded-full p-8 w-96 h-32 flex items-center justify-center",children:(0,lt.jsx)("span",{className:"text-8xl font-bold text-blue-600",children:u||h||"?"})}),(0,lt.jsx)("div",{className:"bg-gray-100 rounded-full p-8 w-96 h-32 flex items-center justify-center",children:(0,lt.jsx)("span",{className:"text-8xl font-bold text-blue-600",children:h||"?"})})]}),(0,lt.jsx)("div",{className:"text-center mt-8",children:(0,lt.jsx)("button",{onClick:()=>t("/learn"),className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Learning Menu"})})]})})},GT={"School & Education":["subject","homework","classroom","teacher","student","uniform","blackboard","pencil","eraser","ruler","exam","grade","notebook","lesson","test","answer","question","textbook","desk","schedule"],"Food & Drink":["breakfast","lunch","dinner","coffee","tea","water","juice","bread","butter","cheese","milk","sugar","salt","pepper","fruit","vegetable","meat","fish","chicken","rice"],"Family & Relationships":["mother","father","sister","brother","grandmother","grandfather","aunt","uncle","cousin","family","parent","child","baby","friend","neighbor","husband","wife","daughter","son","relative"],"Home & Daily Life":["house","kitchen","bedroom","bathroom","living","door","window","table","chair","bed","shower","toilet","mirror","clock","lamp","television","phone","computer","book","newspaper"]},KT=()=>{const t=ee(),{user:n}=tb(),[r,s]=(0,e.useState)([]),[i,a]=(0,e.useState)(0),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),[m,p]=(0,e.useState)({}),{isConnected:f,setOnDataCallback:g}=ob(),[y,v]=(0,e.useState)([]),[b,x]=(0,e.useState)(!1),w=Object.keys(GT);(0,e.useEffect)(()=>{n&&k()},[n]),(0,e.useEffect)(()=>{d&&S()},[d]);const k=async()=>{if(n){console.log("\ud83d\udcca Loading user progress for:",n.email);try{const e=await pb(n);console.log("\ud83d\udcc8 Progress loaded:",e);const t={};Object.entries(e.words).forEach(e=>{let[n,r]=e;t[n]=new Set,Object.entries(r).forEach(e=>{let[r,s]=e;1===s&&(t[n].add(r),console.log(`\u2705 Word ${r} in ${n} is already completed`))})}),p(t),console.log("\ud83c\udfaf Total completed words by category:",Object.entries(t).map(e=>{let[t,n]=e;return`${t}: ${n.size}`}).join(", "))}catch(e){console.error("\u274c Failed to load user progress:",e)}}else console.log("\ud83d\udd10 No user logged in - skipping progress load")},S=()=>{if(!d)return;const e=[...GT[d]].sort(()=>Math.random()-.5);s(e.slice(0,5)),a(0),l(""),u(!1)},N=async e=>{var s;const c=e||o;if(0===r.length||0===c.length)return;const h=r[i];if(console.log("\ud83d\udd0d Checking word answer:",{targetWord:h,currentInput:c.toLowerCase(),user:n?n.email:"not logged in",selectedCategory:d,alreadyCompleted:null===(s=m[d])||void 0===s?void 0:s.has(h)}),c.toLowerCase()===h.toLowerCase()){var f,g;console.log("\u2705 Correct word answer!");try{"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const e=new SpeechSynthesisUtterance(h);e.rate=.8,e.pitch=1,e.volume=1,e.lang="en-US",e.onstart=()=>{console.log(`\ud83d\udd0a TTS started: ${h}`)},e.onend=()=>{console.log(`\u2705 TTS finished: ${h}`)},e.onerror=e=>{console.error("\u274c TTS error:",e)},console.log(`\ud83c\udfb5 Attempting to speak: "${h}"`),console.log("Available voices:",speechSynthesis.getVoices().length),speechSynthesis.speak(e)},100)):console.error("\u274c speechSynthesis not supported in this browser")}catch(y){console.error("\u274c TTS error:",y)}if(!n||null!==(f=m[d])&&void 0!==f&&f.has(h))n?null!==(g=m[d])&&void 0!==g&&g.has(h)&&console.log(`\u2139\ufe0f Word "${h}" already completed - skipping save`):console.log("\u26a0\ufe0f User not logged in - skipping database save");else{console.log("\ud83d\udcbe Attempting to save word progress to Firestore...");try{await gb(n,d,h),p(e=>({...e,[d]:new Set([...e[d]||[],h])})),console.log(`\ud83c\udf89 Word "${h}" in category "${d}" progress saved to database successfully!`)}catch(y){console.error("\u274c Failed to save word progress:",y)}}ET().fire({toast:!0,position:"top-end",icon:"success",title:"Correct!",text:`"${h}" is correct!`,showConfirmButton:!1,timer:1500,timerProgressBar:!0}),i+1>=r.length?setTimeout(()=>{u(!0),setTimeout(()=>{ET().fire({icon:"success",title:"Completed!",text:"All words completed!",confirmButtonText:"Practice Again",cancelButtonText:"Back to Learning Menu",showCancelButton:!0,allowOutsideClick:!0}).then(e=>{e.isConfirmed?S():e.isDismissed&&e.dismiss===ET().DismissReason.cancel&&t("/learn")})},1500)},1e3):setTimeout(()=>{a(i+1),l("")},1e3)}};(0,e.useEffect)(()=>{if(f){const e=e=>{const t=PT(e);if(t.includes(-1))E();else if(t.includes(-2)){const e=o+" ";l(e),setTimeout(()=>{N(e)},100)}else if(t.length>0){v(t);const e=RT(t);if(e&&e.match(/[A-Z]/)){const t=o+e.toLowerCase();l(t),setTimeout(()=>{N(t)},300)}setTimeout(()=>{v([])},500)}};g(e)}},[f,o,r,i]);const C=e=>{const t=y.includes(e)?y.filter(t=>t!==e):[...y,e];v(t)},E=()=>{l(e=>e.slice(0,-1)),v([])},T=r[i]||"",j=r.length>0?(i+1)/r.length*100:0;return d?(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-4",children:(0,lt.jsxs)("div",{className:"mx-auto",children:[(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto text-center my-8",children:[(0,lt.jsx)(rb,{title:`Words - ${d}`}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"Type the word using braille patterns - words are automatically checked when complete"}),!n&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,lt.jsx)("p",{className:"text-yellow-800 text-sm",children:"\ud83d\udcda Sign in to save your learning progress!"})}),(0,lt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:(0,lt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 h-3 rounded-full transition-all duration-500",style:{width:`${j}%`}})}),(0,lt.jsxs)("div",{className:"text-sm text-gray-600",children:["Progress: ",i+1," of ",r.length,n&&m[d]&&(0,lt.jsxs)("span",{className:"ml-4 text-purple-600",children:["\u2022 ",m[d].size,"/",GT[d].length," words learned in this category"]})]})]}),(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-lg p-6 mb-6",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Progress"}),(0,lt.jsx)("div",{className:"flex justify-center space-x-2 flex-wrap",children:r.map((e,t)=>{const n=t<i,r=t===i;return(0,lt.jsx)("div",{className:"px-3 py-2 rounded-lg text-sm font-semibold transition-all mb-2 "+(r?"bg-purple-100 border-2 border-purple-500 text-purple-700":n?"bg-green-100 border-2 border-green-500 text-green-700":"bg-gray-100 border-2 border-gray-300 text-gray-500"),children:e},t)})})]}),(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-2xl p-8 mb-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsxs)("div",{className:"mb-4",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Current Word:"}),(0,lt.jsx)("div",{className:"text-6xl font-bold text-purple-600 mb-4",children:T.toUpperCase()})]}),(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Your Input:"}),(0,lt.jsx)("div",{className:"text-4xl font-mono text-green-600 min-h-[3rem] border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.toUpperCase()||"Type here..."})]})]}),b&&(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Braille Keyboard"}),(0,lt.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[1,2,3].map(e=>(0,lt.jsx)("button",{onClick:()=>C(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(y.includes(e)?"bg-purple-500 text-white border-purple-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-purple-400"),children:e},e))}),(0,lt.jsx)("div",{className:"flex flex-col space-y-2",children:[4,5,6].map(e=>(0,lt.jsx)("button",{onClick:()=>C(e),className:"w-12 h-12 rounded-full border-2 font-bold text-lg transition-all "+(y.includes(e)?"bg-purple-500 text-white border-purple-500 scale-110":"bg-white text-gray-600 border-gray-300 hover:border-purple-400"),children:e},e))})]}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-4 mt-4",children:[(0,lt.jsx)("button",{onClick:E,className:"px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center space-x-2",children:(0,lt.jsx)("span",{className:"material-icons",children:"backspace"})}),(0,lt.jsx)("button",{onClick:()=>{if(0===y.length)return;const e=RT(y);if(e&&e.match(/[A-Z]/)){const t=o+e.toLowerCase();l(t),setTimeout(()=>{N(t)},100)}v([])},className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:(0,lt.jsx)("span",{className:"material-icons",children:"keyboard_return"})})]})]})]}),(0,lt.jsxs)("button",{onClick:()=>x(!b),className:`fixed left-4 top-1/2 transform -translate-y-1/2 w-16 h-16 rounded-full shadow-2xl transition-all duration-300 z-50 ${b?"bg-red-500 hover:bg-red-600":"bg-purple-500 hover:bg-purple-600"} text-white font-bold text-xs flex flex-col items-center justify-center`,children:[(0,lt.jsx)("div",{className:"text-lg",children:"\u283f"}),(0,lt.jsx)("div",{children:b?"Hide":"Show"})]}),(0,lt.jsxs)("div",{className:"max-w-[968px] mx-auto bg-white rounded-3xl shadow-lg p-6 mb-6",children:[(0,lt.jsx)("div",{className:"text-center mb-4 text-lg font-semibold text-gray-700",children:"Alphabet Reference"}),(0,lt.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:Object.keys(TT).map((e,t)=>{const n=DT(e),r=n?OT(n):"";return(0,lt.jsxs)("div",{className:"p-3 rounded-lg text-center transition-all border-2 min-w-[60px] bg-gray-50 border-gray-200 hover:bg-gray-100",children:[(0,lt.jsx)("div",{className:"font-bold text-lg text-gray-800",children:e}),(0,lt.jsx)("div",{className:"text-2xl font-mono text-purple-600",children:r})]},e)})})]}),c&&(0,lt.jsxs)("div",{className:"text-center mt-8 space-y-4",children:[(0,lt.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-4",children:"\ud83c\udf89 Congratulations! All words completed! \ud83c\udf89"}),(0,lt.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,lt.jsx)("button",{onClick:S,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg",children:"Practice Again"}),(0,lt.jsx)("button",{onClick:()=>t("/learn"),className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:"Back to Learning Menu"})]})]}),(0,lt.jsx)("div",{className:"max-w-3xl mx-auto text-center my-6",children:(0,lt.jsx)("button",{onClick:()=>h(""),className:"mb-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Categories"})})]})}):(0,lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-4",children:(0,lt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,lt.jsxs)("div",{className:"max-w-3xl mx-auto text-center my-8",children:[(0,lt.jsx)(rb,{title:"Words - Choose Category"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"Select a category to start the words learning"}),!n&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,lt.jsx)("p",{className:"text-yellow-800 text-sm",children:"\ud83d\udcda Sign in to save your learning progress!"})}),n&&(0,lt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[(0,lt.jsxs)("p",{className:"text-blue-800 text-sm mb-2",children:["\ud83d\udc1b Debug: Logged in as ",n.email]}),(0,lt.jsx)("button",{onClick:async()=>{console.log('\ud83e\uddea Manual test: Trying to save word "subject" in "School & Education"');try{await gb(n,"School & Education","subject"),console.log("\u2705 Manual test successful!"),alert("Test successful! Check console and Firebase.")}catch(e){console.error("\u274c Manual test failed:",e),alert("Test failed! Check console for details.")}},className:"bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600",children:"Test Firebase Save"})]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(e=>{var t;const r=GT[e].length,s=(null===(t=m[e])||void 0===t?void 0:t.size)||0;return(0,lt.jsxs)("div",{onClick:()=>h(e),className:"bg-white rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition-all transform hover:scale-105",children:[(0,lt.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:e}),(0,lt.jsxs)("p",{className:"text-gray-600",children:[r," words available"]}),n&&(0,lt.jsxs)("p",{className:"text-sm text-purple-600 mt-2",children:["\u2713 ",s,"/",r," completed"]}),(0,lt.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Click to start learning with ",e.toLowerCase()," words"]})]},e)})}),(0,lt.jsx)("div",{className:"my-10 flex justify-center",children:(0,lt.jsx)("button",{onClick:()=>t("/learn/alphabet-mode"),className:"mb-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u2190 Back to Modes"})})]})})},QT=[{id:"dog",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"DOG",hint:"\ucda9\uc131\uc2a4\ub7ec\uc6b4 \ubc18\ub824\ub3d9\ubb3c"},{id:"cat",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"CAT",hint:"\uc57c\uc639\ud558\uace0 \uc6b0\ub294 \ub3d9\ubb3c"},{id:"sun",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"SUN",hint:"\ub0ae\uc5d0 \ubc1d\uac8c \ube5b\ub098\ub294 \uac83"},{id:"tree",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"TREE",hint:"\uc232\uc5d0\uc11c \uc790\ub77c\ub294 \ud070 \uc2dd\ubb3c"},{id:"book",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"BOOK",hint:"\uc9c0\uc2dd\uc744 \ub2f4\uc740 \ubb3c\uac74"},{id:"car",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"CAR",hint:"\ub3c4\ub85c\ub97c \ub2ec\ub9ac\ub294 \uad50\ud1b5\uc218\ub2e8"},{id:"bird",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"BIRD",hint:"\ud558\ub298\uc744 \ub098\ub294 \ub3d9\ubb3c"},{id:"fish",imageUrl:"/images/quiz/quiz-sample-image.jpg",answer:"FISH",hint:"\ubb3c\uc5d0\uc11c \uc0ac\ub294 \ub3d9\ubb3c"}],YT=()=>{const[t,n]=(0,e.useState)(null),[r,s]=(0,e.useState)([]),[i,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(0),[b,x]=(0,e.useState)(0),{isConnected:w,setOnDataCallback:k}=ob(),S=(0,e.useCallback)(()=>{const e=QT[Math.floor(Math.random()*QT.length)];n(e);const t=e.answer.split("").map((e,t)=>({letter:e,isGuessed:!1,position:t}));s(t),a(""),l(0),u(!1),p([]),g("")},[]);(0,e.useEffect)(()=>{S()},[S]),(0,e.useEffect)(()=>{if(!w)return;k(e=>{const t=PT(e);if(t.includes(-1))C();else if(t.includes(-2))E();else if(t.length>0){p(t);const e=RT(t);e&&N(e.toUpperCase())}})},[w]);const N=e=>{if(!t||o>=t.answer.length)return;const n=t.answer[o];if(e===n){const n=[...r];n[o].isGuessed=!0,s(n);const c=i+e;a(c),l(o+1),p([]),g(""),c===t.answer&&T()}else ET().fire({title:"Incorrect!",text:`The correct character is '${n}'.`,icon:"error",timer:2e3,showConfirmButton:!1}),p([]),g("")},C=()=>{if(o>0){const e=o-1,t=[...r];t[e].isGuessed=!1,s(t),l(e),a(i.slice(0,-1)),p([]),g("")}},E=()=>{o<r.length-1&&(l(o+1),p([]),g(""))},T=()=>{v(y+1),x(b+1);const e=Math.round((y+1)/(b+1)*100);ET().fire({title:"Correct! \ud83c\udf89",html:`\n        <div class="text-center">\n          <p class="text-lg mb-2">You got '<strong>${null===t||void 0===t?void 0:t.answer}</strong>' correct!</p>\n          <p class="text-blue-600">Current accuracy: ${e}%</p>\n        </div>\n      `,icon:"success",showCancelButton:!0,confirmButtonText:"Next Question",cancelButtonText:"End Quiz",confirmButtonColor:"#3B82F6",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed?S():(()=>{const e=b>0?Math.round(y/b*100):0;let t="",n="info";e>=90?(t="Perfect! You are a Braille master! \ud83c\udf89",n="success"):e>=70?(t="Excellent! With more practice, you will be perfect! \ud83d\udc4d",n="success"):e>=50?(t="Good job! Practice a little more! \ud83d\udcaa",n="info"):(t="You need more practice. Don't give up! \ud83c\udf1f",n="warning"),ET().fire({title:"Quiz Complete!",html:`\n        <div class="text-center">\n          <p class="text-lg mb-4">${t}</p>\n          <div class="bg-gray-100 p-4 rounded-lg">\n            <p class="text-2xl font-bold text-blue-600 mb-2">${y} / ${b}</p>\n            <p class="text-gray-600">Accuracy: ${e}%</p>\n          </div>\n        </div>\n      `,icon:n,confirmButtonText:"Restart",showCancelButton:!0,cancelButtonText:"Exit",confirmButtonColor:"#3B82F6"}).then(e=>{e.isConfirmed&&(v(0),x(0),S())})})()})};return t?(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,lt.jsx)("button",{onClick:()=>{h(!d)},className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg shadow-lg transition-colors",title:"Toggle Braille Keyboard",children:(0,lt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,lt.jsx)("h1",{className:"text-4xl font-light text-gray-700 mb-4",children:"Image to Braille"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"See the image, guess the word, and type it in Braille to check your answer!"}),(0,lt.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-6 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-green-600 font-semibold",children:"Correct:"}),(0,lt.jsx)("span",{className:"text-green-600 font-bold text-lg",children:y})]}),(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Total:"}),(0,lt.jsx)("span",{className:"text-gray-700 font-bold text-lg",children:b})]}),b>0&&(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-blue-600",children:"Accuracy:"}),(0,lt.jsxs)("span",{className:"text-blue-600 font-bold text-lg",children:[Math.round(y/b*100),"%"]})]})]})]}),(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsx)(yT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex justify-center",children:(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("img",{src:t.imageUrl,alt:"Quiz Image",className:"w-80 h-64 object-cover rounded-lg shadow-lg"}),(0,lt.jsx)("button",{onClick:()=>{u(!c)},className:"absolute top-2 right-2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors",children:"Hint"})]})}),c&&t.hint&&(0,lt.jsx)(yT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center bg-yellow-100 border border-yellow-300 rounded-lg p-4 mx-auto max-w-md",children:(0,lt.jsxs)("p",{className:"text-yellow-800",children:["\ud83d\udca1 ",t.hint]})}),(0,lt.jsx)("div",{className:"flex justify-center",children:(0,lt.jsx)("div",{className:"flex gap-2",children:r.map((e,n)=>(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"w-16 h-20 rounded-xl border-2 flex items-center justify-center text-2xl font-light shadow-lg transition-all "+(e.isGuessed?"bg-green-100 border-green-400 text-green-800":o===n?"bg-red-100 border-red-400 text-white":"bg-white border-gray-300 text-gray-400"),children:e.isGuessed?e.letter:o===n?"?":""},`${t.id}-${n}`))})}),m.length>0&&(0,lt.jsx)(yT.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center",children:(0,lt.jsx)("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4",children:(0,lt.jsxs)("p",{className:"text-blue-800 text-center",children:["Input Braille: ",OT(m)," (",m.join(", "),")"]})})}),(0,lt.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,lt.jsx)("button",{onClick:()=>{ET().fire({title:"Skip this question?",html:`\n        <div class="text-center">\n          <p class="mb-2">The answer is '<strong>${null===t||void 0===t?void 0:t.answer}</strong>'.</p>\n          <p class="text-sm text-gray-600">Skipped questions will be counted as incorrect.</p>\n        </div>\n      `,icon:"question",showCancelButton:!0,confirmButtonText:"Next Question",cancelButtonText:"Continue",confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&(x(b+1),S())})},className:"px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Pass"}),(0,lt.jsx)("button",{onClick:S,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Next"})]})]}),d&&(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-12 bg-white rounded-lg shadow-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"Braille Alphabet Reference"}),(0,lt.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 lg:grid-cols-13 gap-2",children:Array.from({length:26},(e,t)=>{const n=String.fromCharCode(65+t),r=DT(n),s=r?OT(r):"\u2800";return(0,lt.jsxs)(yT.button,{onClick:()=>(e=>{N(e)})(n),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex flex-col items-center p-2 bg-gray-50 hover:bg-blue-50 border border-gray-200 rounded-lg transition-colors",children:[(0,lt.jsx)("div",{className:"text-3xl text-blue-600 mb-1",children:s}),(0,lt.jsx)("div",{className:"text-sm font-semibold text-gray-700",children:n})]},n)})})]})]})]}):(0,lt.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,lt.jsx)("div",{className:"text-xl",children:"Loading quiz..."})})},XT=[{id:"easy_1",question:"3 + 2 = ?",answer:5,difficulty:"easy",hint:"3\uac1c\uc5d0 2\uac1c\ub97c \ub354\ud558\uba74?"},{id:"easy_2",question:"8 - 3 = ?",answer:5,difficulty:"easy",hint:"8\uac1c\uc5d0\uc11c 3\uac1c\ub97c \ube7c\uba74?"},{id:"easy_3",question:"2 \xd7 3 = ?",answer:6,difficulty:"easy",hint:"2\ub97c 3\ubc88 \ub354\ud558\uba74?"},{id:"easy_4",question:"9 \xf7 3 = ?",answer:3,difficulty:"easy",hint:"9\ub97c 3\uac1c\ub85c \ub098\ub204\uba74?"},{id:"easy_5",question:"4 + 4 = ?",answer:8,difficulty:"easy",hint:"4\uac1c\uc5d0 4\uac1c\ub97c \ub354\ud558\uba74?"},{id:"medium_1",question:"12 + 8 = ?",answer:20,difficulty:"medium",hint:"12\uc5d0 8\uc744 \ub354\ud558\uba74?"},{id:"medium_2",question:"25 - 10 = ?",answer:15,difficulty:"medium",hint:"25\uc5d0\uc11c 10\uc744 \ube7c\uba74?"},{id:"medium_3",question:"6 \xd7 4 = ?",answer:24,difficulty:"medium",hint:"6\uc744 4\ubc88 \uacf1\ud558\uba74?"},{id:"medium_4",question:"36 \xf7 6 = ?",answer:6,difficulty:"medium",hint:"36\uc744 6\uc73c\ub85c \ub098\ub204\uba74?"},{id:"medium_5",question:"15 + 7 = ?",answer:22,difficulty:"medium",hint:"15\uc5d0 7\uc744 \ub354\ud558\uba74?"},{id:"hard_1",question:"10 + 5 \xd7 2 = ?",answer:20,difficulty:"hard",hint:"\uacf1\uc148\uc744 \uba3c\uc800 \uacc4\uc0b0\ud558\uc138\uc694!"},{id:"hard_2",question:"20 - 8 \xf7 2 = ?",answer:16,difficulty:"hard",hint:"\ub098\ub217\uc148\uc744 \uba3c\uc800 \uacc4\uc0b0\ud558\uc138\uc694!"},{id:"hard_3",question:"3 \xd7 4 + 5 = ?",answer:17,difficulty:"hard",hint:"\uacf1\uc148\uc744 \uba3c\uc800 \uacc4\uc0b0\ud558\uc138\uc694!"},{id:"hard_4",question:"24 \xf7 4 - 2 = ?",answer:4,difficulty:"hard",hint:"\ub098\ub217\uc148\uc744 \uba3c\uc800 \uacc4\uc0b0\ud558\uc138\uc694!"},{id:"hard_5",question:"5 + 3 \xd7 2 - 1 = ?",answer:10,difficulty:"hard",hint:"\uc5f0\uc0b0 \uc21c\uc11c\ub97c \uc798 \uc0dd\uac01\ud574\ubcf4\uc138\uc694!"}],JT=e=>{const t=e?(e=>XT.filter(t=>t.difficulty===e))(e):XT;return t[Math.floor(Math.random()*t.length)]},ZT=()=>{const[t,n]=(0,e.useState)(null),[r,s]=(0,e.useState)([]),[i,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)("easy"),[y,v]=(0,e.useState)(0),[b,x]=(0,e.useState)(0),[w,k]=(0,e.useState)(60),[S,N]=(0,e.useState)(!1),{isConnected:C,setOnDataCallback:E}=ob();(0,e.useEffect)(()=>{let e=null;return S&&w>0?e=setInterval(()=>{k(e=>e-1)},1e3):0===w&&T(),()=>{e&&clearInterval(e)}},[S,w]);const T=()=>{N(!1),ET().fire({title:"Time's Up! \u23f0",html:`\n        <div class="text-center">\n          <p class="text-lg mb-4">Time limit has ended!</p>\n          <p class="mb-2">Answer: <strong>${null===t||void 0===t?void 0:t.answer}</strong></p>\n          <div class="bg-gray-100 p-4 rounded-lg">\n            <p class="text-2xl font-bold text-blue-600 mb-2">${y} / ${b}</p>\n            <p class="text-gray-600">Accuracy: ${b>0?Math.round(y/b*100):0}%</p>\n          </div>\n        </div>\n      `,icon:"warning",confirmButtonText:"Restart",confirmButtonColor:"#3B82F6"}).then(()=>{_()})},j=(0,e.useCallback)(()=>{const e=JT(f);n(e);const t=e.answer.toString().split("").map((e,t)=>({digit:e,isGuessed:!1,position:t}));s(t),a(""),l(0),u(!1),p([]),k(60),N(!0)},[f]),_=()=>{v(0),x(0),k(60),N(!1),j()};(0,e.useEffect)(()=>{j()},[j]),(0,e.useEffect)(()=>{if(!C)return;E(e=>{const t=PT(e);if(t.includes(-1))I();else if(t.includes(-2))P();else if(t.length>0){p(t);const e=RT(t);e&&/^\d$/.test(e)&&A(e)}})},[C]);const A=e=>{if(!t||o>=t.answer.toString().length)return;const n=t.answer.toString()[o];if(e===n){const n=[...r];n[o].isGuessed=!0,s(n);const c=i+e;a(c),l(o+1),p([]),c===t.answer.toString()&&R()}else ET().fire({title:"Incorrect!",text:`The correct number is '${n}'.`,icon:"error",timer:2e3,showConfirmButton:!1}),p([])},I=()=>{if(o>0){const e=o-1,t=[...r];t[e].isGuessed=!1,s(t),l(e),a(i.slice(0,-1)),p([])}},P=()=>{o<r.length-1&&(l(o+1),p([]))},R=()=>{N(!1),v(y+1),x(b+1);const e=Math.round((y+1)/(b+1)*100);ET().fire({title:"Correct! \ud83c\udf89",html:`\n        <div class="text-center">\n          <p class="text-lg mb-2">Answer: <strong>${null===t||void 0===t?void 0:t.answer}</strong></p>\n          <p class="text-blue-600">Current accuracy: ${e}%</p>\n          <p class="text-sm text-gray-600 mt-2">Time remaining: ${w} seconds</p>\n        </div>\n      `,icon:"success",showCancelButton:!0,confirmButtonText:"Next Question",cancelButtonText:"End Quiz",confirmButtonColor:"#3B82F6",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed?j():D()})},D=()=>{const e=b>0?Math.round(y/b*100):0;let t="",n="info";e>=90?(t="Math genius! Perfect! \ud83c\udfc6",n="success"):e>=70?(t="Excellent! Your math skills are outstanding! \ud83c\udfaf",n="success"):e>=50?(t="Good job! With more practice, you'll be perfect! \ud83d\udcda",n="info"):(t="You need more practice. Don't give up! \ud83d\udcaa",n="warning"),ET().fire({title:"Math Quiz Complete!",html:`\n        <div class="text-center">\n          <p class="text-lg mb-4">${t}</p>\n          <div class="bg-gray-100 p-4 rounded-lg">\n            <p class="text-2xl font-bold text-blue-600 mb-2">${y} / ${b}</p>\n            <p class="text-gray-600">Accuracy: ${e}%</p>\n          </div>\n        </div>\n      `,icon:n,confirmButtonText:"Restart",showCancelButton:!0,cancelButtonText:"Exit",confirmButtonColor:"#3B82F6"}).then(e=>{e.isConfirmed&&_()})};return t?(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,lt.jsx)("button",{onClick:()=>{h(!d)},className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg shadow-lg transition-colors",title:"Toggle Braille Keyboard",children:(0,lt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,lt.jsx)("h1",{className:"text-4xl font-light text-gray-700 mb-4",children:"Math Quiz"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"See the question, solve the math, and type your answer in Braille to check if you're right!"}),(0,lt.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-6 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-green-600 font-semibold",children:"Correct:"}),(0,lt.jsx)("span",{className:"text-green-600 font-bold text-lg",children:y})]}),(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Total:"}),(0,lt.jsx)("span",{className:"text-gray-700 font-bold text-lg",children:b})]}),b>0&&(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-blue-600",children:"Accuracy:"}),(0,lt.jsxs)("span",{className:"text-blue-600 font-bold text-lg",children:[Math.round(y/b*100),"%"]})]}),(0,lt.jsx)("div",{className:"flex items-center gap-2",children:(0,lt.jsxs)("span",{className:"font-semibold "+(w<=10?"text-red-600":"text-orange-600"),children:["Time: ",w,"s"]})})]})]}),(0,lt.jsx)(yT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-8",children:(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-md p-2 flex gap-2",children:["easy","medium","hard"].map(e=>(0,lt.jsx)("button",{onClick:()=>{g(e),N(!1),j()},className:"px-4 py-2 rounded-md transition-colors "+(f===e?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"easy"===e?"Easy":"medium"===e?"Medium":"Hard"},e))})}),(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsx)(yT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex justify-center",children:(0,lt.jsxs)("div",{className:"bg-gray-100 rounded-3xl p-8 shadow-lg max-w-4xl w-full",children:[(0,lt.jsx)("h2",{className:"text-6xl font-normal text-blue-600 text-center",children:t.question}),(0,lt.jsx)("button",{onClick:()=>{u(!c)},className:"mt-4 mx-auto block bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded text-sm transition-colors",children:"Hint"})]})}),c&&t.hint&&(0,lt.jsx)(yT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center bg-yellow-100 border border-yellow-300 rounded-lg p-4 mx-auto max-w-md",children:(0,lt.jsxs)("p",{className:"text-yellow-800",children:["\ud83d\udca1 ",t.hint]})}),(0,lt.jsx)("div",{className:"flex justify-center",children:(0,lt.jsx)("div",{className:"flex gap-2",children:r.map((e,n)=>(0,lt.jsx)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"w-16 h-20 rounded-xl border-2 flex items-center justify-center text-2xl font-bold shadow-lg transition-all "+(e.isGuessed?"bg-green-100 border-green-400 text-blue-600":o===n?"bg-red-100 border-red-400 text-white":"bg-white border-gray-300 text-gray-400"),children:e.isGuessed?e.digit:o===n?"?":""},`${t.id}-${n}`))})}),m.length>0&&(0,lt.jsx)(yT.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center",children:(0,lt.jsx)("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4",children:(0,lt.jsxs)("p",{className:"text-blue-800 text-center",children:["Input Braille: ",OT(m)," (",m.join(", "),")"]})})}),(0,lt.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,lt.jsx)("button",{onClick:()=>{ET().fire({title:"Skip this question?",html:`\n        <div class="text-center">\n          <p class="mb-2">The answer is <strong>${null===t||void 0===t?void 0:t.answer}</strong>.</p>\n          <p class="text-sm text-gray-600">Skipped questions will be counted as incorrect.</p>\n        </div>\n      `,icon:"question",showCancelButton:!0,confirmButtonText:"Next Question",cancelButtonText:"Continue",confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&(x(b+1),j())})},className:"px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Pass"}),(0,lt.jsx)("button",{onClick:j,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Next"})]})]}),d&&(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-12 bg-white rounded-lg shadow-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"Braille Numbers Reference"}),(0,lt.jsx)("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-4",children:Object.entries(jT).map(e=>{let[t,n]=e;const r=OT(n);return(0,lt.jsxs)(yT.button,{onClick:()=>{A(t)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex flex-col items-center p-3 bg-gray-50 hover:bg-blue-50 border border-gray-200 rounded-lg transition-colors",children:[(0,lt.jsx)("div",{className:"text-4xl text-blue-600 mb-2",children:r}),(0,lt.jsx)("div",{className:"text-lg font-bold text-gray-700",children:t})]},t)})})]})]})]}):(0,lt.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,lt.jsx)("div",{className:"text-xl",children:"Loading math question..."})})},ej=[{id:"image-to-braille",title:"Image to Braille",description:"Quiz where you look at images and input the correct words in Braille",icon:"\ud83d\uddbc\ufe0f",route:"/quiz/image-to-braille",color:"from-blue-400 to-blue-600"},{id:"math-quiz",title:"Math Quiz",description:"Quiz where you solve math problems using Braille",icon:"\ud83e\uddee",route:"/quiz/math",color:"from-green-400 to-green-600"}],tj=()=>{const e=ee();return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,lt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,lt.jsx)("h1",{className:"text-5xl font-light text-gray-800 mb-4",children:"Quiz Zone"}),(0,lt.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Test your Braille skills through various quizzes!"})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:ej.map((t,n)=>{const r="image-to-braille"===t.id||"math-quiz"===t.id;return(0,lt.jsxs)(yT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},onClick:()=>function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e(t)}(t.route,r),className:"relative overflow-hidden rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 "+(r?"cursor-pointer hover:shadow-2xl":"cursor-not-allowed opacity-60"),children:[(0,lt.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${t.color}`}),(0,lt.jsxs)("div",{className:"relative p-8 text-white",children:[(0,lt.jsx)("div",{className:"text-6xl mb-4",children:t.icon}),(0,lt.jsx)("h3",{className:"text-2xl font-semibold mb-3",children:t.title}),(0,lt.jsx)("p",{className:"text-lg opacity-90 leading-relaxed mb-6",children:t.description}),(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+(r?"bg-white bg-opacity-20 text-white":"bg-gray-500 bg-opacity-50 text-gray-200"),children:r?"Available":"Coming Soon"}),r&&(0,lt.jsx)(yT.div,{animate:{x:[0,5,0]},transition:{repeat:1/0,duration:1.5},className:"text-2xl",children:"\u2192"})]})]}),r&&(0,lt.jsx)(yT.div,{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10 transition-opacity duration-300",whileHover:{opacity:.1}})]},t.id)})}),(0,lt.jsx)(yT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-16 text-center",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-2xl mx-auto",children:[(0,lt.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"How to Use Quizzes"}),(0,lt.jsxs)("div",{className:"text-left space-y-3 text-gray-600",children:[(0,lt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,lt.jsx)("span",{className:"text-blue-500 font-bold",children:"1."}),(0,lt.jsx)("span",{children:"Click on your desired quiz card to start"})]}),(0,lt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,lt.jsx)("span",{className:"text-blue-500 font-bold",children:"2."}),(0,lt.jsx)("span",{children:"Connect your Braille input device or use the on-screen keyboard"})]}),(0,lt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,lt.jsx)("span",{className:"text-blue-500 font-bold",children:"3."}),(0,lt.jsx)("span",{children:"Solve problems and check your score"})]}),(0,lt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,lt.jsx)("span",{className:"text-blue-500 font-bold",children:"4."}),(0,lt.jsx)("span",{children:"Improve your Braille skills through repeated practice"})]})]})]})})]})})};const nj=function(){return(0,lt.jsx)(eb,{children:(0,lt.jsx)(lb,{children:(0,lt.jsx)(Je,{children:(0,lt.jsxs)("div",{className:"min-h-screen bg-white flex flex-col ",children:[(0,lt.jsx)(nb,{}),(0,lt.jsx)("main",{className:"flex-1 ",children:(0,lt.jsxs)(ye,{children:[(0,lt.jsx)(fe,{path:"/",element:(0,lt.jsx)(VT,{})}),(0,lt.jsx)(fe,{path:"/learn",element:(0,lt.jsx)($T,{})}),(0,lt.jsx)(fe,{path:"/learn/alphabet-mode",element:(0,lt.jsx)(UT,{})}),(0,lt.jsx)(fe,{path:"/learn/alphabet",element:(0,lt.jsx)(BT,{})}),(0,lt.jsx)(fe,{path:"/learn/words",element:(0,lt.jsx)(KT,{})}),(0,lt.jsx)(fe,{path:"/learn/phrases",element:(0,lt.jsx)(HT,{})}),(0,lt.jsx)(fe,{path:"/learn/numbers",element:(0,lt.jsx)(zT,{})}),(0,lt.jsx)(fe,{path:"/learn/practice",element:(0,lt.jsx)(WT,{})}),(0,lt.jsx)(fe,{path:"/quiz",element:(0,lt.jsx)(tj,{})}),(0,lt.jsx)(fe,{path:"/quiz/image-to-braille",element:(0,lt.jsx)(YT,{})}),(0,lt.jsx)(fe,{path:"/quiz/math",element:(0,lt.jsx)(ZT,{})}),(0,lt.jsx)(fe,{path:"/games",element:(0,lt.jsx)(Eb,{})}),(0,lt.jsx)(fe,{path:"/games/typing-game",element:(0,lt.jsx)(MT,{})}),(0,lt.jsx)(fe,{path:"/games/typing-sprint",element:(0,lt.jsx)(FT,{})}),(0,lt.jsx)(fe,{path:"/login",element:(0,lt.jsx)(db,{})}),(0,lt.jsx)(fe,{path:"/signup",element:(0,lt.jsx)(hb,{})}),(0,lt.jsx)(fe,{path:"/my",element:(0,lt.jsx)(Nb,{})}),(0,lt.jsx)(fe,{path:"/about",element:(0,lt.jsx)(ub,{})}),(0,lt.jsx)(fe,{path:"/contact",element:(0,lt.jsx)(Cb,{})})]})}),(0,lt.jsx)(ct,{}),(0,lt.jsx)(cb,{})]})})})})},rj=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)})};t.createRoot(document.getElementById("root")).render((0,lt.jsx)(e.StrictMode,{children:(0,lt.jsx)(nj,{})})),rj()})()})();
//# sourceMappingURL=main.af1b75a3.js.map